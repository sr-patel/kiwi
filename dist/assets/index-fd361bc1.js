var Y0=Object.defineProperty;var J0=(e,t,n)=>t in e?Y0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jn=(e,t,n)=>(J0(e,typeof t!="symbol"?t+"":t,n),n),Ua=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var S=(e,t,n)=>(Ua(e,t,"read from private field"),n?n.call(e):t.get(e)),U=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z=(e,t,n,r)=>(Ua(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Go=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return S(e,t,r)}}),ee=(e,t,n)=>(Ua(e,t,"access private method"),n);function Z0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hh={exports:{}},fa={},ph={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),eg=Symbol.for("react.portal"),tg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),sg=Symbol.for("react.provider"),og=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),ld=Symbol.iterator;function cg(e){return e===null||typeof e!="object"?null:(e=ld&&e[ld]||e["@@iterator"],typeof e=="function"?e:null)}var mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,yh={};function Ss(e,t,n){this.props=e,this.context=t,this.refs=yh,this.updater=n||mh}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xh(){}xh.prototype=Ss.prototype;function Wu(e,t,n){this.props=e,this.context=t,this.refs=yh,this.updater=n||mh}var Vu=Wu.prototype=new xh;Vu.constructor=Wu;gh(Vu,Ss.prototype);Vu.isPureReactComponent=!0;var ud=Array.isArray,vh=Object.prototype.hasOwnProperty,Hu={current:null},wh={key:!0,ref:!0,__self:!0,__source:!0};function kh(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)vh.call(t,r)&&!wh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ao,type:e,key:o,ref:i,props:s,_owner:Hu.current}}function dg(e,t){return{$$typeof:Ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cd=/\/+/g;function $a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fg(""+e.key):t.toString(36)}function mi(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ao:case eg:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+$a(i,0):r,ud(s)?(n="",e!=null&&(n=e.replace(cd,"$&/")+"/"),mi(s,t,n,"",function(c){return c})):s!=null&&(Qu(s)&&(s=dg(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(cd,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ud(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+$a(o,l);i+=mi(o,t,n,u,s)}else if(u=cg(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+$a(o,l++),i+=mi(o,t,n,u,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Xo(e,t,n){if(e==null)return e;var r=[],s=0;return mi(e,r,"","",function(o){return t.call(n,o,s++)}),r}function hg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},gi={transition:null},pg={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:gi,ReactCurrentOwner:Hu};function bh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Xo,forEach:function(e,t,n){Xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xo(e,function(){t++}),t},toArray:function(e){return Xo(e,function(t){return t})||[]},only:function(e){if(!Qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Ss;X.Fragment=tg;X.Profiler=rg;X.PureComponent=Wu;X.StrictMode=ng;X.Suspense=ag;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;X.act=bh;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gh({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)vh.call(t,u)&&!wh.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ao,type:e.type,key:s,ref:o,props:r,_owner:i}};X.createContext=function(e){return e={$$typeof:og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sg,_context:e},e.Consumer=e};X.createElement=kh;X.createFactory=function(e){var t=kh.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:ig,render:e}};X.isValidElement=Qu;X.lazy=function(e){return{$$typeof:ug,_payload:{_status:-1,_result:e},_init:hg}};X.memo=function(e,t){return{$$typeof:lg,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=gi.transition;gi.transition={};try{e()}finally{gi.transition=t}};X.unstable_act=bh;X.useCallback=function(e,t){return at.current.useCallback(e,t)};X.useContext=function(e){return at.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return at.current.useDeferredValue(e)};X.useEffect=function(e,t){return at.current.useEffect(e,t)};X.useId=function(){return at.current.useId()};X.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return at.current.useMemo(e,t)};X.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};X.useRef=function(e){return at.current.useRef(e)};X.useState=function(e){return at.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return at.current.useTransition()};X.version="18.3.1";ph.exports=X;var b=ph.exports;const Z=fh(b),mg=Z0({__proto__:null,default:Z},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=b,yg=Symbol.for("react.element"),xg=Symbol.for("react.fragment"),vg=Object.prototype.hasOwnProperty,wg=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function Sh(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)vg.call(t,r)&&!kg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:yg,type:e,key:o,ref:i,props:s,_owner:wg.current}}fa.Fragment=xg;fa.jsx=Sh;fa.jsxs=Sh;hh.exports=fa;var a=hh.exports,vl={},jh={exports:{}},St={},Nh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,Q){var q=I.length;I.push(Q);e:for(;0<q;){var W=q-1>>>1,re=I[W];if(0<s(re,Q))I[W]=Q,I[q]=re,q=W;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Q=I[0],q=I.pop();if(q!==Q){I[0]=q;e:for(var W=0,re=I.length,ze=re>>>1;W<ze;){var Ge=2*(W+1)-1,Nt=I[Ge],ut=Ge+1,Ae=I[ut];if(0>s(Nt,q))ut<re&&0>s(Ae,Nt)?(I[W]=Ae,I[ut]=q,W=ut):(I[W]=Nt,I[Ge]=q,W=Ge);else if(ut<re&&0>s(Ae,q))I[W]=Ae,I[ut]=q,W=ut;else break e}}return Q}function s(I,Q){var q=I.sortIndex-Q.sortIndex;return q!==0?q:I.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],p=1,h=null,g=3,m=!1,v=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=I)r(c),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(c)}}function k(I){if(w=!1,x(I),!v)if(n(u)!==null)v=!0,We(j);else{var Q=n(c);Q!==null&&Ie(k,Q.startTime-I)}}function j(I,Q){v=!1,w&&(w=!1,d(F),F=-1),m=!0;var q=g;try{for(x(Q),h=n(u);h!==null&&(!(h.expirationTime>Q)||I&&!V());){var W=h.callback;if(typeof W=="function"){h.callback=null,g=h.priorityLevel;var re=W(h.expirationTime<=Q);Q=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(u)&&r(u),x(Q)}else r(u);h=n(u)}if(h!==null)var ze=!0;else{var Ge=n(c);Ge!==null&&Ie(k,Ge.startTime-Q),ze=!1}return ze}finally{h=null,g=q,m=!1}}var P=!1,T=null,F=-1,_=5,E=-1;function V(){return!(e.unstable_now()-E<_)}function $(){if(T!==null){var I=e.unstable_now();E=I;var Q=!0;try{Q=T(!0,I)}finally{Q?ne():(P=!1,T=null)}}else P=!1}var ne;if(typeof f=="function")ne=function(){f($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ie=Y.port2;Y.port1.onmessage=$,ne=function(){ie.postMessage(null)}}else ne=function(){y($,0)};function We(I){T=I,P||(P=!0,ne())}function Ie(I,Q){F=y(function(){I(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,We(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var q=g;g=Q;try{return I()}finally{g=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=g;g=I;try{return Q()}finally{g=q}},e.unstable_scheduleCallback=function(I,Q,q){var W=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=q+re,I={id:p++,callback:Q,priorityLevel:I,startTime:q,expirationTime:re,sortIndex:-1},q>W?(I.sortIndex=q,t(c,I),n(u)===null&&I===n(c)&&(w?(d(F),F=-1):w=!0,Ie(k,q-W))):(I.sortIndex=re,t(u,I),v||m||(v=!0,We(j))),I},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(I){var Q=g;return function(){var q=g;g=Q;try{return I.apply(this,arguments)}finally{g=q}}}})(Ch);Nh.exports=Ch;var bg=Nh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=b,bt=bg;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eh=new Set,ro={};function _r(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(ro[e]=t,e=0;e<t.length;e++)Eh.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=Object.prototype.hasOwnProperty,jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dd={},fd={};function Ng(e){return wl.call(fd,e)?!0:wl.call(dd,e)?!1:jg.test(e)?fd[e]=!0:(dd[e]=!0,!1)}function Cg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Eg(e,t,n,r){if(t===null||typeof t>"u"||Cg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function Ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qu,Ku);Ke[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qu,Ku);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qu,Ku);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gu(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Eg(t,n,s,r)&&(n=null),r||s===null?Ng(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kn=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Th=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Rh=Symbol.for("react.offscreen"),hd=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Ba;function Bs(e){if(Ba===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ba=t&&t[1]||""}return`
`+Ba+e}var Wa=!1;function Va(e,t){if(!e||Wa)return"";Wa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{Wa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bs(e):""}function Pg(e){switch(e.tag){case 5:return Bs(e.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Ar:return"Portal";case kl:return"Profiler";case Xu:return"StrictMode";case bl:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Th:return(e.displayName||"Context")+".Consumer";case Ph:return(e._context.displayName||"Context")+".Provider";case Yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:jl(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return jl(e(t))}catch{}}return null}function Tg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(t);case 8:return t===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rg(e){var t=Fh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=Rg(e))}function Mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nl(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lh(e,t){t=t.checked,t!=null&&Gu(e,"checked",t,!1)}function Cl(e,t){Lh(e,t);var n=Yn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?El(e,t.type,n):t.hasOwnProperty("defaultValue")&&El(e,t.type,Yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function md(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function El(e,t,n){(t!=="number"||Li(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ws(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yn(n)}}function Oh(e,t){var n=Yn(t.value),r=Yn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _h(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_h(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,Dh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function so(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fg=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(e){Fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qs[t]=qs[e]})});function Ih(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qs.hasOwnProperty(e)&&qs[e]?(""+t).trim():t+"px"}function zh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ih(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mg=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(Mg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Jr=null,Zr=null;function xd(e){if(e=Bo(e)){if(typeof Ll!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ya(t),Ll(e.stateNode,e.type,t))}}function Ah(e){Jr?Zr?Zr.push(e):Zr=[e]:Jr=e}function Uh(){if(Jr){var e=Jr,t=Zr;if(Zr=Jr=null,xd(e),t)for(e=0;e<t.length;e++)xd(t[e])}}function $h(e,t){return e(t)}function Bh(){}var Ha=!1;function Wh(e,t,n){if(Ha)return e(t,n);Ha=!0;try{return $h(e,t,n)}finally{Ha=!1,(Jr!==null||Zr!==null)&&(Bh(),Uh())}}function oo(e,t){var n=e.stateNode;if(n===null)return null;var r=ya(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Ol=!1;if(yn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Ol=!1}function Lg(e,t,n,r,s,o,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var Ks=!1,Oi=null,_i=!1,_l=null,Og={onError:function(e){Ks=!0,Oi=e}};function _g(e,t,n,r,s,o,i,l,u){Ks=!1,Oi=null,Lg.apply(Og,arguments)}function Dg(e,t,n,r,s,o,i,l,u){if(_g.apply(this,arguments),Ks){if(Ks){var c=Oi;Ks=!1,Oi=null}else throw Error(L(198));_i||(_i=!0,_l=c)}}function Dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(Dr(e)!==e)throw Error(L(188))}function Ig(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return vd(s),e;if(o===r)return vd(s),t;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Hh(e){return e=Ig(e),e!==null?Qh(e):null}function Qh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qh(e);if(t!==null)return t;e=e.sibling}return null}var qh=bt.unstable_scheduleCallback,wd=bt.unstable_cancelCallback,zg=bt.unstable_shouldYield,Ag=bt.unstable_requestPaint,Re=bt.unstable_now,Ug=bt.unstable_getCurrentPriorityLevel,ec=bt.unstable_ImmediatePriority,Kh=bt.unstable_UserBlockingPriority,Di=bt.unstable_NormalPriority,$g=bt.unstable_LowPriority,Gh=bt.unstable_IdlePriority,ha=null,sn=null;function Bg(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Hg,Wg=Math.log,Vg=Math.LN2;function Hg(e){return e>>>=0,e===0?32:31-(Wg(e)/Vg|0)|0}var ei=64,ti=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ii(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Vs(l):(o&=i,o!==0&&(r=Vs(o)))}else i=n&~s,i!==0?r=Vs(i):o!==0&&(r=Vs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Qg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Wt(o),l=1<<i,u=s[i];u===-1?(!(l&n)||l&r)&&(s[i]=Qg(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xh(){var e=ei;return ei<<=1,!(ei&4194240)&&(ei=64),e}function Qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Kg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function tc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function Yh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jh,nc,Zh,ep,tp,Il=!1,ni=[],Bn=null,Wn=null,Vn=null,io=new Map,ao=new Map,Tn=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(t.pointerId)}}function Os(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Bo(t),t!==null&&nc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xg(e,t,n,r,s){switch(t){case"focusin":return Bn=Os(Bn,e,t,n,r,s),!0;case"dragenter":return Wn=Os(Wn,e,t,n,r,s),!0;case"mouseover":return Vn=Os(Vn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return io.set(o,Os(io.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ao.set(o,Os(ao.get(o)||null,e,t,n,r,s)),!0}return!1}function np(e){var t=lr(e.target);if(t!==null){var n=Dr(t);if(n!==null){if(t=n.tag,t===13){if(t=Vh(n),t!==null){e.blockedOn=t,tp(e.priority,function(){Zh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ml=r,n.target.dispatchEvent(r),Ml=null}else return t=Bo(n),t!==null&&nc(t),e.blockedOn=n,!1;t.shift()}return!0}function bd(e,t,n){yi(e)&&n.delete(t)}function Yg(){Il=!1,Bn!==null&&yi(Bn)&&(Bn=null),Wn!==null&&yi(Wn)&&(Wn=null),Vn!==null&&yi(Vn)&&(Vn=null),io.forEach(bd),ao.forEach(bd)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Yg)))}function lo(e){function t(s){return _s(s,e)}if(0<ni.length){_s(ni[0],e);for(var n=1;n<ni.length;n++){var r=ni[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&_s(Bn,e),Wn!==null&&_s(Wn,e),Vn!==null&&_s(Vn,e),io.forEach(t),ao.forEach(t),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)np(n),n.blockedOn===null&&Tn.shift()}var es=kn.ReactCurrentBatchConfig,zi=!0;function Jg(e,t,n,r){var s=le,o=es.transition;es.transition=null;try{le=1,rc(e,t,n,r)}finally{le=s,es.transition=o}}function Zg(e,t,n,r){var s=le,o=es.transition;es.transition=null;try{le=4,rc(e,t,n,r)}finally{le=s,es.transition=o}}function rc(e,t,n,r){if(zi){var s=zl(e,t,n,r);if(s===null)nl(e,t,r,Ai,n),kd(e,r);else if(Xg(s,e,t,n,r))r.stopPropagation();else if(kd(e,r),t&4&&-1<Gg.indexOf(e)){for(;s!==null;){var o=Bo(s);if(o!==null&&Jh(o),o=zl(e,t,n,r),o===null&&nl(e,t,r,Ai,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else nl(e,t,r,null,n)}}var Ai=null;function zl(e,t,n,r){if(Ai=null,e=Zu(r),e=lr(e),e!==null)if(t=Dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ai=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case ec:return 1;case Kh:return 4;case Di:case $g:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var An=null,sc=null,xi=null;function sp(){if(xi)return xi;var e,t=sc,n=t.length,r,s="value"in An?An.value:An.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return xi=s.slice(e,1<r?1-r:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Sd(){return!1}function jt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ri:Sd,this.isPropagationStopped=Sd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=jt(js),$o=be({},js,{view:0,detail:0}),ey=jt($o),qa,Ka,Ds,pa=be({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(qa=e.screenX-Ds.screenX,Ka=e.screenY-Ds.screenY):Ka=qa=0,Ds=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),jd=jt(pa),ty=be({},pa,{dataTransfer:0}),ny=jt(ty),ry=be({},$o,{relatedTarget:0}),Ga=jt(ry),sy=be({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),oy=jt(sy),iy=be({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ay=jt(iy),ly=be({},js,{data:0}),Nd=jt(ly),uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dy[e])?!!t[e]:!1}function ic(){return fy}var hy=be({},$o,{key:function(e){if(e.key){var t=uy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),py=jt(hy),my=be({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=jt(my),gy=be({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),yy=jt(gy),xy=be({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=jt(xy),wy=be({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ky=jt(wy),by=[9,13,27,32],ac=yn&&"CompositionEvent"in window,Gs=null;yn&&"documentMode"in document&&(Gs=document.documentMode);var Sy=yn&&"TextEvent"in window&&!Gs,op=yn&&(!ac||Gs&&8<Gs&&11>=Gs),Ed=String.fromCharCode(32),Pd=!1;function ip(e,t){switch(e){case"keyup":return by.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function jy(e,t){switch(e){case"compositionend":return ap(t);case"keypress":return t.which!==32?null:(Pd=!0,Ed);case"textInput":return e=t.data,e===Ed&&Pd?null:e;default:return null}}function Ny(e,t){if($r)return e==="compositionend"||!ac&&ip(e,t)?(e=sp(),xi=sc=An=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return op&&t.locale!=="ko"?null:t.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cy[e.type]:t==="textarea"}function lp(e,t,n,r){Ah(r),t=Ui(t,"onChange"),0<t.length&&(n=new oc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xs=null,uo=null;function Ey(e){vp(e,0)}function ma(e){var t=Vr(e);if(Mh(t))return e}function Py(e,t){if(e==="change")return t}var up=!1;if(yn){var Xa;if(yn){var Ya="oninput"in document;if(!Ya){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Ya=typeof Rd.oninput=="function"}Xa=Ya}else Xa=!1;up=Xa&&(!document.documentMode||9<document.documentMode)}function Fd(){Xs&&(Xs.detachEvent("onpropertychange",cp),uo=Xs=null)}function cp(e){if(e.propertyName==="value"&&ma(uo)){var t=[];lp(t,uo,e,Zu(e)),Wh(Ey,t)}}function Ty(e,t,n){e==="focusin"?(Fd(),Xs=t,uo=n,Xs.attachEvent("onpropertychange",cp)):e==="focusout"&&Fd()}function Ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(uo)}function Fy(e,t){if(e==="click")return ma(t)}function My(e,t){if(e==="input"||e==="change")return ma(t)}function Ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Ly;function co(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wl.call(t,s)||!Qt(e[s],t[s]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Md(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fp(){for(var e=window,t=Li();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Li(e.document)}return t}function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Oy(e){var t=fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dp(n.ownerDocument.documentElement,n)){if(r!==null&&lc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ld(n,o);var i=Ld(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _y=yn&&"documentMode"in document&&11>=document.documentMode,Br=null,Al=null,Ys=null,Ul=!1;function Od(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ul||Br==null||Br!==Li(r)||(r=Br,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&co(Ys,r)||(Ys=r,r=Ui(Al,"onSelect"),0<r.length&&(t=new oc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},Ja={},hp={};yn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function ga(e){if(Ja[e])return Ja[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hp)return Ja[e]=t[n];return e}var pp=ga("animationend"),mp=ga("animationiteration"),gp=ga("animationstart"),yp=ga("transitionend"),xp=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){xp.set(e,t),_r(t,[e])}for(var Za=0;Za<_d.length;Za++){var el=_d[Za],Dy=el.toLowerCase(),Iy=el[0].toUpperCase()+el.slice(1);Zn(Dy,"on"+Iy)}Zn(pp,"onAnimationEnd");Zn(mp,"onAnimationIteration");Zn(gp,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(yp,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Dd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dg(r,t,void 0,e),e.currentTarget=null}function vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&s.isPropagationStopped())break e;Dd(s,l,c),o=u}else for(i=0;i<r.length;i++){if(l=r[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&s.isPropagationStopped())break e;Dd(s,l,c),o=u}}}if(_i)throw e=_l,_i=!1,_l=null,e}function fe(e,t){var n=t[Hl];n===void 0&&(n=t[Hl]=new Set);var r=e+"__bubble";n.has(r)||(wp(t,e,2,!1),n.add(r))}function tl(e,t,n){var r=0;t&&(r|=4),wp(n,e,r,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[oi]){e[oi]=!0,Eh.forEach(function(n){n!=="selectionchange"&&(zy.has(n)||tl(n,!1,e),tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,tl("selectionchange",!1,t))}}function wp(e,t,n,r){switch(rp(t)){case 1:var s=Jg;break;case 4:s=Zg;break;default:s=rc}n=s.bind(null,t,n,e),s=void 0,!Ol||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;l!==null;){if(i=lr(l),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Wh(function(){var c=o,p=Zu(n),h=[];e:{var g=xp.get(e);if(g!==void 0){var m=oc,v=e;switch(e){case"keypress":if(vi(n)===0)break e;case"keydown":case"keyup":m=py;break;case"focusin":v="focus",m=Ga;break;case"focusout":v="blur",m=Ga;break;case"beforeblur":case"afterblur":m=Ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yy;break;case pp:case mp:case gp:m=oy;break;case yp:m=vy;break;case"scroll":m=ey;break;case"wheel":m=ky;break;case"copy":case"cut":case"paste":m=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Cd}var w=(t&4)!==0,y=!w&&e==="scroll",d=w?g!==null?g+"Capture":null:g;w=[];for(var f=c,x;f!==null;){x=f;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,d!==null&&(k=oo(f,d),k!=null&&w.push(ho(f,k,x)))),y)break;f=f.return}0<w.length&&(g=new m(g,v,null,n,p),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Ml&&(v=n.relatedTarget||n.fromElement)&&(lr(v)||v[xn]))break e;if((m||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?lr(v):null,v!==null&&(y=Dr(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=jd,k="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Cd,k="onPointerLeave",d="onPointerEnter",f="pointer"),y=m==null?g:Vr(m),x=v==null?g:Vr(v),g=new w(k,f+"leave",m,n,p),g.target=y,g.relatedTarget=x,k=null,lr(p)===c&&(w=new w(d,f+"enter",v,n,p),w.target=x,w.relatedTarget=y,k=w),y=k,m&&v)t:{for(w=m,d=v,f=0,x=w;x;x=zr(x))f++;for(x=0,k=d;k;k=zr(k))x++;for(;0<f-x;)w=zr(w),f--;for(;0<x-f;)d=zr(d),x--;for(;f--;){if(w===d||d!==null&&w===d.alternate)break t;w=zr(w),d=zr(d)}w=null}else w=null;m!==null&&Id(h,g,m,w,!1),v!==null&&y!==null&&Id(h,y,v,w,!0)}}e:{if(g=c?Vr(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var j=Py;else if(Td(g))if(up)j=My;else{j=Ry;var P=Ty}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=Fy);if(j&&(j=j(e,c))){lp(h,j,n,p);break e}P&&P(e,g,c),e==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&El(g,"number",g.value)}switch(P=c?Vr(c):window,e){case"focusin":(Td(P)||P.contentEditable==="true")&&(Br=P,Al=c,Ys=null);break;case"focusout":Ys=Al=Br=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Od(h,n,p);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":Od(h,n,p)}var T;if(ac)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else $r?ip(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(op&&n.locale!=="ko"&&($r||F!=="onCompositionStart"?F==="onCompositionEnd"&&$r&&(T=sp()):(An=p,sc="value"in An?An.value:An.textContent,$r=!0)),P=Ui(c,F),0<P.length&&(F=new Nd(F,e,null,n,p),h.push({event:F,listeners:P}),T?F.data=T:(T=ap(n),T!==null&&(F.data=T)))),(T=Sy?jy(e,n):Ny(e,n))&&(c=Ui(c,"onBeforeInput"),0<c.length&&(p=new Nd("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:c}),p.data=T))}vp(h,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=oo(e,n),o!=null&&r.unshift(ho(e,o,s)),o=oo(e,t),o!=null&&r.push(ho(e,o,s))),e=e.return}return r}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=oo(n,o),u!=null&&i.unshift(ho(n,u,l))):s||(u=oo(n,o),u!=null&&i.push(ho(n,u,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ay=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Uy,"")}function ii(e,t,n){if(t=zd(t),zd(e)!==t&&n)throw Error(L(425))}function $i(){}var $l=null,Bl=null;function Wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vl=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(Wy)}:Vl;function Wy(e){setTimeout(function(){throw e})}function rl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lo(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ns,po="__reactProps$"+Ns,xn="__reactContainer$"+Ns,Hl="__reactEvents$"+Ns,Vy="__reactListeners$"+Ns,Hy="__reactHandles$"+Ns;function lr(e){var t=e[rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ud(e);e!==null;){if(n=e[rn])return n;e=Ud(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[rn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ya(e){return e[po]||null}var Ql=[],Hr=-1;function er(e){return{current:e}}function pe(e){0>Hr||(e.current=Ql[Hr],Ql[Hr]=null,Hr--)}function ce(e,t){Hr++,Ql[Hr]=e.current,e.current=t}var Jn={},nt=er(Jn),pt=er(!1),Pr=Jn;function gs(e,t){var n=e.type.contextTypes;if(!n)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function Bi(){pe(pt),pe(nt)}function $d(e,t,n){if(nt.current!==Jn)throw Error(L(168));ce(nt,t),ce(pt,n)}function kp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,Tg(e)||"Unknown",s));return be({},n,r)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,Pr=nt.current,ce(nt,e),ce(pt,pt.current),!0}function Bd(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=kp(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=e,pe(pt),pe(nt),ce(nt,e)):pe(pt),ce(pt,n)}var cn=null,xa=!1,sl=!1;function bp(e){cn===null?cn=[e]:cn.push(e)}function Qy(e){xa=!0,bp(e)}function tr(){if(!sl&&cn!==null){sl=!0;var e=0,t=le;try{var n=cn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,xa=!1}catch(s){throw cn!==null&&(cn=cn.slice(e+1)),qh(ec,tr),s}finally{le=t,sl=!1}}return null}var Qr=[],qr=0,Vi=null,Hi=0,Rt=[],Ft=0,Tr=null,pn=1,mn="";function or(e,t){Qr[qr++]=Hi,Qr[qr++]=Vi,Vi=e,Hi=t}function Sp(e,t,n){Rt[Ft++]=pn,Rt[Ft++]=mn,Rt[Ft++]=Tr,Tr=e;var r=pn;e=mn;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var o=32-Wt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,pn=1<<32-Wt(t)+s|n<<s|r,mn=o+e}else pn=1<<o|n<<s|r,mn=e}function uc(e){e.return!==null&&(or(e,1),Sp(e,1,0))}function cc(e){for(;e===Vi;)Vi=Qr[--qr],Qr[qr]=null,Hi=Qr[--qr],Qr[qr]=null;for(;e===Tr;)Tr=Rt[--Ft],Rt[Ft]=null,mn=Rt[--Ft],Rt[Ft]=null,pn=Rt[--Ft],Rt[Ft]=null}var kt=null,wt=null,ge=!1,Bt=null;function jp(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,wt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tr!==null?{id:pn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,wt=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(ge){var t=wt;if(t){var n=t;if(!Wd(e,t)){if(ql(e))throw Error(L(418));t=Hn(n.nextSibling);var r=kt;t&&Wd(e,t)?jp(r,n):(e.flags=e.flags&-4097|2,ge=!1,kt=e)}}else{if(ql(e))throw Error(L(418));e.flags=e.flags&-4097|2,ge=!1,kt=e}}}function Vd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function ai(e){if(e!==kt)return!1;if(!ge)return Vd(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wl(e.type,e.memoizedProps)),t&&(t=wt)){if(ql(e))throw Np(),Error(L(418));for(;t;)jp(e,t),t=Hn(t.nextSibling)}if(Vd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=kt?Hn(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=wt;e;)e=Hn(e.nextSibling)}function ys(){wt=kt=null,ge=!1}function dc(e){Bt===null?Bt=[e]:Bt.push(e)}var qy=kn.ReactCurrentBatchConfig;function Is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function li(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hd(e){var t=e._init;return t(e._payload)}function Cp(e){function t(d,f){if(e){var x=d.deletions;x===null?(d.deletions=[f],d.flags|=16):x.push(f)}}function n(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function r(d,f){for(d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function s(d,f){return d=Gn(d,f),d.index=0,d.sibling=null,d}function o(d,f,x){return d.index=x,e?(x=d.alternate,x!==null?(x=x.index,x<f?(d.flags|=2,f):x):(d.flags|=2,f)):(d.flags|=1048576,f)}function i(d){return e&&d.alternate===null&&(d.flags|=2),d}function l(d,f,x,k){return f===null||f.tag!==6?(f=dl(x,d.mode,k),f.return=d,f):(f=s(f,x),f.return=d,f)}function u(d,f,x,k){var j=x.type;return j===Ur?p(d,f,x.props.children,k,x.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===En&&Hd(j)===f.type)?(k=s(f,x.props),k.ref=Is(d,f,x),k.return=d,k):(k=Ci(x.type,x.key,x.props,null,d.mode,k),k.ref=Is(d,f,x),k.return=d,k)}function c(d,f,x,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=fl(x,d.mode,k),f.return=d,f):(f=s(f,x.children||[]),f.return=d,f)}function p(d,f,x,k,j){return f===null||f.tag!==7?(f=jr(x,d.mode,k,j),f.return=d,f):(f=s(f,x),f.return=d,f)}function h(d,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=dl(""+f,d.mode,x),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Yo:return x=Ci(f.type,f.key,f.props,null,d.mode,x),x.ref=Is(d,null,f),x.return=d,x;case Ar:return f=fl(f,d.mode,x),f.return=d,f;case En:var k=f._init;return h(d,k(f._payload),x)}if(Ws(f)||Ms(f))return f=jr(f,d.mode,x,null),f.return=d,f;li(d,f)}return null}function g(d,f,x,k){var j=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(d,f,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yo:return x.key===j?u(d,f,x,k):null;case Ar:return x.key===j?c(d,f,x,k):null;case En:return j=x._init,g(d,f,j(x._payload),k)}if(Ws(x)||Ms(x))return j!==null?null:p(d,f,x,k,null);li(d,x)}return null}function m(d,f,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return d=d.get(x)||null,l(f,d,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yo:return d=d.get(k.key===null?x:k.key)||null,u(f,d,k,j);case Ar:return d=d.get(k.key===null?x:k.key)||null,c(f,d,k,j);case En:var P=k._init;return m(d,f,x,P(k._payload),j)}if(Ws(k)||Ms(k))return d=d.get(x)||null,p(f,d,k,j,null);li(f,k)}return null}function v(d,f,x,k){for(var j=null,P=null,T=f,F=f=0,_=null;T!==null&&F<x.length;F++){T.index>F?(_=T,T=null):_=T.sibling;var E=g(d,T,x[F],k);if(E===null){T===null&&(T=_);break}e&&T&&E.alternate===null&&t(d,T),f=o(E,f,F),P===null?j=E:P.sibling=E,P=E,T=_}if(F===x.length)return n(d,T),ge&&or(d,F),j;if(T===null){for(;F<x.length;F++)T=h(d,x[F],k),T!==null&&(f=o(T,f,F),P===null?j=T:P.sibling=T,P=T);return ge&&or(d,F),j}for(T=r(d,T);F<x.length;F++)_=m(T,d,F,x[F],k),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?F:_.key),f=o(_,f,F),P===null?j=_:P.sibling=_,P=_);return e&&T.forEach(function(V){return t(d,V)}),ge&&or(d,F),j}function w(d,f,x,k){var j=Ms(x);if(typeof j!="function")throw Error(L(150));if(x=j.call(x),x==null)throw Error(L(151));for(var P=j=null,T=f,F=f=0,_=null,E=x.next();T!==null&&!E.done;F++,E=x.next()){T.index>F?(_=T,T=null):_=T.sibling;var V=g(d,T,E.value,k);if(V===null){T===null&&(T=_);break}e&&T&&V.alternate===null&&t(d,T),f=o(V,f,F),P===null?j=V:P.sibling=V,P=V,T=_}if(E.done)return n(d,T),ge&&or(d,F),j;if(T===null){for(;!E.done;F++,E=x.next())E=h(d,E.value,k),E!==null&&(f=o(E,f,F),P===null?j=E:P.sibling=E,P=E);return ge&&or(d,F),j}for(T=r(d,T);!E.done;F++,E=x.next())E=m(T,d,F,E.value,k),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?F:E.key),f=o(E,f,F),P===null?j=E:P.sibling=E,P=E);return e&&T.forEach(function($){return t(d,$)}),ge&&or(d,F),j}function y(d,f,x,k){if(typeof x=="object"&&x!==null&&x.type===Ur&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yo:e:{for(var j=x.key,P=f;P!==null;){if(P.key===j){if(j=x.type,j===Ur){if(P.tag===7){n(d,P.sibling),f=s(P,x.props.children),f.return=d,d=f;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===En&&Hd(j)===P.type){n(d,P.sibling),f=s(P,x.props),f.ref=Is(d,P,x),f.return=d,d=f;break e}n(d,P);break}else t(d,P);P=P.sibling}x.type===Ur?(f=jr(x.props.children,d.mode,k,x.key),f.return=d,d=f):(k=Ci(x.type,x.key,x.props,null,d.mode,k),k.ref=Is(d,f,x),k.return=d,d=k)}return i(d);case Ar:e:{for(P=x.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(d,f.sibling),f=s(f,x.children||[]),f.return=d,d=f;break e}else{n(d,f);break}else t(d,f);f=f.sibling}f=fl(x,d.mode,k),f.return=d,d=f}return i(d);case En:return P=x._init,y(d,f,P(x._payload),k)}if(Ws(x))return v(d,f,x,k);if(Ms(x))return w(d,f,x,k);li(d,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(d,f.sibling),f=s(f,x),f.return=d,d=f):(n(d,f),f=dl(x,d.mode,k),f.return=d,d=f),i(d)):n(d,f)}return y}var xs=Cp(!0),Ep=Cp(!1),Qi=er(null),qi=null,Kr=null,fc=null;function hc(){fc=Kr=qi=null}function pc(e){var t=Qi.current;pe(Qi),e._currentValue=t}function Gl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ts(e,t){qi=e,fc=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(fc!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(qi===null)throw Error(L(308));Kr=e,qi.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var ur=null;function mc(e){ur===null?ur=[e]:ur.push(e)}function Pp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mc(t)):(n.next=s.next,s.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vn(e,n)}return s=r.interleaved,s===null?(t.next=t,mc(r)):(t.next=s.next,s.next=t),r.interleaved=t,vn(e,n)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tc(e,n)}}function Qd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var s=e.updateQueue;Pn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==i&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=u))}if(o!==null){var h=s.baseState;i=0,p=c=u=null,l=o;do{var g=l.lane,m=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(g=t,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,g);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(m,h,g):v,g==null)break e;h=be({},h,g);break e;case 2:Pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=m,u=h):p=p.next=m,i|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(p===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Fr|=i,e.lanes=i,e.memoizedState=h}}function qd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Wo={},on=er(Wo),mo=er(Wo),go=er(Wo);function cr(e){if(e===Wo)throw Error(L(174));return e}function yc(e,t){switch(ce(go,t),ce(mo,e),ce(on,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tl(t,e)}pe(on),ce(on,t)}function vs(){pe(on),pe(mo),pe(go)}function Rp(e){cr(go.current);var t=cr(on.current),n=Tl(t,e.type);t!==n&&(ce(mo,e),ce(on,n))}function xc(e){mo.current===e&&(pe(on),pe(mo))}var ve=er(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function vc(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var ki=kn.ReactCurrentDispatcher,il=kn.ReactCurrentBatchConfig,Rr=0,ke=null,Oe=null,$e=null,Xi=!1,Js=!1,yo=0,Ky=0;function Je(){throw Error(L(321))}function wc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function kc(e,t,n,r,s,o){if(Rr=o,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?Jy:Zy,e=n(r,s),Js){o=0;do{if(Js=!1,yo=0,25<=o)throw Error(L(301));o+=1,$e=Oe=null,t.updateQueue=null,ki.current=ex,e=n(r,s)}while(Js)}if(ki.current=Yi,t=Oe!==null&&Oe.next!==null,Rr=0,$e=Oe=ke=null,Xi=!1,t)throw Error(L(300));return e}function bc(){var e=yo!==0;return yo=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ke.memoizedState=$e=e:$e=$e.next=e,$e}function _t(){if(Oe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=$e===null?ke.memoizedState:$e.next;if(t!==null)$e=t,Oe=e;else{if(e===null)throw Error(L(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},$e===null?ke.memoizedState=$e=e:$e=$e.next=e}return $e}function xo(e,t){return typeof t=="function"?t(e):t}function al(e){var t=_t(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Oe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,u=null,c=o;do{var p=c.lane;if((Rr&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,i=r):u=u.next=h,ke.lanes|=p,Fr|=p}c=c.next}while(c!==null&&c!==o);u===null?i=r:u.next=l,Qt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ke.lanes|=o,Fr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ll(e){var t=_t(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Qt(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fp(){}function Mp(e,t){var n=ke,r=_t(),s=t(),o=!Qt(r.memoizedState,s);if(o&&(r.memoizedState=s,ht=!0),r=r.queue,Sc(_p.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,vo(9,Op.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(L(349));Rr&30||Lp(n,t,s)}return s}function Lp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Op(e,t,n,r){t.value=n,t.getSnapshot=r,Dp(t)&&Ip(e)}function _p(e,t,n){return n(function(){Dp(t)&&Ip(e)})}function Dp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Ip(e){var t=vn(e,1);t!==null&&Vt(t,e,1,-1)}function Kd(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yy.bind(null,ke,e),[t.memoizedState,e]}function vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zp(){return _t().memoizedState}function bi(e,t,n,r){var s=Zt();ke.flags|=e,s.memoizedState=vo(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var s=_t();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var i=Oe.memoizedState;if(o=i.destroy,r!==null&&wc(r,i.deps)){s.memoizedState=vo(t,n,o,r);return}}ke.flags|=e,s.memoizedState=vo(1|t,n,o,r)}function Gd(e,t){return bi(8390656,8,e,t)}function Sc(e,t){return va(2048,8,e,t)}function Ap(e,t){return va(4,2,e,t)}function Up(e,t){return va(4,4,e,t)}function $p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bp(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,$p.bind(null,t,e),n)}function jc(){}function Wp(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vp(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hp(e,t,n){return Rr&21?(Qt(n,t)||(n=Xh(),ke.lanes|=n,Fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Gy(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=il.transition;il.transition={};try{e(!1),t()}finally{le=n,il.transition=r}}function Qp(){return _t().memoizedState}function Xy(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qp(e))Kp(t,n);else if(n=Pp(e,t,n,r),n!==null){var s=it();Vt(n,e,r,s),Gp(n,t,r)}}function Yy(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qp(e))Kp(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Qt(l,i)){var u=t.interleaved;u===null?(s.next=s,mc(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Pp(e,t,s,r),n!==null&&(s=it(),Vt(n,e,r,s),Gp(n,t,r))}}function qp(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Kp(e,t){Js=Xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tc(e,n)}}var Yi={readContext:Ot,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Jy={readContext:Ot,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bi(4194308,4,$p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return bi(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xy.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Kd,useDebugValue:jc,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Kd(!1),t=e[0];return e=Gy.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Zt();if(ge){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Be===null)throw Error(L(349));Rr&30||Lp(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Gd(_p.bind(null,r,o,e),[e]),r.flags|=2048,vo(9,Op.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Be.identifierPrefix;if(ge){var n=mn,r=pn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ky++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zy={readContext:Ot,useCallback:Wp,useContext:Ot,useEffect:Sc,useImperativeHandle:Bp,useInsertionEffect:Ap,useLayoutEffect:Up,useMemo:Vp,useReducer:al,useRef:zp,useState:function(){return al(xo)},useDebugValue:jc,useDeferredValue:function(e){var t=_t();return Hp(t,Oe.memoizedState,e)},useTransition:function(){var e=al(xo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:Mp,useId:Qp,unstable_isNewReconciler:!1},ex={readContext:Ot,useCallback:Wp,useContext:Ot,useEffect:Sc,useImperativeHandle:Bp,useInsertionEffect:Ap,useLayoutEffect:Up,useMemo:Vp,useReducer:ll,useRef:zp,useState:function(){return ll(xo)},useDebugValue:jc,useDeferredValue:function(e){var t=_t();return Oe===null?t.memoizedState=e:Hp(t,Oe.memoizedState,e)},useTransition:function(){var e=ll(xo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:Mp,useId:Qp,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=Kn(e),o=gn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,s),t!==null&&(Vt(t,e,s,r),wi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=Kn(e),o=gn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,s),t!==null&&(Vt(t,e,s,r),wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Kn(e),s=gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(Vt(t,e,r,n),wi(t,e,r))}};function Xd(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(s,o):!0}function Xp(e,t,n){var r=!1,s=Jn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(s=mt(t)?Pr:nt.current,r=t.contextTypes,o=(r=r!=null)?gs(e,s):Jn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function Yl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},gc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ot(o):(o=mt(t)?Pr:nt.current,s.context=gs(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xl(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wa.enqueueReplaceState(s,s.state,null),Ki(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var n="",r=t;do n+=Pg(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zi||(Zi=!0,lu=r),Jl(e,t)},n}function Jp(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Jl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jl(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=mx.bind(null,e,t,n),t.then(e,e))}function Zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var nx=kn.ReactCurrentOwner,ht=!1;function ot(e,t,n,r){t.child=e===null?Ep(t,null,n,r):xs(t,e.child,n,r)}function tf(e,t,n,r,s){n=n.render;var o=t.ref;return ts(t,s),r=kc(e,t,n,r,o,s),n=bc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ge&&n&&uc(t),t.flags|=1,ot(e,t,r,s),t.child)}function nf(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Mc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zp(e,t,o,r,s)):(e=Ci(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(i,r)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zp(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(co(o,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,wn(e,t,s)}return Zl(e,t,n,r,s)}function em(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Xr,vt),vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Xr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ce(Xr,vt),vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ce(Xr,vt),vt|=r;return ot(e,t,s,n),t.child}function tm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,n,r,s){var o=mt(n)?Pr:nt.current;return o=gs(t,o),ts(t,s),n=kc(e,t,n,r,o,s),r=bc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ge&&r&&uc(t),t.flags|=1,ot(e,t,n,s),t.child)}function rf(e,t,n,r,s){if(mt(n)){var o=!0;Wi(t)}else o=!1;if(ts(t,s),t.stateNode===null)Si(e,t),Xp(t,n,r),Yl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ot(c):(c=mt(n)?Pr:nt.current,c=gs(t,c));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Yd(t,i,r,c),Pn=!1;var g=t.memoizedState;i.state=g,Ki(t,r,i,s),u=t.memoizedState,l!==r||g!==u||pt.current||Pn?(typeof p=="function"&&(Xl(t,n,p,r),u=t.memoizedState),(l=Pn||Xd(t,n,l,r,g,u,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Tp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:zt(t.type,l),i.props=c,h=t.pendingProps,g=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ot(u):(u=mt(n)?Pr:nt.current,u=gs(t,u));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||g!==u)&&Yd(t,i,r,u),Pn=!1,g=t.memoizedState,i.state=g,Ki(t,r,i,s);var v=t.memoizedState;l!==h||g!==v||pt.current||Pn?(typeof m=="function"&&(Xl(t,n,m,r),v=t.memoizedState),(c=Pn||Xd(t,n,c,r,g,v,u)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return eu(e,t,n,r,o,s)}function eu(e,t,n,r,s,o){tm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Bd(t,n,!1),wn(e,t,o);r=t.stateNode,nx.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=xs(t,e.child,null,o),t.child=xs(t,null,l,o)):ot(e,t,l,o),t.memoizedState=r.state,s&&Bd(t,n,!0),t.child}function nm(e){var t=e.stateNode;t.pendingContext?$d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$d(e,t.context,!1),yc(e,t.containerInfo)}function sf(e,t,n,r,s){return ys(),dc(s),t.flags|=256,ot(e,t,n,r),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function rm(e,t,n){var r=t.pendingProps,s=ve.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Sa(i,r,0,null),e=jr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nu(n),t.memoizedState=tu,e):Nc(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rx(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Gn(l,o):(o=jr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?nu(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=tu,r}return o=e.child,e=o.sibling,r=Gn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nc(e,t){return t=Sa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,n,r){return r!==null&&dc(r),xs(t,e.child,null,n),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rx(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ul(Error(L(422))),ui(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Sa({mode:"visible",children:r.children},s,0,null),o=jr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&xs(t,e.child,null,i),t.child.memoizedState=nu(i),t.memoizedState=tu,o);if(!(t.mode&1))return ui(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(L(419)),r=ul(o,r,void 0),ui(e,t,i,r)}if(l=(i&e.childLanes)!==0,ht||l){if(r=Be,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,vn(e,s),Vt(r,e,s,-1))}return Fc(),r=ul(Error(L(421))),ui(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gx.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,wt=Hn(s.nextSibling),kt=t,ge=!0,Bt=null,e!==null&&(Rt[Ft++]=pn,Rt[Ft++]=mn,Rt[Ft++]=Tr,pn=e.id,mn=e.overflow,Tr=t),t=Nc(t,r.children),t.flags|=4096,t)}function of(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gl(e.return,t,n)}function cl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function sm(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ot(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,n,t);else if(e.tag===19)of(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),cl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}cl(t,!0,n,null,o);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sx(e,t,n){switch(t.tag){case 3:nm(t),ys();break;case 5:Rp(t);break;case 1:mt(t.type)&&Wi(t);break;case 4:yc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Qi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?rm(e,t,n):(ce(ve,ve.current&1),e=wn(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,em(e,t,n)}return wn(e,t,n)}var om,ru,im,am;om=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ru=function(){};im=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cr(on.current);var o=null;switch(n){case"input":s=Nl(e,s),r=Nl(e,r),o=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),o=[];break;case"textarea":s=Pl(e,s),r=Pl(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$i)}Rl(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ro.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ro.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};am=function(e,t,n,r){n!==r&&(t.flags|=4)};function zs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ox(e,t,n){var r=t.pendingProps;switch(cc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return mt(t.type)&&Bi(),Ze(t),null;case 3:return r=t.stateNode,vs(),pe(pt),pe(nt),vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(du(Bt),Bt=null))),ru(e,t),Ze(t),null;case 5:xc(t);var s=cr(go.current);if(n=t.type,e!==null&&t.stateNode!=null)im(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Ze(t),null}if(e=cr(on.current),ai(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[rn]=t,r[po]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Hs.length;s++)fe(Hs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":pd(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":gd(r,o),fe("invalid",r)}Rl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ii(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ii(r.textContent,l,e),s=["children",""+l]):ro.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Jo(r),md(r,o,!0);break;case"textarea":Jo(r),yd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$i)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_h(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[rn]=t,e[po]=r,om(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fl(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hs.length;s++)fe(Hs[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":pd(e,r),s=Nl(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),fe("invalid",e);break;case"textarea":gd(e,r),s=Pl(e,r),fe("invalid",e);break;default:s=r}Rl(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?zh(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Dh(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&so(e,u):typeof u=="number"&&so(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ro.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",e):u!=null&&Gu(e,o,u,i))}switch(n){case"input":Jo(e),md(e,r,!1);break;case"textarea":Jo(e),yd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Yr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)am(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=cr(go.current),cr(on.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[rn]=t,(o=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=t,t.stateNode=r}return Ze(t),null;case 13:if(pe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&wt!==null&&t.mode&1&&!(t.flags&128))Np(),ys(),t.flags|=98560,o=!1;else if(o=ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[rn]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else Bt!==null&&(du(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?_e===0&&(_e=3):Fc())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return vs(),ru(e,t),e===null&&fo(t.stateNode.containerInfo),Ze(t),null;case 10:return pc(t.type._context),Ze(t),null;case 17:return mt(t.type)&&Bi(),Ze(t),null;case 19:if(pe(ve),o=t.memoizedState,o===null)return Ze(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)zs(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gi(e),i!==null){for(t.flags|=128,zs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>ks&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Gi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ge)return Ze(t),null}else 2*Re()-o.renderingStartTime>ks&&n!==1073741824&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return Rc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function ix(e,t){switch(cc(t),t.tag){case 1:return mt(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),pe(pt),pe(nt),vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xc(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return vs(),null;case 10:return pc(t.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var ci=!1,et=!1,ax=typeof WeakSet=="function"?WeakSet:Set,A=null;function Gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function su(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var af=!1;function lx(e,t){if($l=zi,e=fp(),lc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,u=-1,c=0,p=0,h=e,g=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==o||r!==0&&h.nodeType!==3||(u=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===e)break t;if(g===n&&++c===s&&(l=i),g===o&&++p===r&&(u=i),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bl={focusedElem:e,selectionRange:n},zi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,y=v.memoizedState,d=t.stateNode,f=d.getSnapshotBeforeUpdate(t.elementType===t.type?w:zt(t.type,w),y);d.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Ce(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=af,af=!1,v}function Zs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&su(t,n,o)}s=s.next}while(s!==r)}}function ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lm(e){var t=e.alternate;t!==null&&(e.alternate=null,lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[po],delete t[Hl],delete t[Vy],delete t[Hy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function um(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$i));else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(au(e,t,n),e=e.sibling;e!==null;)au(e,t,n),e=e.sibling}var He=null,$t=!1;function Nn(e,t,n){for(n=n.child;n!==null;)cm(e,t,n),n=n.sibling}function cm(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:et||Gr(n,t);case 6:var r=He,s=$t;He=null,Nn(e,t,n),He=r,$t=s,He!==null&&($t?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&($t?(e=He,n=n.stateNode,e.nodeType===8?rl(e.parentNode,n):e.nodeType===1&&rl(e,n),lo(e)):rl(He,n.stateNode));break;case 4:r=He,s=$t,He=n.stateNode.containerInfo,$t=!0,Nn(e,t,n),He=r,$t=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&su(n,t,i),s=s.next}while(s!==r)}Nn(e,t,n);break;case 1:if(!et&&(Gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ce(n,t,l)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Nn(e,t,n),et=r):Nn(e,t,n);break;default:Nn(e,t,n)}}function uf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ax),t.forEach(function(r){var s=yx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,$t=!1;break e;case 3:He=l.stateNode.containerInfo,$t=!0;break e;case 4:He=l.stateNode.containerInfo,$t=!0;break e}l=l.return}if(He===null)throw Error(L(160));cm(o,i,s),He=null,$t=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}function dm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Xt(e),r&4){try{Zs(3,e,e.return),ka(3,e)}catch(w){Ce(e,e.return,w)}try{Zs(5,e,e.return)}catch(w){Ce(e,e.return,w)}}break;case 1:It(t,e),Xt(e),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(It(t,e),Xt(e),r&512&&n!==null&&Gr(n,n.return),e.flags&32){var s=e.stateNode;try{so(s,"")}catch(w){Ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Lh(s,o),Fl(l,i);var c=Fl(l,o);for(i=0;i<u.length;i+=2){var p=u[i],h=u[i+1];p==="style"?zh(s,h):p==="dangerouslySetInnerHTML"?Dh(s,h):p==="children"?so(s,h):Gu(s,p,h,c)}switch(l){case"input":Cl(s,o);break;case"textarea":Oh(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Yr(s,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?Yr(s,!!o.multiple,o.defaultValue,!0):Yr(s,!!o.multiple,o.multiple?[]:"",!1))}s[po]=o}catch(w){Ce(e,e.return,w)}}break;case 6:if(It(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Ce(e,e.return,w)}}break;case 3:if(It(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(w){Ce(e,e.return,w)}break;case 4:It(t,e),Xt(e);break;case 13:It(t,e),Xt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Pc=Re())),r&4&&uf(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(et=(c=et)||p,It(t,e),et=c):It(t,e),Xt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(h=A=p;A!==null;){switch(g=A,m=g.child,g.tag){case 0:case 11:case 14:case 15:Zs(4,g,g.return);break;case 1:Gr(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Ce(r,n,w)}}break;case 5:Gr(g,g.return);break;case 22:if(g.memoizedState!==null){df(h);continue}}m!==null?(m.return=g,A=m):df(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ih("display",i))}catch(w){Ce(e,e.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ce(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:It(t,e),Xt(e),r&4&&uf(e);break;case 21:break;default:It(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(um(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(so(s,""),r.flags&=-33);var o=lf(e);au(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=lf(e);iu(e,l,i);break;default:throw Error(L(161))}}catch(u){Ce(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ux(e,t,n){A=e,fm(e)}function fm(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ci;if(!i){var l=s.alternate,u=l!==null&&l.memoizedState!==null||et;l=ci;var c=et;if(ci=i,(et=u)&&!c)for(A=s;A!==null;)i=A,u=i.child,i.tag===22&&i.memoizedState!==null?ff(s):u!==null?(u.return=i,A=u):ff(s);for(;o!==null;)A=o,fm(o),o=o.sibling;A=s,ci=l,et=c}cf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,A=o):cf(e)}}function cf(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||ka(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&qd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qd(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&lo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}et||t.flags&512&&ou(t)}catch(g){Ce(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function df(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function ff(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ka(4,t)}catch(u){Ce(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Ce(t,s,u)}}var o=t.return;try{ou(t)}catch(u){Ce(t,o,u)}break;case 5:var i=t.return;try{ou(t)}catch(u){Ce(t,i,u)}}}catch(u){Ce(t,t.return,u)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var cx=Math.ceil,Ji=kn.ReactCurrentDispatcher,Cc=kn.ReactCurrentOwner,Lt=kn.ReactCurrentBatchConfig,se=0,Be=null,Fe=null,qe=0,vt=0,Xr=er(0),_e=0,wo=null,Fr=0,ba=0,Ec=0,eo=null,ft=null,Pc=0,ks=1/0,un=null,Zi=!1,lu=null,qn=null,di=!1,Un=null,ea=0,to=0,uu=null,ji=-1,Ni=0;function it(){return se&6?Re():ji!==-1?ji:ji=Re()}function Kn(e){return e.mode&1?se&2&&qe!==0?qe&-qe:qy.transition!==null?(Ni===0&&(Ni=Xh()),Ni):(e=le,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e):1}function Vt(e,t,n,r){if(50<to)throw to=0,uu=null,Error(L(185));Uo(e,n,r),(!(se&2)||e!==Be)&&(e===Be&&(!(se&2)&&(ba|=n),_e===4&&Rn(e,qe)),gt(e,r),n===1&&se===0&&!(t.mode&1)&&(ks=Re()+500,xa&&tr()))}function gt(e,t){var n=e.callbackNode;qg(e,t);var r=Ii(e,e===Be?qe:0);if(r===0)n!==null&&wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wd(n),t===1)e.tag===0?Qy(hf.bind(null,e)):bp(hf.bind(null,e)),By(function(){!(se&6)&&tr()}),n=null;else{switch(Yh(r)){case 1:n=ec;break;case 4:n=Kh;break;case 16:n=Di;break;case 536870912:n=Gh;break;default:n=Di}n=wm(n,hm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hm(e,t){if(ji=-1,Ni=0,se&6)throw Error(L(327));var n=e.callbackNode;if(ns()&&e.callbackNode!==n)return null;var r=Ii(e,e===Be?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ta(e,r);else{t=r;var s=se;se|=2;var o=mm();(Be!==e||qe!==t)&&(un=null,ks=Re()+500,Sr(e,t));do try{hx();break}catch(l){pm(e,l)}while(1);hc(),Ji.current=o,se=s,Fe!==null?t=0:(Be=null,qe=0,t=_e)}if(t!==0){if(t===2&&(s=Dl(e),s!==0&&(r=s,t=cu(e,s))),t===1)throw n=wo,Sr(e,0),Rn(e,r),gt(e,Re()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!dx(s)&&(t=ta(e,r),t===2&&(o=Dl(e),o!==0&&(r=o,t=cu(e,o))),t===1))throw n=wo,Sr(e,0),Rn(e,r),gt(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:ir(e,ft,un);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Pc+500-Re(),10<t)){if(Ii(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vl(ir.bind(null,e,ft,un),t);break}ir(e,ft,un);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Wt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cx(r/1960))-r,10<r){e.timeoutHandle=Vl(ir.bind(null,e,ft,un),r);break}ir(e,ft,un);break;case 5:ir(e,ft,un);break;default:throw Error(L(329))}}}return gt(e,Re()),e.callbackNode===n?hm.bind(null,e):null}function cu(e,t){var n=eo;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=ta(e,t),e!==2&&(t=ft,ft=n,t!==null&&du(t)),e}function du(e){ft===null?ft=e:ft.push.apply(ft,e)}function dx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Qt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Ec,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function hf(e){if(se&6)throw Error(L(327));ns();var t=Ii(e,0);if(!(t&1))return gt(e,Re()),null;var n=ta(e,t);if(e.tag!==0&&n===2){var r=Dl(e);r!==0&&(t=r,n=cu(e,r))}if(n===1)throw n=wo,Sr(e,0),Rn(e,t),gt(e,Re()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,ft,un),gt(e,Re()),null}function Tc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(ks=Re()+500,xa&&tr())}}function Mr(e){Un!==null&&Un.tag===0&&!(se&6)&&ns();var t=se;se|=1;var n=Lt.transition,r=le;try{if(Lt.transition=null,le=1,e)return e()}finally{le=r,Lt.transition=n,se=t,!(se&6)&&tr()}}function Rc(){vt=Xr.current,pe(Xr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$y(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:vs(),pe(pt),pe(nt),vc();break;case 5:xc(r);break;case 4:vs();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:pc(r.type._context);break;case 22:case 23:Rc()}n=n.return}if(Be=e,Fe=e=Gn(e.current,null),qe=vt=t,_e=0,wo=null,Ec=ba=Fr=0,ft=eo=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ur=null}return e}function pm(e,t){do{var n=Fe;try{if(hc(),ki.current=Yi,Xi){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xi=!1}if(Rr=0,$e=Oe=ke=null,Js=!1,yo=0,Cc.current=null,n===null||n.return===null){_e=1,wo=t,Fe=null;break}e:{var o=e,i=n.return,l=n,u=t;if(t=qe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=l,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=Zd(i);if(m!==null){m.flags&=-257,ef(m,i,l,o,t),m.mode&1&&Jd(o,c,t),t=m,u=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(u),t.updateQueue=w}else v.add(u);break e}else{if(!(t&1)){Jd(o,c,t),Fc();break e}u=Error(L(426))}}else if(ge&&l.mode&1){var y=Zd(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ef(y,i,l,o,t),dc(ws(u,l));break e}}o=u=ws(u,l),_e!==4&&(_e=2),eo===null?eo=[o]:eo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var d=Yp(o,u,t);Qd(o,d);break e;case 1:l=u;var f=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qn===null||!qn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=Jp(o,l,t);Qd(o,k);break e}}o=o.return}while(o!==null)}ym(n)}catch(j){t=j,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function mm(){var e=Ji.current;return Ji.current=Yi,e===null?Yi:e}function Fc(){(_e===0||_e===3||_e===2)&&(_e=4),Be===null||!(Fr&268435455)&&!(ba&268435455)||Rn(Be,qe)}function ta(e,t){var n=se;se|=2;var r=mm();(Be!==e||qe!==t)&&(un=null,Sr(e,t));do try{fx();break}catch(s){pm(e,s)}while(1);if(hc(),se=n,Ji.current=r,Fe!==null)throw Error(L(261));return Be=null,qe=0,_e}function fx(){for(;Fe!==null;)gm(Fe)}function hx(){for(;Fe!==null&&!zg();)gm(Fe)}function gm(e){var t=vm(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?ym(e):Fe=t,Cc.current=null}function ym(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ix(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Fe=null;return}}else if(n=ox(n,t,vt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);_e===0&&(_e=5)}function ir(e,t,n){var r=le,s=Lt.transition;try{Lt.transition=null,le=1,px(e,t,n,r)}finally{Lt.transition=s,le=r}return null}function px(e,t,n,r){do ns();while(Un!==null);if(se&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kg(e,o),e===Be&&(Fe=Be=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||di||(di=!0,wm(Di,function(){return ns(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lt.transition,Lt.transition=null;var i=le;le=1;var l=se;se|=4,Cc.current=null,lx(e,n),dm(n,e),Oy(Bl),zi=!!$l,Bl=$l=null,e.current=n,ux(n),Ag(),se=l,le=i,Lt.transition=o}else e.current=n;if(di&&(di=!1,Un=e,ea=s),o=e.pendingLanes,o===0&&(qn=null),Bg(n.stateNode),gt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zi)throw Zi=!1,e=lu,lu=null,e;return ea&1&&e.tag!==0&&ns(),o=e.pendingLanes,o&1?e===uu?to++:(to=0,uu=e):to=0,tr(),null}function ns(){if(Un!==null){var e=Yh(ea),t=Lt.transition,n=le;try{if(Lt.transition=null,le=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,ea=0,se&6)throw Error(L(331));var s=se;for(se|=4,A=e.current;A!==null;){var o=A,i=o.child;if(A.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(A=c;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:Zs(8,p,o)}var h=p.child;if(h!==null)h.return=p,A=h;else for(;A!==null;){p=A;var g=p.sibling,m=p.return;if(lm(p),p===c){A=null;break}if(g!==null){g.return=m,A=g;break}A=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}A=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,A=i;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,A=d;break e}A=o.return}}var f=e.current;for(A=f;A!==null;){i=A;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,A=x;else e:for(i=f;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ka(9,l)}}catch(j){Ce(l,l.return,j)}if(l===i){A=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,A=k;break e}A=l.return}}if(se=s,tr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{le=n,Lt.transition=t}}return!1}function pf(e,t,n){t=ws(n,t),t=Yp(e,t,1),e=Qn(e,t,1),t=it(),e!==null&&(Uo(e,1,t),gt(e,t))}function Ce(e,t,n){if(e.tag===3)pf(e,e,n);else for(;t!==null;){if(t.tag===3){pf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=ws(n,e),e=Jp(t,e,1),t=Qn(t,e,1),e=it(),t!==null&&(Uo(t,1,e),gt(t,e));break}}t=t.return}}function mx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(qe&n)===n&&(_e===4||_e===3&&(qe&130023424)===qe&&500>Re()-Pc?Sr(e,0):Ec|=n),gt(e,t)}function xm(e,t){t===0&&(e.mode&1?(t=ti,ti<<=1,!(ti&130023424)&&(ti=4194304)):t=1);var n=it();e=vn(e,t),e!==null&&(Uo(e,t,n),gt(e,n))}function gx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xm(e,n)}function yx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),xm(e,n)}var vm;vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,sx(e,t,n);ht=!!(e.flags&131072)}else ht=!1,ge&&t.flags&1048576&&Sp(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Si(e,t),e=t.pendingProps;var s=gs(t,nt.current);ts(t,n),s=kc(null,t,r,e,s,n);var o=bc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(o=!0,Wi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gc(t),s.updater=wa,t.stateNode=s,s._reactInternals=t,Yl(t,r,e,n),t=eu(null,t,r,!0,o,n)):(t.tag=0,ge&&o&&uc(t),ot(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=vx(r),e=zt(r,e),s){case 0:t=Zl(null,t,r,e,n);break e;case 1:t=rf(null,t,r,e,n);break e;case 11:t=tf(null,t,r,e,n);break e;case 14:t=nf(null,t,r,zt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Zl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),rf(e,t,r,s,n);case 3:e:{if(nm(t),e===null)throw Error(L(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Tp(e,t),Ki(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ws(Error(L(423)),t),t=sf(e,t,r,n,s);break e}else if(r!==s){s=ws(Error(L(424)),t),t=sf(e,t,r,n,s);break e}else for(wt=Hn(t.stateNode.containerInfo.firstChild),kt=t,ge=!0,Bt=null,n=Ep(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===s){t=wn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return Rp(t),e===null&&Kl(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Wl(r,s)?i=null:o!==null&&Wl(r,o)&&(t.flags|=32),tm(e,t),ot(e,t,i,n),t.child;case 6:return e===null&&Kl(t),null;case 13:return rm(e,t,n);case 4:return yc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xs(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),tf(e,t,r,s,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ce(Qi,r._currentValue),r._currentValue=i,o!==null)if(Qt(o.value,i)){if(o.children===s.children&&!pt.current){t=wn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=gn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Gl(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ot(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ts(t,n),s=Ot(s),r=r(s),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,s=zt(r,t.pendingProps),s=zt(r.type,s),nf(e,t,r,s,n);case 15:return Zp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Si(e,t),t.tag=1,mt(r)?(e=!0,Wi(t)):e=!1,ts(t,n),Xp(t,r,s),Yl(t,r,s,n),eu(null,t,r,!0,e,n);case 19:return sm(e,t,n);case 22:return em(e,t,n)}throw Error(L(156,t.tag))};function wm(e,t){return qh(e,t)}function xx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new xx(e,t,n,r)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vx(e){if(typeof e=="function")return Mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yu)return 11;if(e===Ju)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ci(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Mc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ur:return jr(n.children,s,o,t);case Xu:i=8,s|=8;break;case kl:return e=Mt(12,n,t,s|2),e.elementType=kl,e.lanes=o,e;case bl:return e=Mt(13,n,t,s),e.elementType=bl,e.lanes=o,e;case Sl:return e=Mt(19,n,t,s),e.elementType=Sl,e.lanes=o,e;case Rh:return Sa(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ph:i=10;break e;case Th:i=9;break e;case Yu:i=11;break e;case Ju:i=14;break e;case En:i=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Mt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function jr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Sa(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Rh,e.lanes=n,e.stateNode={isHidden:!1},e}function dl(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function fl(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,s,o,i,l,u){return e=new wx(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(o),e}function kx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function km(e){if(!e)return Jn;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(mt(n))return kp(e,n,t)}return t}function bm(e,t,n,r,s,o,i,l,u){return e=Lc(n,r,!0,e,s,o,i,l,u),e.context=km(null),n=e.current,r=it(),s=Kn(n),o=gn(r,s),o.callback=t??null,Qn(n,o,s),e.current.lanes=s,Uo(e,s,r),gt(e,r),e}function ja(e,t,n,r){var s=t.current,o=it(),i=Kn(s);return n=km(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,i),e!==null&&(Vt(e,s,i,o),wi(e,s,i)),i}function na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oc(e,t){mf(e,t),(e=e.alternate)&&mf(e,t)}function bx(){return null}var Sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function _c(e){this._internalRoot=e}Na.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ja(e,t,null,null)};Na.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){ja(null,e,null,null)}),t[xn]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&np(e)}};function Dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gf(){}function Sx(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=na(i);o.call(c)}}var i=bm(t,r,e,0,null,!1,!1,"",gf);return e._reactRootContainer=i,e[xn]=i.current,fo(e.nodeType===8?e.parentNode:e),Mr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=na(u);l.call(c)}}var u=Lc(e,0,!1,null,null,!1,!1,"",gf);return e._reactRootContainer=u,e[xn]=u.current,fo(e.nodeType===8?e.parentNode:e),Mr(function(){ja(t,u,n,r)}),u}function Ea(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var u=na(i);l.call(u)}}ja(t,i,e,s)}else i=Sx(n,t,e,s,r);return na(i)}Jh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vs(t.pendingLanes);n!==0&&(tc(t,n|1),gt(t,Re()),!(se&6)&&(ks=Re()+500,tr()))}break;case 13:Mr(function(){var r=vn(e,1);if(r!==null){var s=it();Vt(r,e,1,s)}}),Oc(e,1)}};nc=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=it();Vt(t,e,134217728,n)}Oc(e,134217728)}};Zh=function(e){if(e.tag===13){var t=Kn(e),n=vn(e,t);if(n!==null){var r=it();Vt(n,e,t,r)}Oc(e,t)}};ep=function(){return le};tp=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Ll=function(e,t,n){switch(t){case"input":if(Cl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ya(r);if(!s)throw Error(L(90));Mh(r),Cl(r,s)}}}break;case"textarea":Oh(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};$h=Tc;Bh=Mr;var jx={usingClientEntryPoint:!1,Events:[Bo,Vr,ya,Ah,Uh,Tc]},As={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nx={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{ha=fi.inject(Nx),sn=fi}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dc(t))throw Error(L(200));return kx(e,t,null,n)};St.createRoot=function(e,t){if(!Dc(e))throw Error(L(299));var n=!1,r="",s=Sm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lc(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,fo(e.nodeType===8?e.parentNode:e),new _c(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Mr(e)};St.hydrate=function(e,t,n){if(!Ca(t))throw Error(L(200));return Ea(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Dc(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Sm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=bm(t,null,e,1,n??null,s,!1,o,i),e[xn]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Na(t)};St.render=function(e,t,n){if(!Ca(t))throw Error(L(200));return Ea(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(L(40));return e._reactRootContainer?(Mr(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};St.unstable_batchedUpdates=Tc;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ca(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ea(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jm)}catch(e){console.error(e)}}jm(),jh.exports=St;var Cx=jh.exports,yf=Cx;vl.createRoot=yf.createRoot,vl.hydrateRoot=yf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(this,arguments)}var $n;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($n||($n={}));const xf="popstate";function Ex(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return fu("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cm(s)}return Tx(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Px(){return Math.random().toString(36).substr(2,8)}function vf(e,t){return{usr:e.state,key:e.key,idx:t}}function fu(e,t,n,r){return n===void 0&&(n=null),ko({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:n,key:t&&t.key||r||Px()})}function Cm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Tx(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=$n.Pop,u=null,c=p();c==null&&(c=0,i.replaceState(ko({},i.state,{idx:c}),""));function p(){return(i.state||{idx:null}).idx}function h(){l=$n.Pop;let y=p(),d=y==null?null:y-c;c=y,u&&u({action:l,location:w.location,delta:d})}function g(y,d){l=$n.Push;let f=fu(w.location,y,d);n&&n(f,y),c=p()+1;let x=vf(f,c),k=w.createHref(f);try{i.pushState(x,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}o&&u&&u({action:l,location:w.location,delta:1})}function m(y,d){l=$n.Replace;let f=fu(w.location,y,d);n&&n(f,y),c=p();let x=vf(f,c),k=w.createHref(f);i.replaceState(x,"",k),o&&u&&u({action:l,location:w.location,delta:0})}function v(y){let d=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof y=="string"?y:Cm(y);return f=f.replace(/ $/,"%20"),De(d,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,d)}let w={get action(){return l},get location(){return e(s,i)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(xf,h),u=y,()=>{s.removeEventListener(xf,h),u=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let d=v(y);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:g,replace:m,go(y){return i.go(y)}};return w}var wf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wf||(wf={}));function Rx(e,t,n){return n===void 0&&(n="/"),Fx(e,t,n,!1)}function Fx(e,t,n,r){let s=typeof t=="string"?Cs(t):t,o=Tm(s.pathname||"/",n);if(o==null)return null;let i=Em(e);Mx(i);let l=null;for(let u=0;l==null&&u<i.length;++u){let c=Wx(o);l=$x(i[u],c,r)}return l}function Em(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Nr([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Em(o.children,t,p,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:Ax(c,o.index),routesMeta:p})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let u of Pm(o.path))s(o,i,u)}),t}function Pm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Pm(r.join("/")),l=[];return l.push(...i.map(u=>u===""?o:[o,u].join("/"))),s&&l.push(...i),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Mx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ux(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lx=/^:[\w-]+$/,Ox=3,_x=2,Dx=1,Ix=10,zx=-2,kf=e=>e==="*";function Ax(e,t){let n=e.split("/"),r=n.length;return n.some(kf)&&(r+=zx),t&&(r+=_x),n.filter(s=>!kf(s)).reduce((s,o)=>s+(Lx.test(o)?Ox:o===""?Dx:Ix),r)}function Ux(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $x(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",h=bf({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),g=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=bf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Nr([o,h.pathname]),pathnameBase:Gx(Nr([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=Nr([o,h.pathnameBase]))}return i}function bf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Bx(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,p,h)=>{let{paramName:g,isOptional:m}=p;if(g==="*"){let w=l[h]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?c[g]=void 0:c[g]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function Bx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Wx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Vx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Cs(e):e;return{pathname:n?n.startsWith("/")?n:Hx(n,t):t,search:Xx(r),hash:Yx(s)}}function Hx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qx(e,t){let n=Qx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Kx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Cs(e):(s=ko({},e),De(!s.pathname||!s.pathname.includes("?"),hl("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),hl("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),hl("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?t[h]:"/"}let u=Vx(s,l),c=i&&i!=="/"&&i.endsWith("/"),p=(o||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const Nr=e=>e.join("/").replace(/\/\/+/g,"/"),Gx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rm=["post","put","patch","delete"];new Set(Rm);const Zx=["get",...Rm];new Set(Zx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}const Ic=b.createContext(null),ev=b.createContext(null),Pa=b.createContext(null),Ta=b.createContext(null),Ir=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Fm=b.createContext(null);function Ra(){return b.useContext(Ta)!=null}function zc(){return Ra()||De(!1),b.useContext(Ta).location}function Mm(e){b.useContext(Pa).static||b.useLayoutEffect(e)}function bn(){let{isDataRoute:e}=b.useContext(Ir);return e?hv():tv()}function tv(){Ra()||De(!1);let e=b.useContext(Ic),{basename:t,future:n,navigator:r}=b.useContext(Pa),{matches:s}=b.useContext(Ir),{pathname:o}=zc(),i=JSON.stringify(qx(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return Mm(()=>{l.current=!0}),b.useCallback(function(c,p){if(p===void 0&&(p={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Kx(c,JSON.parse(i),o,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Nr([t,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[t,r,i,o,e])}function Lm(){let{matches:e}=b.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function nv(e,t){return rv(e,t)}function rv(e,t,n,r){Ra()||De(!1);let{navigator:s}=b.useContext(Pa),{matches:o}=b.useContext(Ir),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=zc(),p;if(t){var h;let y=typeof t=="string"?Cs(t):t;u==="/"||(h=y.pathname)!=null&&h.startsWith(u)||De(!1),p=y}else p=c;let g=p.pathname||"/",m=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Rx(e,{pathname:m}),w=lv(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Nr([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Nr([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&w?b.createElement(Ta.Provider,{value:{location:bo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:$n.Pop}},w):w}function sv(){let e=fv(),t=Jx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,o)}const ov=b.createElement(sv,null);class iv extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ir.Provider,{value:this.props.routeContext},b.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function av(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Ic);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ir.Provider,{value:t},r)}function lv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let p=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);p>=0||De(!1),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let h=i[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=p),h.route.id){let{loaderData:g,errors:m}=n,v=h.route.loader&&g[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((p,h,g)=>{let m,v=!1,w=null,y=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||ov,u&&(c<0&&g===0?(pv("route-fallback",!1),v=!0,y=null):c===g&&(v=!0,y=h.route.hydrateFallbackElement||null)));let d=t.concat(i.slice(0,g+1)),f=()=>{let x;return m?x=w:v?x=y:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=p,b.createElement(av,{match:h,routeContext:{outlet:p,matches:d,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?b.createElement(iv,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var Om=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Om||{}),ra=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ra||{});function uv(e){let t=b.useContext(Ic);return t||De(!1),t}function cv(e){let t=b.useContext(ev);return t||De(!1),t}function dv(e){let t=b.useContext(Ir);return t||De(!1),t}function _m(e){let t=dv(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function fv(){var e;let t=b.useContext(Fm),n=cv(ra.UseRouteError),r=_m(ra.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function hv(){let{router:e}=uv(Om.UseNavigateStable),t=_m(ra.UseNavigateStable),n=b.useRef(!1);return Mm(()=>{n.current=!0}),b.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,bo({fromRouteId:t},o)))},[e,t])}const Sf={};function pv(e,t,n){!t&&!Sf[e]&&(Sf[e]=!0)}function mv(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ar(e){De(!1)}function gv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=$n.Pop,navigator:o,static:i=!1,future:l}=e;Ra()&&De(!1);let u=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:o,static:i,future:bo({v7_relativeSplatPath:!1},l)}),[u,l,o,i]);typeof r=="string"&&(r=Cs(r));let{pathname:p="/",search:h="",hash:g="",state:m=null,key:v="default"}=r,w=b.useMemo(()=>{let y=Tm(p,u);return y==null?null:{location:{pathname:y,search:h,hash:g,state:m,key:v},navigationType:s}},[u,p,h,g,m,v,s]);return w==null?null:b.createElement(Pa.Provider,{value:c},b.createElement(Ta.Provider,{children:n,value:w}))}function yv(e){let{children:t,location:n}=e;return nv(hu(t),n)}new Promise(()=>{});function hu(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let o=[...t,s];if(r.type===b.Fragment){n.push.apply(n,hu(r.props.children,o));return}r.type!==ar&&De(!1),!r.props.index||!r.props.children||De(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=hu(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xv="6";try{window.__reactRouterVersion=xv}catch{}const vv="startTransition",jf=mg[vv];function wv(e){let{basename:t,children:n,future:r,window:s}=e,o=b.useRef();o.current==null&&(o.current=Ex({window:s,v5Compat:!0}));let i=o.current,[l,u]=b.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},p=b.useCallback(h=>{c&&jf?jf(()=>u(h)):u(h)},[u,c]);return b.useLayoutEffect(()=>i.listen(p),[i,p]),b.useEffect(()=>mv(r),[r]),b.createElement(gv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var Nf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nf||(Nf={}));var Cf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cf||(Cf={}));var Vo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Fn,Bu,nh,bv=(nh=class{constructor(){U(this,Fn,kv);U(this,Bu,!1)}setTimeoutProvider(e){z(this,Fn,e)}setTimeout(e,t){return S(this,Fn).setTimeout(e,t)}clearTimeout(e){S(this,Fn).clearTimeout(e)}setInterval(e,t){return S(this,Fn).setInterval(e,t)}clearInterval(e){S(this,Fn).clearInterval(e)}},Fn=new WeakMap,Bu=new WeakMap,nh),dr=new bv;function Sv(e){setTimeout(e,0)}var Lr=typeof window>"u"||"Deno"in globalThis;function dt(){}function jv(e,t){return typeof e=="function"?e(t):e}function pu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xn(e,t){return typeof e=="function"?e(t):e}function Tt(e,t){return typeof e=="function"?e(t):e}function Ef(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==Ac(i,t.options))return!1}else if(!jo(t.queryKey,i))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Pf(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(So(t.options.mutationKey)!==So(o))return!1}else if(!jo(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ac(e,t){return((t==null?void 0:t.queryKeyHashFn)||So)(e)}function So(e){return JSON.stringify(e,(t,n)=>gu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>jo(e[n],t[n])):!1}var Nv=Object.prototype.hasOwnProperty;function Im(e,t){if(e===t)return e;const n=Tf(e)&&Tf(t);if(!n&&!(gu(e)&&gu(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),i=o.length,l=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const p=n?c:o[c],h=e[p],g=t[p];if(h===g){l[p]=h,(n?c<s:Nv.call(e,p))&&u++;continue}if(h===null||g===null||typeof h!="object"||typeof g!="object"){l[p]=g;continue}const m=Im(h,g);l[p]=m,m===h&&u++}return s===i&&u===s?e:l}function mu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Tf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gu(e){if(!Rf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cv(e){return new Promise(t=>{dr.setTimeout(t,e)})}function yu(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Im(e,t):t}function Ev(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Pv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Uc=Symbol();function zm(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Tv(e,t){return typeof e=="function"?e(...t):!!e}var hr,Mn,rs,rh,Rv=(rh=class extends Vo{constructor(){super();U(this,hr,void 0);U(this,Mn,void 0);U(this,rs,void 0);z(this,rs,t=>{if(!Lr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Mn)||this.setEventListener(S(this,rs))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Mn))==null||t.call(this),z(this,Mn,void 0))}setEventListener(t){var n;z(this,rs,t),(n=S(this,Mn))==null||n.call(this),z(this,Mn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,hr)!==t&&(z(this,hr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,hr)=="boolean"?S(this,hr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hr=new WeakMap,Mn=new WeakMap,rs=new WeakMap,rh),$c=new Rv;function xu(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Fv=Sv;function Mv(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Fv;const o=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||i()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Qe=Mv(),ss,Ln,os,sh,Lv=(sh=class extends Vo{constructor(){super();U(this,ss,!0);U(this,Ln,void 0);U(this,os,void 0);z(this,os,t=>{if(!Lr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Ln)||this.setEventListener(S(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Ln))==null||t.call(this),z(this,Ln,void 0))}setEventListener(t){var n;z(this,os,t),(n=S(this,Ln))==null||n.call(this),z(this,Ln,t(this.setOnline.bind(this)))}setOnline(t){S(this,ss)!==t&&(z(this,ss,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,ss)}},ss=new WeakMap,Ln=new WeakMap,os=new WeakMap,sh),sa=new Lv;function Ov(e){return Math.min(1e3*2**e,3e4)}function Am(e){return(e??"online")==="online"?sa.isOnline():!0}var vu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Um(e){let t=!1,n=0,r;const s=xu(),o=()=>s.status!=="pending",i=w=>{var y;if(!o()){const d=new vu(w);g(d),(y=e.onCancel)==null||y.call(e,d)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>$c.isFocused()&&(e.networkMode==="always"||sa.isOnline())&&e.canRun(),p=()=>Am(e.networkMode)&&e.canRun(),h=w=>{o()||(r==null||r(),s.resolve(w))},g=w=>{o()||(r==null||r(),s.reject(w))},m=()=>new Promise(w=>{var y;r=d=>{(o()||c())&&w(d)},(y=e.onPause)==null||y.call(e)}).then(()=>{var w;r=void 0,o()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(o())return;let w;const y=n===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(d){w=Promise.reject(d)}Promise.resolve(w).then(h).catch(d=>{var P;if(o())return;const f=e.retry??(Lr?0:3),x=e.retryDelay??Ov,k=typeof x=="function"?x(n,d):x,j=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,d);if(t||!j){g(d);return}n++,(P=e.onFail)==null||P.call(e,n,d),Cv(k).then(()=>c()?void 0:m()).then(()=>{t?g(d):v()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?v():m().then(v),s)}}var pr,oh,$m=(oh=class{constructor(){U(this,pr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pu(this.gcTime)&&z(this,pr,dr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lr?1/0:5*60*1e3))}clearGcTimeout(){S(this,pr)&&(dr.clearTimeout(S(this,pr)),z(this,pr,void 0))}},pr=new WeakMap,oh),mr,is,Pt,gr,Ue,Po,yr,At,ln,ih,_v=(ih=class extends $m{constructor(t){super();U(this,At);U(this,mr,void 0);U(this,is,void 0);U(this,Pt,void 0);U(this,gr,void 0);U(this,Ue,void 0);U(this,Po,void 0);U(this,yr,void 0);z(this,yr,!1),z(this,Po,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,gr,t.client),z(this,Pt,S(this,gr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,mr,Ff(this.options)),this.state=t.state??S(this,mr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,Po),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ff(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),z(this,mr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Pt).remove(this)}setData(t,n){const r=yu(this.state.data,t,this.options);return ee(this,At,ln).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ee(this,At,ln).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=S(this,Ue))==null?void 0:r.promise;return(s=S(this,Ue))==null||s.cancel(t),n?n.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,mr))}isActive(){return this.observers.some(t=>Tt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Pt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,Ue)&&(S(this,yr)?S(this,Ue).cancel({revert:!0}):S(this,Ue).cancelRetry()),this.scheduleGc()),S(this,Pt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,At,ln).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,p,h,g,m,v,w,y,d,f,x;if(this.state.fetchStatus!=="idle"&&((u=S(this,Ue))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ue))return S(this,Ue).continueRetry(),S(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(j=>j.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(z(this,yr,!0),r.signal)})},o=()=>{const k=zm(this.options,n),P=(()=>{const T={client:S(this,gr),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return z(this,yr,!1),this.options.persister?this.options.persister(k,P,this):k(P)},l=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,gr),state:this.state,fetchFn:o};return s(k),k})();(c=this.options.behavior)==null||c.onFetch(l,this),z(this,is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&ee(this,At,ln).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),z(this,Ue,Um({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof vu&&k.revert&&this.setState({...S(this,is),fetchStatus:"idle"}),r.abort()},onFail:(k,j)=>{ee(this,At,ln).call(this,{type:"failed",failureCount:k,error:j})},onPause:()=>{ee(this,At,ln).call(this,{type:"pause"})},onContinue:()=>{ee(this,At,ln).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await S(this,Ue).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(m=(g=S(this,Pt).config).onSuccess)==null||m.call(g,k,this),(w=(v=S(this,Pt).config).onSettled)==null||w.call(v,k,this.state.error,this),k}catch(k){if(k instanceof vu){if(k.silent)return S(this,Ue).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw ee(this,At,ln).call(this,{type:"error",error:k}),(d=(y=S(this,Pt).config).onError)==null||d.call(y,k,this),(x=(f=S(this,Pt).config).onSettled)==null||x.call(f,this.state.data,k,this),k}finally{this.scheduleGc()}}},mr=new WeakMap,is=new WeakMap,Pt=new WeakMap,gr=new WeakMap,Ue=new WeakMap,Po=new WeakMap,yr=new WeakMap,At=new WeakSet,ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Bm(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,is,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Qe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Pt).notify({query:this,type:"updated",action:t})})},ih);function Bm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Am(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ff(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ct,te,To,rt,xr,as,fn,On,Ro,ls,us,vr,wr,_n,cs,kr,Qs,Fo,wu,Mo,ku,Lo,bu,Oo,Su,_o,ju,Do,Nu,Io,Cu,da,Vm,ah,Wm=(ah=class extends Vo{constructor(t,n){super();U(this,kr);U(this,Fo);U(this,Mo);U(this,Lo);U(this,Oo);U(this,_o);U(this,Do);U(this,Io);U(this,da);U(this,ct,void 0);U(this,te,void 0);U(this,To,void 0);U(this,rt,void 0);U(this,xr,void 0);U(this,as,void 0);U(this,fn,void 0);U(this,On,void 0);U(this,Ro,void 0);U(this,ls,void 0);U(this,us,void 0);U(this,vr,void 0);U(this,wr,void 0);U(this,_n,void 0);U(this,cs,new Set);this.options=n,z(this,ct,t),z(this,On,null),z(this,fn,xu()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,te).addObserver(this),Mf(S(this,te),this.options)?ee(this,kr,Qs).call(this):this.updateResult(),ee(this,Oo,Su).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eu(S(this,te),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eu(S(this,te),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,_o,ju).call(this),ee(this,Do,Nu).call(this),S(this,te).removeObserver(this)}setOptions(t){const n=this.options,r=S(this,te);if(this.options=S(this,ct).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tt(this.options.enabled,S(this,te))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,Io,Cu).call(this),S(this,te).setOptions(this.options),n._defaulted&&!mu(this.options,n)&&S(this,ct).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,te),observer:this});const s=this.hasListeners();s&&Lf(S(this,te),r,this.options,n)&&ee(this,kr,Qs).call(this),this.updateResult(),s&&(S(this,te)!==r||Tt(this.options.enabled,S(this,te))!==Tt(n.enabled,S(this,te))||Xn(this.options.staleTime,S(this,te))!==Xn(n.staleTime,S(this,te)))&&ee(this,Fo,wu).call(this);const o=ee(this,Mo,ku).call(this);s&&(S(this,te)!==r||Tt(this.options.enabled,S(this,te))!==Tt(n.enabled,S(this,te))||o!==S(this,_n))&&ee(this,Lo,bu).call(this,o)}getOptimisticResult(t){const n=S(this,ct).getQueryCache().build(S(this,ct),t),r=this.createResult(n,t);return Iv(this,r)&&(z(this,rt,r),z(this,as,this.options),z(this,xr,S(this,te).state)),r}getCurrentResult(){return S(this,rt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&S(this,fn).status==="pending"&&S(this,fn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){S(this,cs).add(t)}getCurrentQuery(){return S(this,te)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,ct).defaultQueryOptions(t),r=S(this,ct).getQueryCache().build(S(this,ct),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ee(this,kr,Qs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,rt)))}createResult(t,n){var _;const r=S(this,te),s=this.options,o=S(this,rt),i=S(this,xr),l=S(this,as),c=t!==r?t.state:S(this,To),{state:p}=t;let h={...p},g=!1,m;if(n._optimisticResults){const E=this.hasListeners(),V=!E&&Mf(t,n),$=E&&Lf(t,r,n,s);(V||$)&&(h={...h,...Bm(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:y}=h;m=h.data;let d=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let E;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=o.data,d=!0):E=typeof n.placeholderData=="function"?n.placeholderData((_=S(this,us))==null?void 0:_.state.data,S(this,us)):n.placeholderData,E!==void 0&&(y="success",m=yu(o==null?void 0:o.data,E,n),g=!0)}if(n.select&&m!==void 0&&!d)if(o&&m===(i==null?void 0:i.data)&&n.select===S(this,Ro))m=S(this,ls);else try{z(this,Ro,n.select),m=n.select(m),m=yu(o==null?void 0:o.data,m,n),z(this,ls,m),z(this,On,null)}catch(E){z(this,On,E)}S(this,On)&&(v=S(this,On),m=S(this,ls),w=Date.now(),y="error");const f=h.fetchStatus==="fetching",x=y==="pending",k=y==="error",j=x&&f,P=m!==void 0,F={status:y,fetchStatus:h.fetchStatus,isPending:x,isSuccess:y==="success",isError:k,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:f,isRefetching:f&&!x,isLoadingError:k&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&P,isStale:Bc(t,n),refetch:this.refetch,promise:S(this,fn),isEnabled:Tt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=ne=>{F.status==="error"?ne.reject(F.error):F.data!==void 0&&ne.resolve(F.data)},V=()=>{const ne=z(this,fn,F.promise=xu());E(ne)},$=S(this,fn);switch($.status){case"pending":t.queryHash===r.queryHash&&E($);break;case"fulfilled":(F.status==="error"||F.data!==$.value)&&V();break;case"rejected":(F.status!=="error"||F.error!==$.reason)&&V();break}}return F}updateResult(){const t=S(this,rt),n=this.createResult(S(this,te),this.options);if(z(this,xr,S(this,te).state),z(this,as,this.options),S(this,xr).data!==void 0&&z(this,us,S(this,te)),mu(n,t))return;z(this,rt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!S(this,cs).size)return!0;const i=new Set(o??S(this,cs));return this.options.throwOnError&&i.add("error"),Object.keys(S(this,rt)).some(l=>{const u=l;return S(this,rt)[u]!==t[u]&&i.has(u)})};ee(this,da,Vm).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,Oo,Su).call(this)}},ct=new WeakMap,te=new WeakMap,To=new WeakMap,rt=new WeakMap,xr=new WeakMap,as=new WeakMap,fn=new WeakMap,On=new WeakMap,Ro=new WeakMap,ls=new WeakMap,us=new WeakMap,vr=new WeakMap,wr=new WeakMap,_n=new WeakMap,cs=new WeakMap,kr=new WeakSet,Qs=function(t){ee(this,Io,Cu).call(this);let n=S(this,te).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(dt)),n},Fo=new WeakSet,wu=function(){ee(this,_o,ju).call(this);const t=Xn(this.options.staleTime,S(this,te));if(Lr||S(this,rt).isStale||!pu(t))return;const r=Dm(S(this,rt).dataUpdatedAt,t)+1;z(this,vr,dr.setTimeout(()=>{S(this,rt).isStale||this.updateResult()},r))},Mo=new WeakSet,ku=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,te)):this.options.refetchInterval)??!1},Lo=new WeakSet,bu=function(t){ee(this,Do,Nu).call(this),z(this,_n,t),!(Lr||Tt(this.options.enabled,S(this,te))===!1||!pu(S(this,_n))||S(this,_n)===0)&&z(this,wr,dr.setInterval(()=>{(this.options.refetchIntervalInBackground||$c.isFocused())&&ee(this,kr,Qs).call(this)},S(this,_n)))},Oo=new WeakSet,Su=function(){ee(this,Fo,wu).call(this),ee(this,Lo,bu).call(this,ee(this,Mo,ku).call(this))},_o=new WeakSet,ju=function(){S(this,vr)&&(dr.clearTimeout(S(this,vr)),z(this,vr,void 0))},Do=new WeakSet,Nu=function(){S(this,wr)&&(dr.clearInterval(S(this,wr)),z(this,wr,void 0))},Io=new WeakSet,Cu=function(){const t=S(this,ct).getQueryCache().build(S(this,ct),this.options);if(t===S(this,te))return;const n=S(this,te);z(this,te,t),z(this,To,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},da=new WeakSet,Vm=function(t){Qe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,rt))}),S(this,ct).getQueryCache().notify({query:S(this,te),type:"observerResultsUpdated"})})},ah);function Dv(e,t){return Tt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mf(e,t){return Dv(e,t)||e.state.data!==void 0&&Eu(e,t,t.refetchOnMount)}function Eu(e,t,n){if(Tt(t.enabled,e)!==!1&&Xn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Bc(e,t)}return!1}function Lf(e,t,n,r){return(e!==t||Tt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Bc(e,n)}function Bc(e,t){return Tt(t.enabled,e)!==!1&&e.isStaleByTime(Xn(t.staleTime,e))}function Iv(e,t){return!mu(e.getCurrentResult(),t)}function oa(e){return{onFetch:(t,n)=>{var p,h,g,m,v;const r=t.options,s=(g=(h=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},d=zm(t.options,t.fetchOptions),f=async(x,k,j)=>{if(w)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:k,direction:j?"backward":"forward",meta:t.options.meta};return y(V),V})(),F=await d(T),{maxPages:_}=t.options,E=j?Pv:Ev;return{pages:E(x.pages,F,_),pageParams:E(x.pageParams,k,_)}};if(s&&o.length){const x=s==="backward",k=x?Hm:Pu,j={pages:o,pageParams:i},P=k(r,j);l=await f(j,P,x)}else{const x=e??o.length;do{const k=u===0?i[0]??r.initialPageParam:Pu(r,l);if(u>0&&k==null)break;l=await f(l,k),u++}while(u<x)}return l};t.options.persister?t.fetchFn=()=>{var w,y;return(y=(w=t.options).persister)==null?void 0:y.call(w,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Pu(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Hm(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function zv(e,t){return t?Pu(e,t)!=null:!1}function Av(e,t){return!t||!e.getPreviousPageParam?!1:Hm(e,t)!=null}var Uv=class extends Wm{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:oa()})}getOptimisticResult(e){return e.behavior=oa(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var v,w;const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:o,isError:i,isRefetchError:l}=r,u=(w=(v=n.fetchMeta)==null?void 0:v.fetchMore)==null?void 0:w.direction,c=i&&u==="forward",p=s&&u==="forward",h=i&&u==="backward",g=s&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:zv(t,n.data),hasPreviousPage:Av(t,n.data),isFetchNextPageError:c,isFetchingNextPage:p,isFetchPreviousPageError:h,isFetchingPreviousPage:g,isRefetchError:l&&!c&&!h,isRefetching:o&&!p&&!g}}},en,st,br,tn,Cn,lh,$v=(lh=class extends $m{constructor(t){super();U(this,tn);U(this,en,void 0);U(this,st,void 0);U(this,br,void 0);this.mutationId=t.mutationId,z(this,st,t.mutationCache),z(this,en,[]),this.state=t.state||Bv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,en).includes(t)||(S(this,en).push(t),this.clearGcTimeout(),S(this,st).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,en,S(this,en).filter(n=>n!==t)),this.scheduleGc(),S(this,st).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,en).length||(this.state.status==="pending"?this.scheduleGc():S(this,st).remove(this))}continue(){var t;return((t=S(this,br))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,u,c,p,h,g,m,v,w,y,d,f,x,k,j,P,T,F;const n=()=>{ee(this,tn,Cn).call(this,{type:"continue"})};z(this,br,Um({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,E)=>{ee(this,tn,Cn).call(this,{type:"failed",failureCount:_,error:E})},onPause:()=>{ee(this,tn,Cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,st).canRun(this)}));const r=this.state.status==="pending",s=!S(this,br).canStart();try{if(r)n();else{ee(this,tn,Cn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=S(this,st).config).onMutate)==null?void 0:i.call(o,t,this));const E=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));E!==this.state.context&&ee(this,tn,Cn).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const _=await S(this,br).start();return await((p=(c=S(this,st).config).onSuccess)==null?void 0:p.call(c,_,t,this.state.context,this)),await((g=(h=this.options).onSuccess)==null?void 0:g.call(h,_,t,this.state.context)),await((v=(m=S(this,st).config).onSettled)==null?void 0:v.call(m,_,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,_,null,t,this.state.context)),ee(this,tn,Cn).call(this,{type:"success",data:_}),_}catch(_){try{throw await((f=(d=S(this,st).config).onError)==null?void 0:f.call(d,_,t,this.state.context,this)),await((k=(x=this.options).onError)==null?void 0:k.call(x,_,t,this.state.context)),await((P=(j=S(this,st).config).onSettled)==null?void 0:P.call(j,void 0,_,this.state.variables,this.state.context,this)),await((F=(T=this.options).onSettled)==null?void 0:F.call(T,void 0,_,t,this.state.context)),_}finally{ee(this,tn,Cn).call(this,{type:"error",error:_})}}finally{S(this,st).runNext(this)}}},en=new WeakMap,st=new WeakMap,br=new WeakMap,tn=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qe.batch(()=>{S(this,en).forEach(r=>{r.onMutationUpdate(t)}),S(this,st).notify({mutation:this,type:"updated",action:t})})},lh);function Bv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hn,Ut,zo,uh,Wv=(uh=class extends Vo{constructor(t={}){super();U(this,hn,void 0);U(this,Ut,void 0);U(this,zo,void 0);this.config=t,z(this,hn,new Set),z(this,Ut,new Map),z(this,zo,0)}build(t,n,r){const s=new $v({mutationCache:this,mutationId:++Go(this,zo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){S(this,hn).add(t);const n=hi(t);if(typeof n=="string"){const r=S(this,Ut).get(n);r?r.push(t):S(this,Ut).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,hn).delete(t)){const n=hi(t);if(typeof n=="string"){const r=S(this,Ut).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&S(this,Ut).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=hi(t);if(typeof n=="string"){const r=S(this,Ut).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=hi(t);if(typeof n=="string"){const s=(r=S(this,Ut).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qe.batch(()=>{S(this,hn).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,hn).clear(),S(this,Ut).clear()})}getAll(){return Array.from(S(this,hn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pf(n,r))}findAll(t={}){return this.getAll().filter(n=>Pf(t,n))}notify(t){Qe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qe.batch(()=>Promise.all(t.map(n=>n.continue().catch(dt))))}},hn=new WeakMap,Ut=new WeakMap,zo=new WeakMap,uh);function hi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var nn,ch,Vv=(ch=class extends Vo{constructor(t={}){super();U(this,nn,void 0);this.config=t,z(this,nn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Ac(s,n);let i=this.get(o);return i||(i=new _v({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){S(this,nn).has(t.queryHash)||(S(this,nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,nn).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,nn).get(t)}getAll(){return[...S(this,nn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ef(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ef(t,r)):n}notify(t){Qe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nn=new WeakMap,ch),je,Dn,In,ds,fs,zn,hs,ps,dh,Hv=(dh=class{constructor(e={}){U(this,je,void 0);U(this,Dn,void 0);U(this,In,void 0);U(this,ds,void 0);U(this,fs,void 0);U(this,zn,void 0);U(this,hs,void 0);U(this,ps,void 0);z(this,je,e.queryCache||new Vv),z(this,Dn,e.mutationCache||new Wv),z(this,In,e.defaultOptions||{}),z(this,ds,new Map),z(this,fs,new Map),z(this,zn,0)}mount(){Go(this,zn)._++,S(this,zn)===1&&(z(this,hs,$c.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,je).onFocus())})),z(this,ps,sa.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,je).onOnline())})))}unmount(){var e,t;Go(this,zn)._--,S(this,zn)===0&&((e=S(this,hs))==null||e.call(this),z(this,hs,void 0),(t=S(this,ps))==null||t.call(this),z(this,ps,void 0))}isFetching(e){return S(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Dn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=S(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Xn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=S(this,je).get(r.queryHash),o=s==null?void 0:s.state.data,i=jv(t,o);if(i!==void 0)return S(this,je).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Qe.batch(()=>S(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,je);Qe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,je);return Qe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Qe.batch(()=>S(this,je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(dt).catch(dt)}invalidateQueries(e,t={}){return Qe.batch(()=>(S(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Qe.batch(()=>S(this,je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(dt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,je).build(this,t);return n.isStaleByTime(Xn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dt).catch(dt)}fetchInfiniteQuery(e){return e.behavior=oa(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dt).catch(dt)}ensureInfiniteQueryData(e){return e.behavior=oa(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sa.isOnline()?S(this,Dn).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,je)}getMutationCache(){return S(this,Dn)}getDefaultOptions(){return S(this,In)}setDefaultOptions(e){z(this,In,e)}setQueryDefaults(e,t){S(this,ds).set(So(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,ds).values()],n={};return t.forEach(r=>{jo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){S(this,fs).set(So(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,fs).values()],n={};return t.forEach(r=>{jo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ac(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Uc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,je).clear(),S(this,Dn).clear()}},je=new WeakMap,Dn=new WeakMap,In=new WeakMap,ds=new WeakMap,fs=new WeakMap,zn=new WeakMap,hs=new WeakMap,ps=new WeakMap,dh),Qm=b.createContext(void 0),Qv=e=>{const t=b.useContext(Qm);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qv=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Qm.Provider,{value:e,children:t})),qm=b.createContext(!1),Kv=()=>b.useContext(qm);qm.Provider;function Gv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Xv=b.createContext(Gv()),Yv=()=>b.useContext(Xv),Jv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zv=e=>{b.useEffect(()=>{e.clearReset()},[e])},e1=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Tv(n,[e.error,r])),t1=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},n1=(e,t)=>e.isLoading&&e.isFetching&&!t,r1=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Of=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Km(e,t,n){var h,g,m,v,w;const r=Kv(),s=Yv(),o=Qv(n),i=o.defaultQueryOptions(e);(g=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||g.call(h,i),i._optimisticResults=r?"isRestoring":"optimistic",t1(i),Jv(i,s),Zv(s);const l=!o.getQueryCache().get(i.queryHash),[u]=b.useState(()=>new t(o,i)),c=u.getOptimisticResult(i),p=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(y=>{const d=p?u.subscribe(Qe.batchCalls(y)):dt;return u.updateResult(),d},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(i)},[i,u]),r1(i,c))throw Of(i,u,s);if(e1({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((v=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,i,c),i.experimental_prefetchInRender&&!Lr&&n1(c,r)){const y=l?Of(i,u,s):(w=o.getQueryCache().get(i.queryHash))==null?void 0:w.promise;y==null||y.catch(dt).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?c:u.trackResult(c)}function ia(e,t){return Km(e,Wm,t)}function s1(e,t){return Km(e,Uv,t)}const _f=e=>{let t;const n=new Set,r=(p,h)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const m=t;t=h??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(v=>v(t,m))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{n.clear()}},c=t=e(r,s,u);return u},o1=e=>e?_f(e):_f;var Gm={exports:{}},Xm={},Ym={exports:{}},Jm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=b;function i1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a1=typeof Object.is=="function"?Object.is:i1,l1=bs.useState,u1=bs.useEffect,c1=bs.useLayoutEffect,d1=bs.useDebugValue;function f1(e,t){var n=t(),r=l1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return c1(function(){s.value=n,s.getSnapshot=t,pl(s)&&o({inst:s})},[e,n,t]),u1(function(){return pl(s)&&o({inst:s}),e(function(){pl(s)&&o({inst:s})})},[e]),d1(n),n}function pl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a1(e,n)}catch{return!0}}function h1(e,t){return t()}var p1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h1:f1;Jm.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:p1;Ym.exports=Jm;var m1=Ym.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=b,g1=m1;function y1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x1=typeof Object.is=="function"?Object.is:y1,v1=g1.useSyncExternalStore,w1=Fa.useRef,k1=Fa.useEffect,b1=Fa.useMemo,S1=Fa.useDebugValue;Xm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=w1(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=b1(function(){function u(m){if(!c){if(c=!0,p=m,m=r(m),s!==void 0&&i.hasValue){var v=i.value;if(s(v,m))return h=v}return h=m}if(v=h,x1(p,m))return v;var w=r(m);return s!==void 0&&s(v,w)?(p=m,v):(p=m,h=w)}var c=!1,p,h,g=n===void 0?null:n;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,n,r,s]);var l=v1(e,o[0],o[1]);return k1(function(){i.hasValue=!0,i.value=l},[l]),S1(l),l};Gm.exports=Xm;var j1=Gm.exports;const N1=fh(j1),{useDebugValue:C1}=Z,{useSyncExternalStoreWithSelector:E1}=N1;const P1=e=>e;function T1(e,t=P1,n){const r=E1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return C1(r),r}const Df=e=>{const t=typeof e=="function"?o1(e):e,n=(r,s)=>T1(t,r,s);return Object.assign(n,t),n},R1=e=>e?Df(e):Df;function F1(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=u=>u===null?null:JSON.parse(u,t==null?void 0:t.reviver),l=(o=n.getItem(s))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const No=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return No(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return No(r)(n)}}}},M1=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,d)=>({...d,...y}),...t},i=!1;const l=new Set,u=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=No(o.serialize),h=()=>{const y=o.partialize({...r()});let d;const f=p({state:y,version:o.version}).then(x=>c.setItem(o.name,x)).catch(x=>{d=x});if(d)throw d;return f},g=s.setState;s.setState=(y,d)=>{g(y,d),h()};const m=e((...y)=>{n(...y),h()},r,s);let v;const w=()=>{var y;if(!c)return;i=!1,l.forEach(f=>f(r()));const d=((y=o.onRehydrateStorage)==null?void 0:y.call(o,r()))||void 0;return No(c.getItem.bind(c))(o.name).then(f=>{if(f)return o.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return o.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var x;return v=o.merge(f,(x=r())!=null?x:m),n(v,!0),h()}).then(()=>{d==null||d(v,void 0),i=!0,u.forEach(f=>f(v))}).catch(f=>{d==null||d(void 0,f)})};return s.persist={setOptions:y=>{o={...o,...y},y.getStorage&&(c=y.getStorage())},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>i,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},w(),v||m},L1=(e,t)=>(n,r,s)=>{let o={storage:F1(()=>localStorage),partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...t},i=!1;const l=new Set,u=new Set;let c=o.storage;if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...w)},r,s);const p=()=>{const w=o.partialize({...r()});return c.setItem(o.name,{state:w,version:o.version})},h=s.setState;s.setState=(w,y)=>{h(w,y),p()};const g=e((...w)=>{n(...w),p()},r,s);s.getInitialState=()=>g;let m;const v=()=>{var w,y;if(!c)return;i=!1,l.forEach(f=>{var x;return f((x=r())!=null?x:g)});const d=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(w=r())!=null?w:g))||void 0;return No(c.getItem.bind(c))(o.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return[!0,o.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var x;const[k,j]=f;if(m=o.merge(j,(x=r())!=null?x:g),n(m,!0),k)return p()}).then(()=>{d==null||d(m,void 0),m=r(),i=!0,u.forEach(f=>f(m))}).catch(f=>{d==null||d(void 0,f)})};return s.persist={setOptions:w=>{o={...o,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},o.skipHydration||v(),m||g},O1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?M1(e,t):L1(e,t),_1=O1;class D1{constructor(){jn(this,"dbName","kiwi-cache");jn(this,"version",1);jn(this,"db",null)}async init(){return Promise.resolve()}async saveLibraryCache(t){console.log("Library cache saved to server")}async getLibraryCache(){return null}async saveFolderTree(t){console.log("Folder tree saved to server")}async getFolderTree(){return null}async savePhotos(t,n){console.log(`Photos cached on server: ${t.length} items`),n&&n(t.length,t.length)}async getPhotos(){return null}async saveMTimeData(t){console.log("MTime data saved to server")}async getMTimeData(){return null}async clearCache(){console.log("Cache cleared on server")}async getCacheSize(){return 0}async isCacheValid(t=24*60*60*1e3){return!0}async getServerCacheStatus(){try{const t=await fetch("/api/cache/status");if(!t.ok)throw new Error("Failed to get cache status");return await t.json()}catch(t){return console.error("Error getting server cache status:",t),null}}async refreshServerCache(){try{const t=await fetch("/api/cache/refresh",{method:"POST"});if(!t.ok)throw new Error("Failed to refresh cache");const n=await t.json();return console.log("Server cache refreshed:",n),n.success}catch(t){return console.error("Error refreshing server cache:",t),!1}}async updateServerCache(){try{const t=await fetch("/api/cache/update",{method:"POST"});if(!t.ok)throw new Error("Failed to update cache");const n=await t.json();return console.log("Server cache updated incrementally:",n),n}catch(t){return console.error("Error updating server cache:",t),null}}}const an=new D1,we=R1()(_1((e,t)=>({currentLibraryPath:null,sidebarOpen:!1,sidebarWidth:256,isLoading:!1,theme:"light",isMobile:!1,accentColor:"kiwi",settingsOpen:!1,currentFolder:null,currentTag:null,folderCache:null,folderTree:null,allPhotos:null,currentView:{type:"grid",thumbnailSize:"medium"},filters:{tags:[],fileTypes:[]},sortOptions:{field:"date",direction:"desc"},selectedItems:[],detailedPhoto:null,searchQuery:"",smbConnections:[],cacheProgress:{current:0,total:0,isCaching:!1},scrollPositions:{},podcastMode:{enabled:!1,audioTimeTracking:{}},audioPlayer:{isOpen:!1,currentAudio:null,playlist:[],currentIndex:-1,isPlaying:!1,volume:1,isMuted:!1,isShuffled:!1,isLooped:!1,currentTime:0},isMiniPlayer:!1,useFolderThumbnails:!1,visualizerSettings:{visBarCount:32,visBarRound:.4,visGlow:12,visOpacity:.8,visType:"Bars",visSmoothing:.7},setCurrentLibraryPath:n=>e({currentLibraryPath:n}),setSidebarOpen:n=>e({sidebarOpen:n}),setSidebarWidth:n=>e({sidebarWidth:n}),setIsLoading:n=>e({isLoading:n}),toggleTheme:()=>e(n=>({theme:n.theme==="light"?"dark":"light"})),setIsMobile:n=>e({isMobile:n}),setAccentColor:n=>e({accentColor:n}),setUseFolderThumbnails:n=>e({useFolderThumbnails:n}),setSettingsOpen:n=>e({settingsOpen:n}),setCurrentFolder:n=>{console.log("Setting current folder:",n),e({currentFolder:n})},setCurrentTag:n=>{console.log("Setting current tag:",n),e({currentTag:n})},setFolderCache:async n=>{if(e({folderCache:n}),n)try{console.log("Caching folder structure..."),await an.saveLibraryCache(n),console.log("Folder structure cached successfully")}catch(r){console.error("Failed to save folder cache to IndexedDB:",r)}},setFolderTree:async n=>{if(e({folderTree:n}),n)try{console.log("Caching folder tree..."),await an.saveFolderTree(n),console.log("Folder tree cached successfully")}catch(r){console.error("Failed to save folder tree to IndexedDB:",r)}},setAllPhotos:async n=>{if(e({allPhotos:n}),n)try{e({cacheProgress:{current:0,total:n.length,isCaching:!0}}),await an.savePhotos(n,(r,s)=>{e({cacheProgress:{current:r,total:s,isCaching:!0}})}),e({cacheProgress:{current:0,total:0,isCaching:!1}})}catch(r){console.error("Failed to save photos to IndexedDB:",r),e({cacheProgress:{current:0,total:0,isCaching:!1}})}},setCurrentView:n=>e({currentView:n}),setFilters:n=>e({filters:n}),setSortOptions:n=>e({sortOptions:n}),setSelectedItems:n=>e({selectedItems:n}),toggleSelectedItem:n=>e(r=>({selectedItems:r.selectedItems.includes(n)?r.selectedItems.filter(s=>s!==n):[...r.selectedItems,n]})),setDetailedPhoto:n=>{console.log("setDetailedPhoto called with:",n),e({detailedPhoto:n})},setSearchQuery:n=>{console.log("setSearchQuery called with:",n),e({searchQuery:n})},saveScrollPosition:n=>{const r=t(),s=r.currentFolder,o=r.currentTag;let i="root";s?i=`folder-${s}`:o&&(i=`tag-${o}`),console.log("Saving scroll position for view:",i,"position:",n),e(l=>({scrollPositions:{...l.scrollPositions,[i]:n}}))},restoreScrollPosition:()=>{const n=t(),r=n.currentFolder,s=n.currentTag;let o="root";r?o=`folder-${r}`:s&&(o=`tag-${s}`);const i=n.scrollPositions[o]||0;console.log("Restoring scroll position for view:",o,"position:",i),i>0&&requestAnimationFrame(()=>{console.log("Executing scroll to:",i),window.scrollTo({top:i,behavior:"instant"})})},clearScrollPosition:n=>{const r=t(),s=r.currentFolder,o=r.currentTag;let i;n?i=n:(i="root",s?i=`folder-${s}`:o&&(i=`tag-${o}`)),console.log("Clearing scroll position for view:",i),e(l=>{const u={...l.scrollPositions};return delete u[i],{scrollPositions:u}})},togglePodcastMode:()=>e(n=>({podcastMode:{...n.podcastMode,enabled:!n.podcastMode.enabled}})),saveAudioTime:(n,r)=>e(s=>({podcastMode:{...s.podcastMode,audioTimeTracking:{...s.podcastMode.audioTimeTracking,[n]:r}}})),getAudioTime:n=>t().podcastMode.audioTimeTracking[n]||0,clearAudioTime:n=>e(r=>{const s={...r.podcastMode.audioTimeTracking};return delete s[n],{podcastMode:{...r.podcastMode,audioTimeTracking:s}}}),clearAllAudioTimes:()=>e(n=>({podcastMode:{...n.podcastMode,audioTimeTracking:{}}})),addSMBConnection:n=>e(r=>({smbConnections:[...r.smbConnections,n]})),removeSMBConnection:n=>e(r=>({smbConnections:r.smbConnections.filter((s,o)=>o!==n)})),loadFromCache:async()=>{try{const[n,r,s]=await Promise.all([an.getLibraryCache(),an.getFolderTree(),an.getPhotos()]);return n&&r&&s?(e({folderCache:n,folderTree:r,allPhotos:s}),!0):!1}catch(n){return console.error("Failed to load from cache:",n),!1}},clearCache:async()=>{try{await an.clearCache(),e({folderCache:null,folderTree:null,allPhotos:null})}catch(n){console.error("Failed to clear cache:",n)}},getCacheSize:async()=>{try{return await an.getCacheSize()}catch(n){return console.error("Failed to get cache size:",n),0}},isCacheValid:async n=>{try{return await an.isCacheValid(n)}catch(r){return console.error("Failed to check cache validity:",r),!1}},openAudioPlayer:(n,r)=>e(s=>({audioPlayer:{...s.audioPlayer,isOpen:!0,currentAudio:n,playlist:r||[n],currentIndex:r?r.findIndex(o=>o.id===n.id):0}})),closeAudioPlayer:()=>e(n=>({audioPlayer:{...n.audioPlayer,isOpen:!1,currentAudio:null,playlist:[],currentIndex:-1,isPlaying:!1}})),setAudioPlayerState:n=>e(r=>({audioPlayer:{...r.audioPlayer,...n}})),playNextAudio:()=>e(n=>{const{audioPlayer:r}=n;if(r.playlist.length===0)return n;let s=r.currentIndex+1;return s>=r.playlist.length&&(s=0),{audioPlayer:{...r,currentAudio:r.playlist[s],currentIndex:s}}}),playPreviousAudio:()=>e(n=>{const{audioPlayer:r}=n;if(r.playlist.length===0)return n;let s=r.currentIndex-1;return s<0&&(s=r.playlist.length-1),{audioPlayer:{...r,currentAudio:r.playlist[s],currentIndex:s}}}),setMiniPlayer:n=>e({isMiniPlayer:n}),setVisualizerSettings:n=>e(r=>({visualizerSettings:{...r.visualizerSettings,...n}}))}),{name:"kiwi-app-storage",partialize:e=>({theme:e.theme,accentColor:e.accentColor,sidebarOpen:e.sidebarOpen,sidebarWidth:e.sidebarWidth,currentView:e.currentView,filters:e.filters,sortOptions:e.sortOptions,smbConnections:e.smbConnections,podcastMode:e.podcastMode,visualizerSettings:e.visualizerSettings,audioPlayer:{volume:e.audioPlayer.volume,isMuted:e.audioPlayer.isMuted,isShuffled:e.audioPlayer.isShuffled,isLooped:e.audioPlayer.isLooped}})}));var I1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const z1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A1=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...u},c)=>b.createElement("svg",{ref:c,...I1,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${z1(e)}`,...u},[...t.map(([p,h])=>b.createElement(p,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var H=A1;const U1=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$1=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),B1=H("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),Wc=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),W1=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),V1=H("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),Tu=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ru=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),H1=H("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),If=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Vc=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Fu=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Zm=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),zf=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Hc=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Cr=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Q1=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),q1=H("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Qc=H("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),K1=H("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),e0=H("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),t0=H("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Mu=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),n0=H("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),r0=H("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),G1=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),X1=H("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),s0=H("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),o0=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),no=H("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),i0=H("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Er=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Co=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Y1=H("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),J1=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Z1=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ew=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),tw=H("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),a0=H("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),l0=H("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),u0=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ei=H("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),c0=H("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),nw=H("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),rw=H("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),d0=H("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),f0=H("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Es=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sw=H("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ow=H("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ps=(e,t="bg")=>{var r;const n={kiwi:{bg:"bg-[#8E466D] dark:bg-[#A55A7F]",text:"text-[#8E466D] dark:text-[#A55A7F]",border:"border-[#8E466D]/20 dark:border-[#A55A7F]/30",ring:"ring-[#8E466D] dark:ring-[#A55A7F]",hover:"hover:bg-[#8E466D]/10 dark:hover:bg-[#A55A7F]/20",selected:"bg-[#8E466D]/20 text-[#8E466D] dark:bg-[#A55A7F]/30 dark:text-[#A55A7F]"},orange:{bg:"bg-orange-500 dark:bg-orange-400",text:"text-orange-600 dark:text-orange-400",border:"border-orange-200 dark:border-orange-700",ring:"ring-orange-500 dark:ring-orange-400",hover:"hover:bg-orange-50 dark:hover:bg-orange-900/20",selected:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"},blue:{bg:"bg-blue-500 dark:bg-blue-400",text:"text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-700",ring:"ring-blue-500 dark:ring-blue-400",hover:"hover:bg-blue-50 dark:hover:bg-blue-900/20",selected:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},green:{bg:"bg-green-500 dark:bg-green-400",text:"text-green-600 dark:text-green-400",border:"border-green-200 dark:border-green-700",ring:"ring-green-500 dark:ring-green-400",hover:"hover:bg-green-50 dark:hover:bg-green-900/20",selected:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},purple:{bg:"bg-purple-500 dark:bg-purple-400",text:"text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-700",ring:"ring-purple-500 dark:ring-purple-400",hover:"hover:bg-purple-50 dark:hover:bg-purple-900/20",selected:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"},red:{bg:"bg-red-500 dark:bg-red-400",text:"text-red-600 dark:text-red-400",border:"border-red-200 dark:border-red-700",ring:"ring-red-500 dark:ring-red-400",hover:"hover:bg-red-50 dark:hover:bg-red-900/20",selected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},pink:{bg:"bg-pink-500 dark:bg-pink-400",text:"text-pink-600 dark:text-pink-400",border:"border-pink-200 dark:border-pink-700",ring:"ring-pink-500 dark:ring-pink-400",hover:"hover:bg-pink-50 dark:hover:bg-pink-900/20",selected:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300"}};return((r=n[e])==null?void 0:r[t])||n.kiwi[t]},Te=e=>Ps(e,"bg"),Lu=e=>Ps(e,"text"),Ou=e=>Ps(e,"border"),qc=e=>Ps(e,"ring"),iw=e=>Ps(e,"hover"),_u=e=>Ps(e,"selected"),he=e=>{const t={kiwi:"#8E466D",orange:"#f97316",blue:"#3b82f6",green:"#22c55e",purple:"#a855f7",red:"#ef4444",pink:"#ec4899"};return t[e]||t.kiwi},h0=1e4,aw=2;async function lw(e,t={},n=h0){const r=new AbortController,s=setTimeout(()=>r.abort(),n);try{const o=await fetch(e,{...t,signal:r.signal,headers:{Connection:"close",...t.headers}});return clearTimeout(s),o}catch(o){throw clearTimeout(s),o instanceof Error&&o.name==="AbortError"?new Error(`Request timeout after ${n}ms`):o}}async function Ne(e,t={},n=h0,r=aw){let s;for(let o=0;o<=r;o++)try{return await lw(e,t,n)}catch(i){if(s=i,o<r){const l=Math.pow(2,o)*1e3;await new Promise(u=>setTimeout(u,l)),console.warn(`Fetch attempt ${o+1} failed, retrying in ${l}ms:`,i)}}throw s}class uw{constructor(){jn(this,"baseUrl","")}async getMetadata(){const t=await Ne(`${this.baseUrl}/api/library/metadata`);if(!t.ok)throw new Error(`Failed to fetch metadata: ${t.statusText}`);return t.json()}async getMtimeData(){const t=await Ne(`${this.baseUrl}/api/library/mtime`);if(!t.ok)throw new Error(`Failed to fetch mtime data: ${t.statusText}`);return t.json()}async getPhotoMetadata(t){const n=await Ne(`${this.baseUrl}/api/photos/${t}/metadata`);if(!n.ok)throw new Error(`Failed to fetch photo metadata: ${n.statusText}`);return n.json()}async getPhotos(){const t=await Ne(`${this.baseUrl}/api/photos`);if(!t.ok)throw new Error(`Failed to fetch photos: ${t.statusText}`);return t.json()}async getFolderCounts(){const t=await Ne(`${this.baseUrl}/api/folders/counts`);if(!t.ok)throw new Error(`Failed to fetch folder counts: ${t.statusText}`);return t.json()}async getRecursiveFolderCounts(){const t=await Ne(`${this.baseUrl}/api/folders/counts/recursive`);if(!t.ok)throw new Error(`Failed to fetch recursive folder counts: ${t.statusText}`);return t.json()}async getPhotoCount(){const t=await Ne(`${this.baseUrl}/api/photos/count`);if(!t.ok)throw new Error(`Failed to fetch photo count: ${t.statusText}`);return(await t.json()).count}async getPhotosPaginated(t={}){const n=new URLSearchParams;t.folderId&&n.append("folderId",t.folderId),t.limit&&n.append("limit",t.limit.toString()),t.offset&&n.append("offset",t.offset.toString()),t.orderBy&&n.append("orderBy",t.orderBy),t.orderDirection&&n.append("orderDirection",t.orderDirection),t.tags&&t.tags.length>0&&t.tags.forEach(s=>n.append("tags",s));const r=await Ne(`${this.baseUrl}/api/photos?${n}`);if(!r.ok)throw new Error(`Failed to fetch paginated photos: ${r.statusText}`);return r.json()}getPhotoFileUrl(t,n,r){return`${this.baseUrl}/api/photos/${t}/file?ext=${n}&name=${encodeURIComponent(r)}`}getPhotoThumbnailUrl(t,n){return`${this.baseUrl}/api/photos/${t}/thumbnail?name=${encodeURIComponent(n)}`}async loadLibraryMetadata(){try{const t=await Ne(`${this.baseUrl}/api/library/metadata`);if(!t.ok)throw new Error("Failed to load library metadata");return await t.json()}catch(t){return console.error("Error loading library metadata:",t),null}}async loadMTimeData(){try{const t=await Ne(`${this.baseUrl}/api/library/mtime`);if(!t.ok)throw new Error("Failed to load mtime data");return await t.json()}catch(t){return console.error("Error loading mtime data:",t),null}}async loadPhotoMetadata(t){try{const n=await Ne(`${this.baseUrl}/api/photos/${t}/metadata`);if(!n.ok)throw new Error("Failed to load photo metadata");return await n.json()}catch(n){return console.error("Error loading photo metadata:",n),null}}async loadAllPhotoMetadata(){try{const t=await Ne(`${this.baseUrl}/api/photos`);if(!t.ok)throw new Error("Failed to load all photo metadata");const n=await t.json();return n.photos||n}catch(t){return console.error("Error loading all photo metadata:",t),[]}}async loadFolderCounts(){try{const t=await Ne(`${this.baseUrl}/api/folders/counts`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to load folder counts:",t),{}}}async loadRecursiveFolderCounts(){try{const t=await Ne(`${this.baseUrl}/api/folders/counts/recursive`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to load recursive folder counts:",t),{}}}async getTotalPhotoCount(){try{const t=await Ne(`${this.baseUrl}/api/photos/count`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).count||0}catch(t){return console.error("Failed to get total photo count:",t),0}}async loadPaginatedPhotos(t,n=50,r=0,s="mtime",o="DESC"){try{const i=new URLSearchParams({limit:n.toString(),offset:r.toString(),orderBy:s,orderDirection:o});t&&i.append("folderId",t);const l=await Ne(`${this.baseUrl}/api/photos?${i}`);if(!l.ok)throw new Error("Failed to load paginated photos");return await l.json()}catch(i){return console.error("Error loading paginated photos:",i),{photos:[],total:0}}}async buildFolderCache(t,n){const r={},s={};return t.forEach(o=>{var i;r[o.id]=o.folders||[],(i=o.folders)==null||i.forEach(l=>{s[l]||(s[l]=[]),s[l].push(o.id)})}),{photoToFolder:r,folderToPhotos:s,lastUpdate:Date.now(),mtimeData:n,allPhotos:t}}async buildFolderTree(t,n,r){const s=new Map(n.map(i=>[i.id,i])),o=(i,l=[])=>{const c=(r.folderToPhotos[i.id]||[]).map(p=>s.get(p)).filter(p=>p!==void 0);return{id:i.id,name:i.name,description:i.description,children:i.children.map(p=>o(p,[...l,i.name])),photos:c,photoCount:c.length,modificationTime:i.modificationTime,tags:i.tags,icon:i.icon,path:[...l,i.name]}};return t.map(i=>o(i))}async checkForUpdates(t){if(!t)return{needsUpdate:!0,updatedPhotos:[],newMtimeData:null};try{const n=await this.loadMTimeData();if(!n)return{needsUpdate:!1,updatedPhotos:[],newMtimeData:null};const r=[];for(const[s,o]of Object.entries(n)){const i=t.mtimeData[s];(!i||o>i)&&r.push(s)}for(const s of Object.keys(t.mtimeData))n[s]||r.push(s);return{needsUpdate:r.length>0,updatedPhotos:r,newMtimeData:n}}catch(n){return console.error("Error checking for updates:",n),{needsUpdate:!1,updatedPhotos:[],newMtimeData:null}}}async loadPhotosForFolder(t,n){return t?n.filter(r=>r.folders&&r.folders.includes(t)):n}getFileType(t){return{jpg:"JPEG",jpeg:"JPEG",png:"PNG",gif:"GIF",webp:"WebP",bmp:"BMP",tiff:"TIFF",mp4:"MP4",avi:"AVI",mov:"MOV",mkv:"MKV",mp3:"MP3",wav:"WAV",flac:"FLAC",pdf:"PDF",epub:"EPUB",mobi:"MOBI"}[t.toLowerCase()]||t.toUpperCase()}formatFileSize(t){if(t===0)return"0 B";const n=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,s)).toFixed(1))+" "+r[s]}formatDate(t){return new Date(t).toLocaleDateString()}async initializeLibrary(){try{const t=await this.loadLibraryMetadata();if(!t)return null;const n=await this.loadMTimeData();if(!n)return null;const r=await this.loadAllPhotoMetadata(),s=await this.buildFolderCache(r,n);return{folderTree:await this.buildFolderTree(t.folders,r,s),folderCache:s,allPhotos:r}}catch(t){return console.error("Error initializing library:",t),null}}}const ae=new uw;function p0(e,t){return s1({queryKey:["photos",e,t],queryFn:async({pageParam:n=0})=>{const s=n*50;return await ae.loadPaginatedPhotos(e,50,s,(t==null?void 0:t.field)||"mtime",(t==null?void 0:t.direction)||"desc")},getNextPageParam:(n,r)=>r.reduce((o,i)=>o+i.photos.length,0)<n.total?r.length:void 0,initialPageParam:0,staleTime:5*60*1e3,gcTime:10*60*1e3})}function m0(){return ia({queryKey:["recursiveFolderCounts"],queryFn:async()=>await ae.loadRecursiveFolderCounts(),staleTime:10*60*1e3,gcTime:30*60*1e3})}function cw(){return ia({queryKey:["totalPhotoCount"],queryFn:async()=>await ae.getTotalPhotoCount(),staleTime:10*60*1e3,gcTime:30*60*1e3})}const g0=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,o]=b.useState(null);return b.useEffect(()=>{(async()=>{try{r(!0);const l=await Ne("/api/tags");if(!l.ok)throw new Error(`Failed to fetch tags: ${l.statusText}`);const u=await l.json();t(u)}catch(l){o(l instanceof Error?l.message:"Failed to fetch tags")}finally{r(!1)}})()},[]),{data:e,isLoading:n,error:s}},Kc=()=>{const[e,t]=b.useState({}),[n,r]=b.useState(!0),[s,o]=b.useState(null);return b.useEffect(()=>{(async()=>{try{r(!0);const l=await fetch("/api/tags/counts");if(!l.ok)throw new Error(`Failed to fetch tag counts: ${l.statusText}`);const u=await l.json();t(u)}catch(l){o(l instanceof Error?l.message:"Failed to fetch tag counts")}finally{r(!1)}})()},[]),{data:e,isLoading:n,error:s}},Pi=(e,t)=>{const n=y0(e,t);return n.length===0?"/":`/folder/${n.map(s=>encodeURIComponent(s)).join("/")}`},y0=(e,t)=>{const n=(r,s,o=[])=>{for(const i of r){const l=[...o,i.name];if(i.id===s)return l;const u=n(i.children,s,l);if(u)return u}return null};return n(t,e.id)||[]},Gc=(e,t)=>{if(t.length===0)return null;for(const n of e)if(n.name===t[0]){if(t.length===1)return n;{const r=Gc(n.children,t.slice(1));if(r)return r}}return null},dw=(e,t)=>{const r=decodeURIComponent(e).split("/").filter(Boolean),s=Gc(t,r);return s?s.id:null},fw=(e,t)=>{const n=y0(e,t),r=[];let s=[];for(let o=0;o<n.length;o++){s.push(n[o]);const l=`/folder/${s.map(c=>encodeURIComponent(c)).join("/")}`,u=Gc(t,s);u&&r.push({name:n[o],url:l,id:u.id})}return r},Xc=e=>`/tag/${encodeURIComponent(e)}`,hw=e=>e?decodeURIComponent(e):null,pw=e=>({name:`Tag: ${e}`,url:Xc(e)}),x0=({folder:e,level:t,currentFolderId:n,onFolderSelect:r,folderCounts:s})=>{const[o,i]=Z.useState(!1),{accentColor:l,folderTree:u}=we(),c=bn(),p=n===e.id,h=e.children.length>0,g=s[e.id]||0,m=y=>{y.stopPropagation(),h&&i(!o)},v=()=>{if(console.log("FolderTree: Folder clicked:",e.name,e.id),u){const y=Pi(e,u);c(y)}r(e.id)},w=()=>{if(e.icon)switch(e.icon){case"book":return a.jsx(Cr,{className:"w-4 h-4"});case"video":return a.jsx(c0,{className:"w-4 h-4"});case"music":return a.jsx(no,{className:"w-4 h-4"});default:return a.jsx(n0,{className:"w-4 h-4"})}return o?a.jsx(q1,{className:"w-4 h-4"}):a.jsx(Qc,{className:"w-4 h-4"})};return a.jsxs("div",{children:[a.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 text-sm cursor-pointer rounded-md transition-colors
          ${p?`${_u(l)} border ${Ou(l)}`:"hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-700 dark:text-gray-200"}
        `,style:{paddingLeft:`${t*16+12}px`},onClick:v,children:[h&&a.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded text-gray-500 dark:text-gray-400",children:o?a.jsx(Vc,{className:"w-3 h-3"}):a.jsx(Fu,{className:"w-3 h-3"})}),!h&&a.jsx("div",{className:"w-5"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:`
            ${p?Lu(l):"text-gray-500 dark:text-gray-400"}
          `,children:w()}),a.jsx("span",{className:"truncate font-medium",children:e.name}),g>0&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:g})]})]}),o&&h&&a.jsx("div",{children:e.children.map(y=>a.jsx(x0,{folder:y,level:t+1,currentFolderId:n,onFolderSelect:r,folderCounts:s},y.id))})]})},mw=({folders:e,currentFolderId:t,currentTag:n,onFolderSelect:r,onTagSelect:s})=>{const{accentColor:o,setCurrentFolder:i,setCurrentTag:l}=we(),u=bn(),{data:c={},isLoading:p}=m0(),{data:h=0,isLoading:g}=cw(),{data:m=[],isLoading:v}=g0(),{data:w={},isLoading:y}=Kc();return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase text-gray-500 dark:text-gray-400",children:"Folders"}),a.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-2 text-sm cursor-pointer rounded-md transition-colors
            ${t===null&&!n?`${_u(o)} border ${Ou(o)}`:"hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-700 dark:text-gray-200"}
          `,onClick:()=>{console.log("FolderTree: All Files clicked"),i(null),l(null),u("/"),r(null),s(null)},children:[a.jsx(Qc,{className:`w-4 h-4 ${t===null&&!n?Lu(o):"text-gray-500 dark:text-gray-400"}`}),a.jsx("span",{className:"font-medium",children:"All Files"}),!g&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:h})]}),e.map(d=>a.jsx(x0,{folder:d,level:0,currentFolderId:t,onFolderSelect:f=>{console.log("FolderTree: Folder selected:",f),r(f)},folderCounts:c},d.id))]}),a.jsxs("div",{children:[a.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase text-gray-500 dark:text-gray-400",children:"Tags"}),v?a.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"Loading..."}):m.length===0?a.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"No tags"}):m.map(d=>a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 text-sm cursor-pointer rounded-md transition-colors
              ${n===d?`${_u(o)} border ${Ou(o)}`:"hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-700 dark:text-gray-200"}
            `,onClick:f=>{f.stopPropagation(),console.log("FolderTree: Tag clicked:",d),l(d),i(null);const x=Xc(d);u(x),s(d)},children:[a.jsx("span",{className:`w-4 h-4 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-bold ${n===d?Lu(o):"text-gray-500 dark:text-gray-400"}`,children:"#"}),a.jsx("span",{className:"truncate font-medium",children:d}),!y&&w[d]>0&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:w[d]})]},d))]})]})},gw=()=>{const{currentLibraryPath:e,setCurrentLibraryPath:t,smbConnections:n,addSMBConnection:r,removeSMBConnection:s,sidebarOpen:o,setSidebarOpen:i,sidebarWidth:l,setSidebarWidth:u,folderTree:c,currentFolder:p,setCurrentFolder:h,currentTag:g,setCurrentTag:m,isMobile:v,accentColor:w,isMiniPlayer:y}=we();b.useState(!1);const[d,f]=b.useState(!1),x=b.useRef(null),k=T=>{console.log("Sidebar: handleFolderSelect called with:",T,"current tag:",g),h(T),m(null),v&&i(!1)},j=T=>{console.log("Sidebar: handleTagSelect called with:",T,"current folder:",p),m(T),h(null),v&&i(!1)},P=T=>{T.preventDefault(),f(!0)};return b.useEffect(()=>{const T=_=>{if(!d)return;const E=_.clientX,V=200,$=600;E>=V&&E<=$&&u(E)},F=()=>{f(!1)};return d&&(document.addEventListener("mousemove",T),document.addEventListener("mouseup",F)),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",F)}},[d,u]),o?a.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 bg-white dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800
        block
      `,style:{width:`${l}px`},children:[a.jsxs("div",{className:`flex items-center justify-between border-b border-gray-200 dark:border-gray-800 transition-all duration-300 ease-in-out px-4 ${y?"h-24":"py-4"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/kiwi.png",alt:"Kiwi",className:"w-8 h-8"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kiwi"})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:c?a.jsx(mw,{folders:c,currentFolderId:p,currentTag:g,onFolderSelect:k,onTagSelect:j}):a.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${Te(w)} mx-auto mb-2`}),a.jsx("p",{className:"text-sm",children:"Loading folders..."})]})})}),!v&&a.jsx("div",{ref:x,className:`absolute top-0 right-0 w-1 h-full cursor-col-resize transition-colors ${Te(w)} opacity-0 hover:opacity-100 active:opacity-100`,onMouseDown:P})]}):null},yw={jpg:{category:"image",icon:"",displayName:"JPEG Image",canPreview:!0},jpeg:{category:"image",icon:"",displayName:"JPEG Image",canPreview:!0},png:{category:"image",icon:"",displayName:"PNG Image",canPreview:!0},gif:{category:"image",icon:"",displayName:"GIF Image",canPreview:!0},webp:{category:"image",icon:"",displayName:"WebP Image",canPreview:!0},bmp:{category:"image",icon:"",displayName:"BMP Image",canPreview:!0},tiff:{category:"image",icon:"",displayName:"TIFF Image",canPreview:!0},svg:{category:"image",icon:"",displayName:"SVG Image",canPreview:!0},mp4:{category:"video",icon:"",displayName:"MP4 Video",canPreview:!0},avi:{category:"video",icon:"",displayName:"AVI Video",canPreview:!0},mov:{category:"video",icon:"",displayName:"MOV Video",canPreview:!0},mkv:{category:"video",icon:"",displayName:"MKV Video",canPreview:!0},wmv:{category:"video",icon:"",displayName:"WMV Video",canPreview:!0},flv:{category:"video",icon:"",displayName:"FLV Video",canPreview:!0},webm:{category:"video",icon:"",displayName:"WebM Video",canPreview:!0},mp3:{category:"audio",icon:"",displayName:"MP3 Audio",canPreview:!0},wav:{category:"audio",icon:"",displayName:"WAV Audio",canPreview:!0},flac:{category:"audio",icon:"",displayName:"FLAC Audio",canPreview:!0},aac:{category:"audio",icon:"",displayName:"AAC Audio",canPreview:!0},ogg:{category:"audio",icon:"",displayName:"OGG Audio",canPreview:!0},opus:{category:"audio",icon:"",displayName:"Opus Audio",canPreview:!0},m4a:{category:"audio",icon:"",displayName:"M4A Audio",canPreview:!0},wma:{category:"audio",icon:"",displayName:"WMA Audio",canPreview:!0},pdf:{category:"ebook",icon:"",displayName:"PDF Document",canPreview:!0},epub:{category:"ebook",icon:"",displayName:"EPUB Book",canPreview:!0},mobi:{category:"ebook",icon:"",displayName:"MOBI Book",canPreview:!0},azw3:{category:"ebook",icon:"",displayName:"Kindle Book",canPreview:!0},cbz:{category:"ebook",icon:"",displayName:"Comic Book",canPreview:!0},cbr:{category:"ebook",icon:"",displayName:"Comic Book",canPreview:!0},doc:{category:"document",icon:"",displayName:"Word Document",canPreview:!1},docx:{category:"document",icon:"",displayName:"Word Document",canPreview:!1},xls:{category:"document",icon:"",displayName:"Excel Spreadsheet",canPreview:!1},xlsx:{category:"document",icon:"",displayName:"Excel Spreadsheet",canPreview:!1},ppt:{category:"document",icon:"",displayName:"PowerPoint Presentation",canPreview:!1},pptx:{category:"document",icon:"",displayName:"PowerPoint Presentation",canPreview:!1},txt:{category:"document",icon:"",displayName:"Text Document",canPreview:!0},rtf:{category:"document",icon:"",displayName:"Rich Text Document",canPreview:!1}};function dn(e){const t=e.toLowerCase();return yw[t]||{category:"other",icon:"",displayName:`${e.toUpperCase()} File`,canPreview:!1}}function Af(e){return dn(e).category==="video"}function Jt(e){const t=dn(e).category;return t==="audio"||t==="ebook"||t==="document"}const xw=({photo:e,size:t,isSelected:n,onSelect:r,onDoubleClick:s,isMobile:o=!1})=>{const{setDetailedPhoto:i,accentColor:l,currentFolder:u}=we(),[c,p]=b.useState(null),[h,g]=b.useState(!1),[m,v]=b.useState(!1),[w,y]=b.useState(!0);Z.useEffect(()=>{const _=ae.getPhotoThumbnailUrl(e.id,e.name);console.log("Setting image source:",_),p(_)},[e.id,e.name]);const d=b.useCallback(_=>{_.preventDefault();const{saveScrollPosition:E}=we.getState();E(window.scrollY),i(e.id)},[e.id,i]),f=b.useCallback(_=>{_.stopPropagation(),r(e.id)},[r,e.id]),x=b.useCallback(_=>{if(console.log("Image failed to load:",c,_),!h){const E=ae.getPhotoFileUrl(e.id,e.ext,e.name);console.log("Trying fallback URL:",E),g(!0),p(E)}y(!1)},[h,e.id,e.ext,e.name,c]),k=b.useCallback(()=>{console.log("Image loaded successfully:",c),y(!1)},[c]),j=b.useCallback(()=>{v(!0),y(!1)},[]),P=()=>({width:"100%",aspectRatio:(e.width/e.height).toString()}),T=()=>{const _=`
      relative group cursor-pointer rounded-lg overflow-hidden transition-all duration-200
      ${n?`${qc(l)} shadow-lg`:"hover:shadow-md"}
    `;return o?`${_} w-full aspect-square`:_},F=()=>c?Af(e.ext)&&!m?a.jsx("video",{src:ae.getPhotoFileUrl(e.id,e.ext,e.name),className:"w-full h-full object-cover",preload:"metadata",muted:!0,onError:j,onLoadedData:k}):a.jsxs(a.Fragment,{children:[w&&a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gray-200 dark:bg-gray-700 animate-pulse flex items-center justify-center",children:a.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),a.jsx("img",{src:c,alt:e.name,className:"w-full h-full object-cover",onError:x,onLoad:k,style:{display:w?"none":"block"}})]}):a.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 animate-pulse flex items-center justify-center",children:a.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})});return a.jsx("div",{className:T(),style:o?void 0:P(),onClick:d,onDoubleClick:()=>s(e),children:a.jsxs("div",{className:"relative w-full h-full",children:[F(),n&&a.jsx("div",{className:`absolute inset-0 ${Te(l).replace("text-white","")} bg-opacity-20 flex items-center justify-center`,children:a.jsx("div",{className:`${Te(l)} rounded-full p-1`,children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),Af(e.ext)&&!m&&a.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsx("div",{className:"bg-white/90 rounded-full p-2",children:a.jsx(Er,{className:"w-4 h-4 text-gray-800"})})}),a.jsx("div",{className:`
          absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent
          opacity-0 group-hover:opacity-100 transition-opacity duration-200
          ${o?"opacity-100":""}
        `,children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-sm truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300 mt-1",children:[a.jsx("span",{children:ae.formatFileSize(e.size)}),a.jsx("span",{children:""}),a.jsx("span",{children:ae.getFileType(e.ext)})]})]}),a.jsx("button",{onClick:f,className:`
                  p-1 rounded-full transition-colors
                  ${n?`${Te(l)}`:"bg-white/20 text-white hover:bg-white/30"}
                `,children:n?a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((_,E)=>a.jsx("span",{className:`px-2 py-1 text-xs ${Te(l)} bg-opacity-80 rounded-full`,children:_},E)),e.tags.length>3&&a.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-500/80 text-white rounded-full",children:["+",e.tags.length-3]})]})]})})]})})},vw=({file:e,size:t,isSelected:n,onSelect:r,onDoubleClick:s,isMobile:o=!1})=>{const{toggleSelectedItem:i,setDetailedPhoto:l,accentColor:u,podcastMode:c,getAudioTime:p}=we(),h=dn(e.ext);Z.useState(!1);const[g,m]=Z.useState(!1),v=h.category==="audio"&&c.enabled&&p(e.id)>0,w=h.category==="audio",y=v?p(e.id):0,d=e.duration||0,f=d>0?y/d*100:0,x=Y=>{const ie=Math.round(Y/60);if(ie<1)return"Just started";if(ie<60)return`${ie}m`;const We=Math.floor(ie/60),Ie=ie%60;return Ie>0?`${We}h ${Ie}m`:`${We}h`},k=Y=>{if(Y.preventDefault(),console.log("FileCard clicked:",{fileId:e.id,fileName:e.name}),h.category==="audio"){const{openAudioPlayer:ie}=we.getState();console.log("Opening audio player for:",e.name),ie(e);return}if(h.canPreview){const{saveScrollPosition:ie}=we.getState();ie(window.scrollY),console.log("Setting detailed file:",e.id),l(e.id)}else{const ie=ae.getPhotoFileUrl(e.id,e.ext,e.name),We=document.createElement("a");We.href=ie,We.download=e.name,We.click()}},j=Y=>{Y.stopPropagation(),r(e.id)},P=()=>{console.log("Video failed to load, falling back to icon view"),m(!0)},T=Y=>{if(Y.preventDefault(),Y.stopPropagation(),h.category==="audio"){const{openAudioPlayer:ie}=we.getState();console.log("Opening audio player for (double-click):",e.name),ie(e);return}s(e)},F=()=>{switch(t){case"small":return"w-32 h-40";case"large":return"w-64 h-80";default:return"w-48 h-60"}},_=()=>{const Y=`
      relative group cursor-pointer rounded-lg overflow-hidden transition-all duration-200
      bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900
      border border-gray-200 dark:border-gray-700
      w-full
      ${n?`${qc(u)} shadow-lg`:"hover:shadow-md hover:scale-105"}
    `;return o?`${Y} h-48`:`${Y} ${F()}`},E=()=>{switch(t){case"small":return"text-2xl";case"large":return"text-4xl";default:return"text-3xl"}},V=()=>h.category==="audio"?a.jsx(Er,{className:"w-4 h-4"}):h.category==="ebook"?a.jsx(Tu,{className:"w-4 h-4"}):h.category==="document"?a.jsx(Cr,{className:"w-4 h-4"}):h.category==="video"?a.jsx(Er,{className:"w-4 h-4"}):a.jsx(Hc,{className:"w-4 h-4"}),$=()=>h.category==="audio"?"Play":h.category==="ebook"?"Read":h.category==="document"?"Open":h.category==="video"?"Play":"Download",ne=()=>h.category==="video"&&!g?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("video",{src:ae.getPhotoFileUrl(e.id,e.ext,e.name),className:"w-full h-full object-cover rounded-lg",preload:"metadata",muted:!0,onError:P}),a.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsx("div",{className:"bg-white/90 rounded-full p-3",children:a.jsx(Er,{className:"w-6 h-6 text-gray-800"})})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${E()} mb-2 opacity-80`,children:h.icon}),a.jsx("h3",{className:"font-medium text-sm text-center text-gray-800 dark:text-gray-200 mb-1 line-clamp-3 px-1",children:e.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:h.displayName}),a.jsxs("button",{className:`
          px-2 py-1 rounded-full text-xs font-medium transition-all duration-200
          ${Te(u)} bg-opacity-90
          hover:bg-opacity-100 hover:scale-105
          flex items-center gap-1
        `,children:[V(),$()]})]});return a.jsxs("div",{className:_(),onClick:k,onDoubleClick:T,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full p-4",children:[w&&c.enabled&&a.jsxs("div",{className:"absolute top-2 left-2 right-2 space-y-1",children:[d>0&&a.jsx("div",{className:"w-full bg-gray-600/30 dark:bg-gray-700/50 rounded-full h-1.5",children:a.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{width:`${Math.min(f,100)}%`,background:`linear-gradient(to right, ${he(u)}, ${he(u)}CC)`}})}),v&&a.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[a.jsx(t0,{className:"w-3 h-3",style:{color:he(u)}}),a.jsx("span",{className:"text-xs font-medium",style:{color:he(u)},children:f>0?`Resume from ${x(y)}`:"Just started"})]})]}),ne()]}),n&&a.jsx("div",{className:`absolute inset-0 ${Te(u).replace("text-white","")} bg-opacity-20 flex items-center justify-center`,children:a.jsx("div",{className:`${Te(u)} rounded-full p-1`,children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),a.jsx("div",{className:`
        absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent
        opacity-0 group-hover:opacity-100 transition-opacity duration-200
        ${o?"opacity-100":""}
      `,children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300 mb-1",children:[a.jsx(e0,{className:"w-3 h-3"}),a.jsx("span",{children:ae.formatFileSize(e.size)}),a.jsx("span",{children:""}),a.jsx(Ru,{className:"w-3 h-3"}),a.jsx("span",{children:ae.formatDate(e.mtime)})]})}),a.jsx("button",{onClick:j,className:`
                p-1 rounded-full transition-colors
                ${n?`${Te(u)}`:"bg-white/20 text-white hover:bg-white/30"}
              `,children:n?a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((Y,ie)=>a.jsx("span",{className:`px-2 py-1 text-xs ${Te(u)} bg-opacity-80 rounded-full`,children:Y},ie)),e.tags.length>3&&a.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-500/80 text-white rounded-full",children:["+",e.tags.length-3]})]})]})})]})};function v0({tag:e,limit:t=50,sortField:n="mtime",sortDirection:r="desc",enabled:s=!0}){const[o,i]=b.useState([]),[l,u]=b.useState(!0),[c,p]=b.useState(null),[h,g]=b.useState(!1),m=async(y=0,d=!1)=>{if(!e||!s){i([]),u(!1);return}try{y===0?u(!0):g(!0);const f=new URLSearchParams({limit:t.toString(),offset:y.toString(),orderBy:n,orderDirection:r}),x=await Ne(`/api/tags/${encodeURIComponent(e)}/photos?${f}`);if(!x.ok)throw new Error(`Failed to fetch photos by tag: ${x.statusText}`);const k=await x.json();console.log("usePhotosByTag API response:",{tag:e,offset:y,photosCount:k.photos.length,total:k.total,hasMore:k.hasMore,totalSize:k.totalSize,limit:t}),i(d?j=>{const P=[...j,k],T=P.flatMap(_=>_.photos),F=T.filter((_,E,V)=>E===V.findIndex($=>$.id===_.id));return T.length!==F.length&&console.warn(`usePhotosByTag: Found ${T.length-F.length} duplicate photos in pages`),P}:[k])}catch(f){p(f instanceof Error?f.message:"Failed to fetch photos by tag")}finally{u(!1),g(!1)}};b.useEffect(()=>{m(0,!1)},[e,n,r,s]);const v=()=>{if(console.log("usePhotosByTag fetchNextPage called:",{pagesLength:o.length,hasNextPage:w,isFetchingNextPage:h,lastPageHasMore:o.length>0?o[o.length-1].hasMore:!1}),o.length>0){const y=o[o.length-1],d=o.reduce((f,x)=>f+x.photos.length,0);y.hasMore&&!h?(console.log("usePhotosByTag: Fetching next page with offset:",d),m(d,!0)):console.log("usePhotosByTag: Not fetching next page:",{lastPageHasMore:y.hasMore,isFetchingNextPage:h})}};o.reduce((y,d)=>y+d.photos.length,0);const w=o.length>0&&o[o.length-1].hasMore;return{data:{pages:o},loading:l,error:c,isFetchingNextPage:h,hasNextPage:w,fetchNextPage:v}}const w0=e=>{const{query:t,type:n,limit:r=50,offset:s=0,orderBy:o="mtime",orderDirection:i="DESC",enabled:l=!0}=e,u=ia({queryKey:["search",t,n,r,s,o,i],queryFn:async()=>{if(!t.trim())return[];const p=new URLSearchParams({q:t.trim(),limit:r.toString(),offset:s.toString(),orderBy:o,orderDirection:i});n&&p.append("type",n);const h=await Ne(`/api/search/photos?${p}`);if(!h.ok)throw new Error("Failed to search photos");return await h.json()},enabled:l&&t.trim().length>0,staleTime:5*60*1e3,gcTime:10*60*1e3}),c=ia({queryKey:["searchCount",t,n],queryFn:async()=>{if(!t.trim())return 0;const p=new URLSearchParams({q:t.trim()});n&&p.append("type",n);const h=await Ne(`/api/search/count?${p}`);if(!h.ok)throw new Error("Failed to get search count");return(await h.json()).count},enabled:l&&t.trim().length>0,staleTime:5*60*1e3,gcTime:10*60*1e3});return{photos:u.data||[],totalCount:c.data||0,isLoading:u.isLoading||c.isLoading,error:u.error||c.error}},ww=({selectedTags:e,onTagsChange:t,placeholder:n="Search tags",className:r=""})=>{const{data:s,isLoading:o}=g0(),{data:i}=Kc(),[l,u]=b.useState(!1),[c,p]=b.useState(""),h=b.useRef(null),g=s.filter(y=>y.toLowerCase().includes(c.toLowerCase())&&!e.includes(y));b.useEffect(()=>{const y=d=>{h.current&&!h.current.contains(d.target)&&(u(!1),p(""))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=y=>{e.includes(y)||t([...e,y]),p("")},v=y=>{t(e.filter(d=>d!==y))},w=()=>{u(!0)};return a.jsxs("div",{className:`relative ${r}`,ref:h,children:[a.jsx("div",{className:"cursor-text min-w-[200px]",onClick:w,children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-[42px] cursor-pointer",style:{minWidth:"200px",width:e.length>0?"max-content":"200px"},children:[a.jsx(Ei,{className:"text-gray-400 w-4 h-4 flex-shrink-0"}),e.length>0?a.jsx("div",{className:"flex items-center gap-1 flex-1",children:e.map(y=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-md whitespace-nowrap",children:[y,a.jsx("button",{onClick:d=>{d.stopPropagation(),v(y)},className:"hover:text-blue-600 dark:hover:text-blue-300",children:a.jsx(Es,{className:"w-3 h-3"})})]},y))}):a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm flex-1",children:n}),a.jsx(Vc,{className:`text-gray-400 w-4 h-4 flex-shrink-0 transition-transform ${l?"rotate-180":""}`})]})}),l&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.length>0?`${e.length} tag${e.length===1?"":"s"} selected`:"Select tags"}),a.jsx("button",{onClick:()=>u(!1),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Done"})]}),o?a.jsx("div",{className:"p-3 text-sm text-gray-500 dark:text-gray-400",children:"Loading tags..."}):g.length===0?a.jsx("div",{className:"p-3 text-sm text-gray-500 dark:text-gray-400",children:c?"No tags found":"No tags available"}):a.jsx("div",{className:"py-1",children:g.map(y=>a.jsxs("button",{onClick:()=>m(y),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ei,{className:"w-3 h-3 text-gray-400"}),y]}),i&&i[y]&&a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[i[y]," photos"]})]},y))}),c.trim()&&!s.includes(c.trim())&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>m(c.trim()),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[a.jsx(Ei,{className:"w-3 h-3"}),'Add "',c.trim(),'" as new tag']})}),e.length>0&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 px-3 py-2",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Photos with ALL of the selected tags will be shown"})})]})]})},kw=({className:e=""})=>{const{searchQuery:t,setSearchQuery:n,filters:r,setFilters:s,accentColor:o}=we(),[i,l]=b.useState(""),[u,c]=b.useState([]),p=b.useRef(null);b.useEffect(()=>{const y=t.trim().split(/\s+/),d=[],f=[];for(let x=0;x<y.length;x++){const k=y[x];if(k.startsWith("tag:")||k.startsWith("#")){const j=k,P=[];for(x++;x<y.length&&!y[x].startsWith("tag:")&&!y[x].startsWith("#");)P.push(y[x]),x++;x--;const F=(j+(P.length>0?" "+P.join(" "):"")).replace(/^(tag:|#)/,"").trim();F&&d.push(F)}else f.push(k)}console.log(" SearchBar: Parsed query:",{originalQuery:t,contentParts:f.join(" "),tagParts:d}),l(f.join(" ")),c(d)},[t]);const h=(y,d)=>{const f=y.trim().split(" ").filter(Boolean),x=d.map(P=>`tag:${P}`),j=[...f,...x].join(" ");n(j)},g=y=>{l(y),h(y,u)},m=y=>{c(y),h(i,y)},v=()=>{l(""),c([]),n(""),s({...r,tags:[]})},w=i.trim()||u.length>0;return a.jsxs("div",{className:`flex gap-2 ${e}`,children:[a.jsxs("div",{className:"relative flex-shrink-0",style:{minWidth:"200px",maxWidth:i.trim()?"none":"200px",width:i.trim()?"auto":"200px"},children:[a.jsx(Z1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{ref:p,type:"text",placeholder:"Search",value:i,onChange:y=>g(y.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 ${qc(o)} focus:border-transparent`}),w&&a.jsx("button",{onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Es,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex-1 min-w-0","data-tag-selector":!0,children:a.jsx(ww,{selectedTags:u,onTagsChange:m,placeholder:"Search tags"})})]})};function bw(e,t){const[n,r]=b.useState(null),[s,o]=b.useState(!1),[i,l]=b.useState(null);return b.useEffect(()=>{if(!t||!e){r(null),l(null);return}let u=!1;return o(!0),l(null),(async()=>{try{const p=await Ne(`/api/folders/${e}/thumbnail`);if(!p.ok){if(p.status===404){u||(r(null),l(null));return}throw new Error(`Failed to fetch folder thumbnail: ${p.statusText}`)}const h=await p.json();u||(r(h),l(null))}catch(p){u||(console.warn("Failed to fetch folder thumbnail:",p.message),r(null),l(p.message))}finally{u||o(!1)}})(),()=>{u=!0}},[e,t]),{thumbnail:n,loading:s,error:i}}const Sw=({subfolder:e,useFolderThumbnails:t,getTotalPhotoCount:n,onClick:r})=>{const{thumbnail:s}=bw(e.id,t);return a.jsxs("button",{onClick:r,className:"group relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-3 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-md transition-all duration-200 text-left flex flex-col h-full",children:[a.jsx("div",{className:"flex-1 relative mb-3 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden group-hover:bg-gray-200 dark:group-hover:bg-gray-600 transition-colors min-h-[120px]",children:s?a.jsx("img",{src:ae.getPhotoThumbnailUrl(s.id,s.name),alt:s.name,className:"w-full h-full object-contain"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsxs("svg",{className:"w-8 h-8 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]})})}),a.jsxs("div",{className:"text-center flex-shrink-0",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-2 mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n(e)," files"]})]})]})};function jw(e,t){if(e==null)return{};var n=Nw(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nw(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function aa(){return aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aa.apply(this,arguments)}function Uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uf(Object(n),!0).forEach(function(r){Cw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ew={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},ml=2;class k0 extends Z.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||ml,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||ml});let r=1/0,s=n.default||ml;for(let o in n){const i=parseInt(o);i>0&&t<=i&&i<r&&(r=i,s=n[o])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=Z.Children.toArray(this.props.children);for(let s=0;s<r.length;s++){const o=s%t;n[o]||(n[o]=[]),n[o].push(r[s])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,s=this.itemsInColumns(),o=`${100/s.length}%`;let i=r;i&&typeof i!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof i>"u"&&(i="my-masonry-grid_column"));const l=Us(Us(Us({},t),n),{},{style:Us(Us({},n.style),{},{width:o}),className:i});return s.map((u,c)=>Z.createElement("div",aa({},l,{key:c}),u))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:s,columnAttrs:o,column:i,className:l}=t,u=jw(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let c=l;return typeof l!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof l>"u"&&(c="my-masonry-grid")),Z.createElement("div",aa({},u,{className:c}),this.renderColumns())}}k0.defaultProps=Ew;const Pw=200,Tw=1e3,Rw=e=>{switch(e){case"small":return{default:8,1600:7,1200:6,900:4,600:3,400:2};case"large":return{default:4,1600:3,1200:3,900:2,600:2,400:1};default:return{default:6,1600:5,1200:4,900:3,600:2,400:1}}},Yc=({isMobile:e=!1})=>{var id,ad;const t=bn(),{currentView:n,setCurrentView:r,filters:s,setFilters:o,sortOptions:i,setSortOptions:l,selectedItems:u,toggleSelectedItem:c,isLoading:p,setIsLoading:h,currentFolder:g,currentTag:m,folderTree:v,folderCache:w,allPhotos:y,setAllPhotos:d,accentColor:f,useFolderThumbnails:x,setCurrentFolder:k,setDetailedPhoto:j,saveScrollPosition:P,restoreScrollPosition:T,clearScrollPosition:F,openAudioPlayer:_,podcastMode:E,togglePodcastMode:V}=we(),{searchQuery:$,setSearchQuery:ne}=we(),[Y,ie]=b.useState("320px"),[We,Ie]=b.useState(!1),[I,Q]=b.useState(null),[q,W]=b.useState(null);b.useState(!1);const re=p0(g,{field:i.field,direction:i.direction}),ze=v0({tag:m,limit:50,sortField:i.field,sortDirection:i.direction,enabled:!!m}),Ge=w0({query:$,type:s.fileTypes.length>0?s.fileTypes[0]:null,limit:50,orderBy:i.field,orderDirection:i.direction==="asc"?"ASC":"DESC",enabled:$.trim().length>0}),Nt=m?ze:re,{data:ut={}}=m0();let Ae=[],Dt=0,xt=0;if($.trim().length>0)Ae=Ge.photos,Dt=Ge.totalCount,xt=0;else if(m){const M=((id=ze.data)==null?void 0:id.pages)||[];Ae=M.flatMap(J=>J.photos||[]),Dt=M.length>0&&typeof M[0].total=="number"?M[0].total:0,xt=M.length>0&&typeof M[0].totalSize=="number"?M[0].totalSize:0}else{const M=((ad=re.data)==null?void 0:ad.pages)||[];Ae=M.flatMap(J=>J.photos||[]),Dt=M.length>0&&typeof M[0].total=="number"?M[0].total:0,xt=M.length>0&&typeof M[0].totalSize=="number"?M[0].totalSize:0}const Kt=$.trim().length>0?!1:Nt.isFetchingNextPage,nr=$.trim().length>0?!1:Nt.hasNextPage,Gt=$.trim().length>0&&Ge.isLoading,R=50,D=b.useRef(null),Ee=b.useCallback(M=>{D.current&&D.current.disconnect(),M&&(D.current=new IntersectionObserver(J=>{J[0].isIntersecting&&nr&&(console.log("Intersection observer triggered:",{currentTag:m,hasNextPage:nr,isFetchingNextPage:Kt,photosLength:Ae.length}),m?(console.log("Fetching next page for tag:",m),ze.fetchNextPage()):(console.log("Fetching next page for folder:",g),re.fetchNextPage()))},{rootMargin:`${Pw}px`}),D.current.observe(M))},[nr,m,ze,re]);b.useEffect(()=>()=>{D.current&&D.current.disconnect()},[]);const ye=M=>{W(null),Q({x:M.targetTouches[0].clientX,y:M.targetTouches[0].clientY})},me=M=>{W({x:M.targetTouches[0].clientX,y:M.targetTouches[0].clientY})},Le=()=>{if(!I||!q)return;const M=I.x-q.x,J=I.y-q.y;Math.abs(M)>Math.abs(J)&&Math.abs(M)>R&&(M>0?Xe():Se())},Xe=()=>{if(!v||!g)return;const M=(xe,Pe)=>{for(const de of xe){if(de.id===Pe)return{folder:de,siblings:xe};const Ye=M(de.children,Pe);if(Ye.folder)return Ye}return{folder:null,siblings:[]}},{folder:J,siblings:ue}=M(v,g);if(J&&ue.length>1){const Pe=(ue.findIndex(Ye=>Ye.id===g)+1)%ue.length,de=ue[Pe];if(v){const Ye=Pi(de,v);t(Ye)}k(de.id)}},Se=()=>{if(!v||!g)return;const M=(xe,Pe)=>{for(const de of xe){if(de.id===Pe)return{folder:de,siblings:xe};const Ye=M(de.children,Pe);if(Ye.folder)return Ye}return{folder:null,siblings:[]}},{folder:J,siblings:ue}=M(v,g);if(J&&ue.length>1){const xe=ue.findIndex(Ye=>Ye.id===g),Pe=xe===0?ue.length-1:xe-1,de=ue[Pe];if(v){const Ye=Pi(de,v);t(Ye)}k(de.id)}},Ct=()=>{if(!v||!g)return[];const M=(ue,xe)=>{for(const Pe of ue){if(Pe.id===xe)return Pe;const de=M(Pe.children,xe);if(de)return de}return null},J=M(v,g);return J?J.children:[]},rr=M=>ut[M.id]||0,G=Ct().sort((M,J)=>M.name.localeCompare(J.name,void 0,{numeric:!0,sensitivity:"base"}));b.useEffect(()=>{ie((()=>{switch(n.thumbnailSize){case"small":return"200px";case"large":return"400px";default:return"300px"}})())},[n.thumbnailSize]);const oe=Z.useMemo(()=>{let M=Ae;return s.tags.length>0&&$.trim().length===0&&(M=M.filter(ue=>ue.tags&&s.tags.some(xe=>ue.tags.includes(xe)))),s.fileTypes.length>0&&$.trim().length===0&&(M=M.filter(ue=>s.fileTypes.includes(ue.ext.toLowerCase()))),M.filter((ue,xe,Pe)=>xe===Pe.findIndex(de=>de.id===ue.id))},[Ae,$,s]),C=M=>{c(M)},O=M=>{["mp3","wav","flac","aac","ogg","opus","m4a","wma"].includes(M.ext.toLowerCase())?(console.log("Opening audio player for:",M.name),_(M,Ae)):(P(window.scrollY),console.log("Opening detailed view for photo:",M.name),j(M.id))},B=M=>{if(v){const J=(xe,Pe)=>{for(const de of xe){if(de.id===Pe)return de;const Ye=J(de.children,Pe);if(Ye)return Ye}return null},ue=J(v,M);if(ue){const xe=Pi(ue,v);t(xe)}}k(M)},Ve=M=>{r({...n,type:M})},Et=M=>{r({...n,thumbnailSize:M})},sr=M=>{l({...i,field:M}),Ie(!1)},Ko=()=>{l({...i,direction:i.direction==="asc"?"desc":"asc"})},Fs=M=>({name:"Name",date_created:"Date Created",date_updated:"Date Updated",size:"File Size",type:"File Type",dimensions:"Dimensions",tags:"Tags Count",random:"Random"})[M]||M,od=()=>i.direction==="asc"?a.jsx(V1,{className:"w-4 h-4"}):a.jsx(B1,{className:"w-4 h-4"}),Aa=b.useCallback((M,J)=>{const xe=J===oe.length-1?Ee:void 0,Pe={size:n.thumbnailSize,isSelected:u.includes(M.id),onSelect:C,onDoubleClick:O,isMobile:e},de=`${M.id}-${J}`;return Jt(M.ext)?a.jsx("div",{ref:xe,children:a.jsx(vw,{file:M,...Pe})},de):a.jsx("div",{ref:xe,children:a.jsx(xw,{photo:M,...Pe})},de)},[n.thumbnailSize,u,C,O,e,oe.length]);b.useMemo(()=>oe.length>Tw,[oe.length]);const X0=oe.filter(M=>{var ue;const J=(ue=M.ext)==null?void 0:ue.toLowerCase();return J&&["mp3","wav","flac","m4a","aac","ogg","wma","opus"].includes(J)});let Sn=!1;return $.trim().length>0?Sn=Ge.isLoading:m?Sn=ze.loading:Sn=re.isLoading,a.jsxs("div",{className:"flex-1 p-4 space-y-4",onTouchStart:ye,onTouchMove:me,onTouchEnd:Le,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-1 gap-2 max-w-md",children:[a.jsx(kw,{className:"flex-1"}),a.jsx("button",{className:"p-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400",children:a.jsx(Q1,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[oe.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>Ie(!We),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx("span",{className:"text-sm",children:Fs(i.field)}),a.jsx(Vc,{className:"w-4 h-4"})]}),We&&a.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg z-10",children:a.jsx("div",{className:"py-1",children:[{field:"name",label:"Name (A-Z)"},{field:"date_created",label:"Date Created"},{field:"date_updated",label:"Date Updated"},{field:"size",label:"File Size"},{field:"type",label:"File Type"},{field:"dimensions",label:"Dimensions"},{field:"tags",label:"Tags Count"},{field:"random",label:"Random"}].map(M=>a.jsx("button",{onClick:()=>sr(M.field),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${i.field===M.field?`${Te(f)} text-white`:"text-gray-700 dark:text-gray-300"}`,children:M.label},M.field))})})]}),a.jsx("button",{onClick:Ko,disabled:i.field==="random",className:`p-2 border border-gray-300 dark:border-gray-700 rounded-lg transition-colors ${i.field==="random"?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,title:i.field==="random"?"Direction not applicable for random sorting":`Sort ${i.direction==="asc"?"Descending":"Ascending"}`,children:od()})]}),oe.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>Ve("grid"),className:`p-2 ${n.type==="grid"?`${Te(f)} text-white`:"bg-white dark:bg-gray-900 text-gray-600 dark:text-gray-300"}`,children:a.jsx(K1,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ve("list"),className:`p-2 ${n.type==="list"?`${Te(f)} text-white`:"bg-white dark:bg-gray-900 text-gray-600 dark:text-gray-300"}`,children:a.jsx(r0,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Size:"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"S"}),a.jsx("input",{type:"range",min:"1",max:"3",value:n.thumbnailSize==="small"?1:n.thumbnailSize==="medium"?2:3,onChange:M=>{const J=M.target.value==="1"?"small":M.target.value==="2"?"medium":"large";Et(J)},className:"w-16"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"L"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[20px]",children:n.thumbnailSize==="small"?"S":n.thumbnailSize==="medium"?"M":"L"})]}),X0.length>0&&a.jsxs("button",{onClick:V,className:`flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg transition-colors ${E.enabled?`${Te(f)} text-white`:"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,title:E.enabled?"Podcast Mode: ON - Remembers playback position":"Podcast Mode: OFF - Start from beginning",children:[a.jsx(t0,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Podcast Mode"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("div",{children:oe.length>0?a.jsxs(a.Fragment,{children:["Showing ",oe.length," of ",Dt," files",u.length>0&&`  ${u.length} selected`]}):Sn?i.field==="random"||i.field.startsWith("date_")||i.field==="name"||i.field==="size"||i.field==="type"||i.field==="dimensions"||i.field==="tags"?"Sorting files...":"Loading files...":Gt?"Searching...":G.length>0?`No files in this folder  ${G.length} subfolder${G.length===1?"":"s"}`:"No files found"}),a.jsx("div",{className:"flex items-center gap-4",children:oe.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total size: ",ae.formatFileSize(xt)]})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{children:"Sort:"}),a.jsx("span",{className:"font-medium",children:Fs(i.field)}),od()]})]})})]}),G.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Subfolders"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:G.map(M=>a.jsx(Sw,{subfolder:M,useFolderThumbnails:x,getTotalPhotoCount:rr,onClick:()=>B(M.id)},M.id))})]}),Sn&&a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${Te(f)} mx-auto mb-4`}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading files..."})]})}),!Sn&&oe.length>0&&a.jsx(a.Fragment,{children:a.jsxs(a.Fragment,{children:[e&&n.type==="grid"&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[oe.map((M,J)=>Aa(M,J)),Kt&&a.jsx("div",{className:"col-span-2 flex items-center justify-center py-8",children:a.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${Te(f)}`})})]}),!e&&n.type==="grid"&&a.jsxs(k0,{breakpointCols:Rw(n.thumbnailSize),className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:[oe.map((M,J)=>Aa(M,J)),Kt&&a.jsx("div",{className:"col-span-full flex items-center justify-center py-8",children:a.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${Te(f)}`})})]}),n.type==="list"&&a.jsxs("div",{className:"space-y-2",children:[oe.map((M,J)=>Aa(M,J)),Kt&&a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${Te(f)}`})})]})]})}),!Sn&&oe.length===0&&G.length===0&&a.jsx("div",{className:"flex items-center justify-center min-h-64 py-8",children:a.jsx("div",{className:"text-center w-full",children:Gt||Sn?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`animate-spin rounded-full h-16 w-16 border-b-2 ${Te(f)} mx-auto mb-4`}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:Gt?"Searching...":"Sorting..."}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Gt?`Looking for "${$}"`:"Reordering files..."})]}):$.trim().length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4 opacity-20",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No files found"}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No results found for "',$,'"']})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4 opacity-20",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No files found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})})})]})},Fw=()=>{const e=bn(),{theme:t,toggleTheme:n,accentColor:r,setAccentColor:s,getCacheSize:o,clearCache:i,useFolderThumbnails:l,setUseFolderThumbnails:u}=we(),[c,p]=b.useState("Loading..."),[h,g]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const f=(await o()/1024/1024).toFixed(2);p(`${f} MB`)}catch{p("Error")}})()},[o]);const m=[{name:"Kiwi",value:"kiwi",light:"bg-[#8E466D]",dark:"bg-[#A55A7F]"},{name:"Orange",value:"orange",light:"bg-orange-500",dark:"bg-orange-400"},{name:"Blue",value:"blue",light:"bg-blue-500",dark:"bg-blue-400"},{name:"Green",value:"green",light:"bg-green-500",dark:"bg-green-400"},{name:"Purple",value:"purple",light:"bg-purple-500",dark:"bg-purple-400"},{name:"Red",value:"red",light:"bg-red-500",dark:"bg-red-400"},{name:"Pink",value:"pink",light:"bg-pink-500",dark:"bg-pink-400"}],v=y=>{const d=m.find(f=>f.value===y)||m[0];return t==="dark"?d.dark:d.light},w=async()=>{g(!0);try{await i();const d=(await o()/1024/1024).toFixed(2);p(`${d} MB`)}finally{g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:a.jsx(Wc,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Theme"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[t==="dark"?a.jsx(u0,{className:"w-5 h-5"}):a.jsx(o0,{className:"w-5 h-5"}),"Toggle Theme"]})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Accent Color"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:m.map(({name:y,value:d})=>a.jsx("button",{onClick:()=>s(d),className:`h-10 rounded-lg flex items-center justify-center text-white ${v(d)} ${r===d?"ring-2 ring-offset-2 ring-blue-400":""}`,title:y,children:y},d))})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Folders"}),a.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[a.jsx("input",{type:"checkbox",checked:!!l,onChange:y=>u(y.target.checked),className:"w-4 h-4"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Use first AZ thumbnail as folder icon"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Cache"}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Cache Size"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:c})]}),a.jsx("button",{disabled:h,onClick:w,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white disabled:opacity-50",children:h?"Clearing":"Clear Cache"})]})]})]})]})})};function b0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mw}=Object.prototype,{getPrototypeOf:Jc}=Object,{iterator:Ma,toStringTag:S0}=Symbol,La=(e=>t=>{const n=Mw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qt=e=>(e=e.toLowerCase(),t=>La(t)===e),Oa=e=>t=>typeof t===e,{isArray:Ts}=Array,Eo=Oa("undefined");function Ho(e){return e!==null&&!Eo(e)&&e.constructor!==null&&!Eo(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const j0=qt("ArrayBuffer");function Lw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&j0(e.buffer),t}const Ow=Oa("string"),yt=Oa("function"),N0=Oa("number"),Qo=e=>e!==null&&typeof e=="object",_w=e=>e===!0||e===!1,Ti=e=>{if(La(e)!=="object")return!1;const t=Jc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(S0 in e)&&!(Ma in e)},Dw=e=>{if(!Qo(e)||Ho(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Iw=qt("Date"),zw=qt("File"),Aw=qt("Blob"),Uw=qt("FileList"),$w=e=>Qo(e)&&yt(e.pipe),Bw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yt(e.append)&&((t=La(e))==="formdata"||t==="object"&&yt(e.toString)&&e.toString()==="[object FormData]"))},Ww=qt("URLSearchParams"),[Vw,Hw,Qw,qw]=["ReadableStream","Request","Response","Headers"].map(qt),Kw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ts(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ho(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function C0(e,t){if(Ho(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const fr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),E0=e=>!Eo(e)&&e!==fr;function Du(){const{caseless:e}=E0(this)&&this||{},t={},n=(r,s)=>{const o=e&&C0(t,s)||s;Ti(t[o])&&Ti(r)?t[o]=Du(t[o],r):Ti(r)?t[o]=Du({},r):Ts(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&qo(arguments[r],n);return t}const Gw=(e,t,n,{allOwnKeys:r}={})=>(qo(t,(s,o)=>{n&&yt(s)?e[o]=b0(s,n):e[o]=s},{allOwnKeys:r}),e),Xw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Jw=(e,t,n,r)=>{let s,o,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Jc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Zw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},e2=e=>{if(!e)return null;if(Ts(e))return e;let t=e.length;if(!N0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},t2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jc(Uint8Array)),n2=(e,t)=>{const r=(e&&e[Ma]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},r2=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},s2=qt("HTMLFormElement"),o2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$f=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),i2=qt("RegExp"),P0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qo(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},a2=e=>{P0(e,(t,n)=>{if(yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(yt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},l2=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Ts(e)?r(e):r(String(e).split(t)),n},u2=()=>{},c2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function d2(e){return!!(e&&yt(e.append)&&e[S0]==="FormData"&&e[Ma])}const f2=e=>{const t=new Array(10),n=(r,s)=>{if(Qo(r)){if(t.indexOf(r)>=0)return;if(Ho(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Ts(r)?[]:{};return qo(r,(i,l)=>{const u=n(i,s+1);!Eo(u)&&(o[l]=u)}),t[s]=void 0,o}}return r};return n(e,0)},h2=qt("AsyncFunction"),p2=e=>e&&(Qo(e)||yt(e))&&yt(e.then)&&yt(e.catch),T0=((e,t)=>e?setImmediate:t?((n,r)=>(fr.addEventListener("message",({source:s,data:o})=>{s===fr&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),fr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yt(fr.postMessage)),m2=typeof queueMicrotask<"u"?queueMicrotask.bind(fr):typeof process<"u"&&process.nextTick||T0,g2=e=>e!=null&&yt(e[Ma]),N={isArray:Ts,isArrayBuffer:j0,isBuffer:Ho,isFormData:Bw,isArrayBufferView:Lw,isString:Ow,isNumber:N0,isBoolean:_w,isObject:Qo,isPlainObject:Ti,isEmptyObject:Dw,isReadableStream:Vw,isRequest:Hw,isResponse:Qw,isHeaders:qw,isUndefined:Eo,isDate:Iw,isFile:zw,isBlob:Aw,isRegExp:i2,isFunction:yt,isStream:$w,isURLSearchParams:Ww,isTypedArray:t2,isFileList:Uw,forEach:qo,merge:Du,extend:Gw,trim:Kw,stripBOM:Xw,inherits:Yw,toFlatObject:Jw,kindOf:La,kindOfTest:qt,endsWith:Zw,toArray:e2,forEachEntry:n2,matchAll:r2,isHTMLForm:s2,hasOwnProperty:$f,hasOwnProp:$f,reduceDescriptors:P0,freezeMethods:a2,toObjectSet:l2,toCamelCase:o2,noop:u2,toFiniteNumber:c2,findKey:C0,global:fr,isContextDefined:E0,isSpecCompliantForm:d2,toJSONObject:f2,isAsyncFn:h2,isThenable:p2,setImmediate:T0,asap:m2,isIterable:g2};function K(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}N.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const R0=K.prototype,F0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{F0[e]={value:e}});Object.defineProperties(K,F0);Object.defineProperty(R0,"isAxiosError",{value:!0});K.from=(e,t,n,r,s,o)=>{const i=Object.create(R0);return N.toFlatObject(e,i,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),K.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const y2=null;function Iu(e){return N.isPlainObject(e)||N.isArray(e)}function M0(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function Bf(e,t,n){return e?e.concat(t).map(function(s,o){return s=M0(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function x2(e){return N.isArray(e)&&!e.some(Iu)}const v2=N.toFlatObject(N,{},null,function(t){return/^is[A-Z]/.test(t)});function _a(e,t,n){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!N.isUndefined(y[w])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(N.isDate(v))return v.toISOString();if(N.isBoolean(v))return v.toString();if(!u&&N.isBlob(v))throw new K("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(v)||N.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,y){let d=v;if(v&&!y&&typeof v=="object"){if(N.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(N.isArray(v)&&x2(v)||(N.isFileList(v)||N.endsWith(w,"[]"))&&(d=N.toArray(v)))return w=M0(w),d.forEach(function(x,k){!(N.isUndefined(x)||x===null)&&t.append(i===!0?Bf([w],k,o):i===null?w:w+"[]",c(x))}),!1}return Iu(v)?!0:(t.append(Bf(y,w,o),c(v)),!1)}const h=[],g=Object.assign(v2,{defaultVisitor:p,convertValue:c,isVisitable:Iu});function m(v,w){if(!N.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(v),N.forEach(v,function(d,f){(!(N.isUndefined(d)||d===null)&&s.call(t,d,N.isString(f)?f.trim():f,w,g))===!0&&m(d,w?w.concat(f):[f])}),h.pop()}}if(!N.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Wf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Zc(e,t){this._pairs=[],e&&_a(e,this,t)}const L0=Zc.prototype;L0.append=function(t,n){this._pairs.push([t,n])};L0.toString=function(t){const n=t?function(r){return t.call(this,r,Wf)}:Wf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function w2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function O0(e,t,n){if(!t)return e;const r=n&&n.encode||w2;N.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=N.isURLSearchParams(t)?t.toString():new Zc(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class k2{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Vf=k2,_0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b2=typeof URLSearchParams<"u"?URLSearchParams:Zc,S2=typeof FormData<"u"?FormData:null,j2=typeof Blob<"u"?Blob:null,N2={isBrowser:!0,classes:{URLSearchParams:b2,FormData:S2,Blob:j2},protocols:["http","https","file","blob","url","data"]},ed=typeof window<"u"&&typeof document<"u",zu=typeof navigator=="object"&&navigator||void 0,C2=ed&&(!zu||["ReactNative","NativeScript","NS"].indexOf(zu.product)<0),E2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),P2=ed&&window.location.href||"http://localhost",T2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ed,hasStandardBrowserEnv:C2,hasStandardBrowserWebWorkerEnv:E2,navigator:zu,origin:P2},Symbol.toStringTag,{value:"Module"})),tt={...T2,...N2};function R2(e,t){return _a(e,new tt.classes.URLSearchParams,{visitor:function(n,r,s,o){return tt.isNode&&N.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function F2(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function M2(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function D0(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=n.length;return i=!i&&N.isArray(s)?s.length:i,u?(N.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!N.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&N.isArray(s[i])&&(s[i]=M2(s[i])),!l)}if(N.isFormData(e)&&N.isFunction(e.entries)){const n={};return N.forEachEntry(e,(r,s)=>{t(F2(r),s,n,0)}),n}return null}function L2(e,t,n){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const td={transitional:_0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=N.isObject(t);if(o&&N.isHTMLForm(t)&&(t=new FormData(t)),N.isFormData(t))return s?JSON.stringify(D0(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t)||N.isReadableStream(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return R2(t,this.formSerializer).toString();if((l=N.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return _a(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),L2(t)):t}],transformResponse:[function(t){const n=this.transitional||td.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(N.isResponse(t)||N.isReadableStream(t))return t;if(t&&N.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?K.from(l,K.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],e=>{td.headers[e]={}});const nd=td,O2=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_2=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&O2[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Hf=Symbol("internals");function $s(e){return e&&String(e).trim().toLowerCase()}function Ri(e){return e===!1||e==null?e:N.isArray(e)?e.map(Ri):String(e)}function D2(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const I2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gl(e,t,n,r,s){if(N.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!N.isString(t)){if(N.isString(r))return t.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(t)}}function z2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function A2(e,t){const n=N.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class Da{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,u,c){const p=$s(u);if(!p)throw new Error("header name must be a non-empty string");const h=N.findKey(s,p);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||u]=Ri(l))}const i=(l,u)=>N.forEach(l,(c,p)=>o(c,p,u));if(N.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(N.isString(t)&&(t=t.trim())&&!I2(t))i(_2(t),n);else if(N.isObject(t)&&N.isIterable(t)){let l={},u,c;for(const p of t){if(!N.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[c=p[0]]=(u=l[c])?N.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}i(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=$s(t),t){const r=N.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return D2(s);if(N.isFunction(n))return n.call(this,s,r);if(N.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$s(t),t){const r=N.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||gl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=$s(i),i){const l=N.findKey(r,i);l&&(!n||gl(r,r[l],l,n))&&(delete r[l],s=!0)}}return N.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||gl(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return N.forEach(this,(s,o)=>{const i=N.findKey(r,o);if(i){n[i]=Ri(s),delete n[o];return}const l=t?z2(o):String(o).trim();l!==o&&delete n[o],n[l]=Ri(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return N.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&N.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Hf]=this[Hf]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=$s(i);r[l]||(A2(s,i),r[l]=!0)}return N.isArray(t)?t.forEach(o):o(t),this}}Da.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Da.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});N.freezeMethods(Da);const Ht=Da;function yl(e,t){const n=this||nd,r=t||n,s=Ht.from(r.headers);let o=r.data;return N.forEach(e,function(l){o=l.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function I0(e){return!!(e&&e.__CANCEL__)}function Rs(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}N.inherits(Rs,K,{__CANCEL__:!0});function z0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $2(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),p=r[o];i||(i=c),n[s]=u,r[s]=c;let h=o,g=0;for(;h!==s;)g+=n[h++],h=h%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const m=p&&c-p;return m?Math.round(g*1e3/m):void 0}}function B2(e,t){let n=0,r=1e3/t,s,o;const i=(c,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const p=Date.now(),h=p-n;h>=r?i(c,p):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-h)))},()=>s&&i(s)]}const la=(e,t,n=3)=>{let r=0;const s=$2(50,250);return B2(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-r,c=s(u),p=i<=l;r=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&p?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Qf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},qf=e=>(...t)=>N.asap(()=>e(...t)),W2=tt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,tt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,V2=tt.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];N.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),N.isString(r)&&i.push("path="+r),N.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function H2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Q2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function A0(e,t,n){let r=!H2(t);return e&&(r||n==!1)?Q2(e,t):t}const Kf=e=>e instanceof Ht?{...e}:e;function Or(e,t){t=t||{};const n={};function r(c,p,h,g){return N.isPlainObject(c)&&N.isPlainObject(p)?N.merge.call({caseless:g},c,p):N.isPlainObject(p)?N.merge({},p):N.isArray(p)?p.slice():p}function s(c,p,h,g){if(N.isUndefined(p)){if(!N.isUndefined(c))return r(void 0,c,h,g)}else return r(c,p,h,g)}function o(c,p){if(!N.isUndefined(p))return r(void 0,p)}function i(c,p){if(N.isUndefined(p)){if(!N.isUndefined(c))return r(void 0,c)}else return r(void 0,p)}function l(c,p,h){if(h in t)return r(c,p);if(h in e)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,p,h)=>s(Kf(c),Kf(p),h,!0)};return N.forEach(Object.keys({...e,...t}),function(p){const h=u[p]||s,g=h(e[p],t[p],p);N.isUndefined(g)&&h!==l||(n[p]=g)}),n}const U0=e=>{const t=Or({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=Ht.from(i),t.url=O0(A0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(N.isFormData(n)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...p]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...p].join("; "))}}if(tt.hasStandardBrowserEnv&&(r&&N.isFunction(r)&&(r=r(t)),r||r!==!1&&W2(t.url))){const c=s&&o&&V2.read(o);c&&i.set(s,c)}return t},q2=typeof XMLHttpRequest<"u",K2=q2&&function(e){return new Promise(function(n,r){const s=U0(e);let o=s.data;const i=Ht.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,p,h,g,m,v;function w(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function d(){if(!y)return;const x=Ht.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};z0(function(T){n(T),w()},function(T){r(T),w()},j),y=null}"onloadend"in y?y.onloadend=d:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(d)},y.onabort=function(){y&&(r(new K("Request aborted",K.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||_0;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new K(k,j.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&N.forEach(i.toJSON(),function(k,j){y.setRequestHeader(j,k)}),N.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),c&&([g,v]=la(c,!0),y.addEventListener("progress",g)),u&&y.upload&&([h,m]=la(u),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(p=x=>{y&&(r(!x||x.type?new Rs(null,e,y):x),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const f=U2(s.url);if(f&&tt.protocols.indexOf(f)===-1){r(new K("Unsupported protocol "+f+":",K.ERR_BAD_REQUEST,e));return}y.send(o||null)})},G2=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,l();const p=c instanceof Error?c:this.reason;r.abort(p instanceof K?p:new Rs(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,o(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>N.asap(l),u}},X2=G2,Y2=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},J2=async function*(e,t){for await(const n of Z2(e))yield*Y2(n,t)},Z2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Gf=(e,t,n,r)=>{const s=J2(e,t);let o=0,i,l=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:p}=await s.next();if(c){l(),u.close();return}let h=p.byteLength;if(n){let g=o+=h;n(g)}u.enqueue(new Uint8Array(p))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Ia=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$0=Ia&&typeof ReadableStream=="function",ek=Ia&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),B0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tk=$0&&B0(()=>{let e=!1;const t=new Request(tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Xf=64*1024,Au=$0&&B0(()=>N.isReadableStream(new Response("").body)),ua={stream:Au&&(e=>e.body)};Ia&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ua[t]&&(ua[t]=N.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new K(`Response type '${t}' is not supported`,K.ERR_NOT_SUPPORT,r)})})})(new Response);const nk=async e=>{if(e==null)return 0;if(N.isBlob(e))return e.size;if(N.isSpecCompliantForm(e))return(await new Request(tt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(N.isArrayBufferView(e)||N.isArrayBuffer(e))return e.byteLength;if(N.isURLSearchParams(e)&&(e=e+""),N.isString(e))return(await ek(e)).byteLength},rk=async(e,t)=>{const n=N.toFiniteNumber(e.getContentLength());return n??nk(t)},sk=Ia&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:p,withCredentials:h="same-origin",fetchOptions:g}=U0(e);c=c?(c+"").toLowerCase():"text";let m=X2([s,o&&o.toAbortSignal()],i),v;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(u&&tk&&n!=="get"&&n!=="head"&&(y=await rk(p,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(N.isFormData(r)&&(P=j.headers.get("content-type"))&&p.setContentType(P),j.body){const[T,F]=Qf(y,la(qf(u)));r=Gf(j.body,Xf,T,F)}}N.isString(h)||(h=h?"include":"omit");const d="credentials"in Request.prototype;v=new Request(t,{...g,signal:m,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:d?h:void 0});let f=await fetch(v,g);const x=Au&&(c==="stream"||c==="response");if(Au&&(l||x&&w)){const j={};["status","statusText","headers"].forEach(_=>{j[_]=f[_]});const P=N.toFiniteNumber(f.headers.get("content-length")),[T,F]=l&&Qf(P,la(qf(l),!0))||[];f=new Response(Gf(f.body,Xf,T,()=>{F&&F(),w&&w()}),j)}c=c||"text";let k=await ua[N.findKey(ua,c)||"text"](f,e);return!x&&w&&w(),await new Promise((j,P)=>{z0(j,P,{data:k,headers:Ht.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:v})})}catch(d){throw w&&w(),d&&d.name==="TypeError"&&/Load failed|fetch/i.test(d.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,e,v),{cause:d.cause||d}):K.from(d,d&&d.code,e,v)}}),Uu={http:y2,xhr:K2,fetch:sk};N.forEach(Uu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yf=e=>`- ${e}`,ok=e=>N.isFunction(e)||e===null||e===!1,W0={getAdapter:e=>{e=N.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!ok(n)&&(r=Uu[(i=String(n)).toLowerCase()],r===void 0))throw new K(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Yf).join(`
`):" "+Yf(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Uu};function xl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rs(null,e)}function Jf(e){return xl(e),e.headers=Ht.from(e.headers),e.data=yl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),W0.getAdapter(e.adapter||nd.adapter)(e).then(function(r){return xl(e),r.data=yl.call(e,e.transformResponse,r),r.headers=Ht.from(r.headers),r},function(r){return I0(r)||(xl(e),r&&r.response&&(r.response.data=yl.call(e,e.transformResponse,r.response),r.response.headers=Ht.from(r.response.headers))),Promise.reject(r)})}const V0="1.11.0",za={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{za[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Zf={};za.transitional=function(t,n,r){function s(o,i){return"[Axios v"+V0+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new K(s(i," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!Zf[i]&&(Zf[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};za.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ik(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new K("option "+o+" must be "+u,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}}const Fi={assertOptions:ik,validators:za},Yt=Fi.validators;class ca{constructor(t){this.defaults=t||{},this.interceptors={request:new Vf,response:new Vf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Or(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Fi.assertOptions(r,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),s!=null&&(N.isFunction(s)?n.paramsSerializer={serialize:s}:Fi.assertOptions(s,{encode:Yt.function,serialize:Yt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fi.assertOptions(n,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&N.merge(o.common,o[n.method]);o&&N.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=Ht.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let p,h=0,g;if(!u){const v=[Jf.bind(this),void 0];for(v.unshift(...l),v.push(...c),g=v.length,p=Promise.resolve(n);h<g;)p=p.then(v[h++],v[h++]);return p}g=l.length;let m=n;for(h=0;h<g;){const v=l[h++],w=l[h++];try{m=v(m)}catch(y){w.call(this,y);break}}try{p=Jf.call(this,m)}catch(v){return Promise.reject(v)}for(h=0,g=c.length;h<g;)p=p.then(c[h++],c[h++]);return p}getUri(t){t=Or(this.defaults,t);const n=A0(t.baseURL,t.url,t.allowAbsoluteUrls);return O0(n,t.params,t.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(t){ca.prototype[t]=function(n,r){return this.request(Or(r||{},{method:t,url:n,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,l){return this.request(Or(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ca.prototype[t]=n(),ca.prototype[t+"Form"]=n(!0)});const Mi=ca;class rd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new Rs(o,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rd(function(s){t=s}),cancel:t}}}const ak=rd;function lk(e){return function(n){return e.apply(null,n)}}function uk(e){return N.isObject(e)&&e.isAxiosError===!0}const $u={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($u).forEach(([e,t])=>{$u[t]=e});const ck=$u;function H0(e){const t=new Mi(e),n=b0(Mi.prototype.request,t);return N.extend(n,Mi.prototype,t,{allOwnKeys:!0}),N.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return H0(Or(e,s))},n}const Me=H0(nd);Me.Axios=Mi;Me.CanceledError=Rs;Me.CancelToken=ak;Me.isCancel=I0;Me.VERSION=V0;Me.toFormData=_a;Me.AxiosError=K;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=lk;Me.isAxiosError=uk;Me.mergeConfig=Or;Me.AxiosHeaders=Ht;Me.formToJSON=e=>D0(N.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=W0.getAdapter;Me.HttpStatusCode=ck;Me.default=Me;const pi=Me,dk=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(null),[s,o]=b.useState(!1),[i,l]=b.useState(null),[u,c]=b.useState(!0),p=b.useRef(null),h=bn();b.useEffect(()=>{(async()=>{try{c(!0);const d=await pi.get("/api/database/stats");t(d.data)}catch(d){console.error("Failed to fetch database stats:",d)}finally{c(!1)}})()},[]),b.useEffect(()=>{if(!s)return;const y=()=>{pi.get("/api/database/update-status").then(d=>r(d.data))};return y(),p.current=setInterval(y,2e3),()=>{p.current&&clearInterval(p.current)}},[s]);const g=async()=>{var y,d,f,x;o(!0),l(null);try{await pi.post("/api/database/incremental-update")}catch(k){l(((d=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:d.error)||((x=(f=k==null?void 0:k.response)==null?void 0:f.data)==null?void 0:x.message)||"Failed to start incremental update"),o(!1)}};b.useEffect(()=>{n&&(n.status==="done"||n.status==="idle"||n.status==="error")&&(o(!1),p.current&&clearInterval(p.current),n.status==="done"&&pi.get("/api/database/stats").then(y=>t(y.data)))},[n]);const m=y=>{if(y===0)return"0 B";const d=1024,f=["B","KB","MB","GB"],x=Math.floor(Math.log(y)/Math.log(d));return parseFloat((y/Math.pow(d,x)).toFixed(2))+" "+f[x]},v=y=>{switch(y.toLowerCase()){case"image":return a.jsx(n0,{className:"w-4 h-4"});case"video":return a.jsx(c0,{className:"w-4 h-4"});case"audio":return a.jsx(no,{className:"w-4 h-4"});default:return a.jsx(Cr,{className:"w-4 h-4"})}},w=y=>{switch(y.toLowerCase()){case"image":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"video":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"audio":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}};return u?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:a.jsx("div",{className:"max-w-6xl mx-auto p-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-blue-200 dark:border-blue-700 border-t-blue-600 dark:border-t-blue-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Loading database statistics..."})]})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:a.jsxs("div",{className:"w-full px-6 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>h(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:a.jsx(Wc,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zf,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Database Admin"})]})]})}),e&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Files"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.totalPhotos.toLocaleString()})]}),a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex-shrink-0 ml-3",children:a.jsx(Cr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Photo Size"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:m(e.totalSize)})]}),a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex-shrink-0 ml-3",children:a.jsx(e0,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Last Updated"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.lastRefresh?new Date(e.lastRefresh).toLocaleDateString():"Never"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.lastRefresh?new Date(e.lastRefresh).toLocaleTimeString():""})]}),a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0 ml-3",children:a.jsx(Zm,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(If,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Healthy"})]})]}),a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0 ml-3",children:a.jsx(If,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Database File"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:m(e.dbSize)})]}),a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg flex-shrink-0 ml-3",children:a.jsx(zf,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})})]}),(e==null?void 0:e.fileTypes)&&Object.keys(e.fileTypes).length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"File Type Breakdown"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.entries(e.fileTypes).map(([y,d])=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:`p-2 rounded-lg ${w(y)} flex-shrink-0`,children:v(y)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 capitalize truncate",children:y}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.toLocaleString()," files"]})]})]}),a.jsx("div",{className:"text-right flex-shrink-0 ml-3",children:a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[(d/e.totalPhotos*100).toFixed(1),"%"]})})]},y))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Database Updates"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Run an incremental update to scan for new, modified, or deleted files in your photo library."})]}),a.jsx("button",{onClick:g,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold rounded-lg transition-colors disabled:cursor-not-allowed flex-shrink-0",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"w-4 h-4 animate-spin"}),"Running Update..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"w-4 h-4"}),"Run Incremental Update"]})})]}),i&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg mb-4",children:[a.jsx(U1,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-700 dark:text-red-300",children:i})]}),n&&n.status!=="idle"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.processedFiles.toLocaleString()," / ",n.totalFiles.toLocaleString()," files"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.max(0,Math.min(100,n.percent))}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{children:[n.percent.toFixed(1),"% complete"]}),a.jsxs("span",{children:["ETA: ",n.eta||"Calculating..."]})]}),n.logs.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Recent Logs"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 h-48 overflow-y-auto",children:a.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-gray-300",children:n.logs.slice(-50).map((y,d)=>a.jsx("div",{className:"whitespace-pre-wrap",children:y},d))})})]})]})]})]})})},eh=/(https?:\/\/[^\s]+|ftp:\/\/[^\s]+|www\.[^\s]+)/gi,Q0=e=>{try{return new URL(e.startsWith("www.")?`https://${e}`:e),!0}catch{return!1}},q0=e=>e.startsWith("www.")?`https://${e}`:e,fk=(e,t)=>e&&e.split(eh).map((r,s)=>{if(eh.test(r)&&Q0(r)){const o=q0(r);return a.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:t||"text-blue-500 hover:text-blue-700 underline",onClick:i=>i.stopPropagation(),children:r},s)}return r}),hk=(e,t,n)=>{if(!e)return null;if(!Q0(e))return t||e;const r=q0(e);return a.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:n||"text-blue-500 hover:text-blue-700 underline",onClick:s=>s.stopPropagation(),children:t||e})},pk=({fileUrl:e})=>{const t=Z.useRef(null),n=Z.useRef(null),r=Z.useRef(null),[s,o]=Z.useState(!0),[i,l]=Z.useState(null),u=Z.useCallback(async(g,m)=>{await new Promise((v,w)=>{const y=document.querySelector(`script[${m}="true"]`);if(y){y.addEventListener("load",()=>v()),y.addEventListener("error",()=>w(new Error(`Failed to load script: ${g}`))),(y.readyState==="complete"||y.readyState==="loaded")&&v();return}const d=document.createElement("script");d.src=g,d.async=!0,d.defer=!0,d.setAttribute(m,"true"),d.onload=()=>v(),d.onerror=()=>w(new Error(`Failed to load script: ${g}`)),document.body.appendChild(d)})},[]),c=Z.useCallback(async()=>{window.JSZip||await u("https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js","data-jszip"),!(typeof window>"u"||window.ePub)&&await u("https://cdn.jsdelivr.net/npm/epubjs@0.3.93/dist/epub.min.js","data-epubjs")},[u]);Z.useEffect(()=>{let g=!1;return(async()=>{try{if(o(!0),l(null),await c(),g)return;const v=await fetch(e,{credentials:"same-origin"});if(!v.ok)throw new Error(`Failed to fetch EPUB: ${v.status} ${v.statusText}`);const w=await v.arrayBuffer(),y=window.ePub(w),d=t.current,f=y.renderTo(d,{width:"100%",height:"100%"});if(await f.display(),g)return;n.current=y,r.current=f,o(!1)}catch(v){g||(l((v==null?void 0:v.message)||"Failed to load EPUB"),o(!1))}})(),()=>{var v,w,y,d;g=!0;try{(w=(v=r.current)==null?void 0:v.destroy)==null||w.call(v),(d=(y=n.current)==null?void 0:y.destroy)==null||d.call(y)}catch{}}},[e,c]);const p=Z.useCallback(()=>{var g,m;(m=(g=r.current)==null?void 0:g.prev)==null||m.call(g)},[]),h=Z.useCallback(()=>{var g,m;(m=(g=r.current)==null?void 0:g.next)==null||m.call(g)},[]);return a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("button",{onClick:p,className:"px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded",children:"Prev"}),a.jsx("button",{onClick:h,className:"px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded",children:"Next"}),a.jsx("button",{onClick:()=>window.open(e,"_blank"),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Open in new tab"})]}),a.jsxs("div",{ref:t,className:"bg-white text-black",style:{width:"90vw",height:"80vh",borderRadius:8,overflow:"hidden"},children:[s&&!i&&a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:"Loading EPUB"}),i&&a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-red-400",children:[a.jsx("div",{className:"mb-2",children:i}),a.jsx("button",{onClick:()=>window.open(e,"_blank"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Open in new tab"})]})]})]})},mk=()=>{var G,oe;const{detailedPhoto:e,setDetailedPhoto:t,currentFolder:n,currentTag:r,sortOptions:s,restoreScrollPosition:o,folderTree:i,setCurrentFolder:l,setCurrentTag:u,saveScrollPosition:c,filters:p,searchQuery:h}=we(),{accentColor:g}=we(),[m,v]=Z.useState(null),[w,y]=Z.useState(-1),[d,f]=Z.useState("fit"),[x,k]=Z.useState(1),[j,P]=Z.useState({x:0,y:0}),[T,F]=Z.useState(!1),[_,E]=Z.useState({x:0,y:0}),[V,$]=Z.useState(null),ne=Z.useRef(null),Y=Z.useRef(null),ie=Z.useRef(null),{data:We={}}=Kc(),Ie=p0(n,{field:s.field,direction:s.direction}),I=v0({tag:r,limit:50,sortField:s.field,sortDirection:s.direction,enabled:!!r}),Q=w0({query:h,type:p.fileTypes.length>0?p.fileTypes[0]:null,limit:50,orderBy:s.field,orderDirection:s.direction==="asc"?"ASC":"DESC",enabled:h.trim().length>0}),q=r?I:Ie,W=h.trim().length>0?Q.photos:((G=q.data)==null?void 0:G.pages.flatMap(C=>C.photos))||[];console.log("DetailedPhotoModal photos data:",{photosLength:W.length,usingSearchResults:h.trim().length>0,currentTag:r,currentFolder:n,firstPhotoId:(oe=W[0])==null?void 0:oe.id,detailedPhoto:e});const re=Z.useRef(e);b.useEffect(()=>{re.current=e},[e]);const ze=Z.useRef(new Set);b.useEffect(()=>{if(console.log("DetailedPhotoModal useEffect triggered:",{detailedPhoto:e,photosLength:W.length,fetchingPhotoId:V}),!e){v(null),y(-1),$(null);return}V&&V!==e&&(console.log("Resetting stale fetch state:",{oldFetchingPhotoId:V,newPhotoId:e}),$(null));const C=W.findIndex(O=>O.id===e);console.log("Detailed view debug:",{detailedPhoto:e,foundIndex:C,fetchingPhotoId:V,photosLength:W.length}),C!==-1?(y(C),v(W[C]),$(null)):m&&m.id===e?(y(-1),$(null)):W.length>0?ze.current.has(e)?console.log("Fetch already in-flight (ref), waiting...",{detailedPhoto:e}):(console.log("Photo not found in current dataset, fetching specifically:",e),ze.current.add(e),$(e),Ge(e).finally(()=>{ze.current.delete(e)})):W.length===0&&(v(null),y(-1),$(null))},[e,W,m==null?void 0:m.id]);const Ge=async C=>{try{const O=await Ne(`/api/photos/${C}/metadata`);if(!O.ok)throw new Error(`Failed to fetch photo metadata: ${O.statusText}`);const B=await O.json();console.log("Fetched specific photo:",B);const Ve=re.current===C;console.log("Fetch complete, checking if still needed:",{currentRequested:re.current,photoId:C,stillNeeded:Ve}),Ve?(console.log("Setting photo data:",{photoId:B.id,photoName:B.name}),v(B),y(-1),re.current===C&&$(null)):console.log("Ignoring fetch result, photo no longer needed:",{currentRequested:re.current,photoId:C})}catch(O){console.error("Failed to fetch specific photo:",O,{photoId:C,currentRequested:re.current}),re.current===C&&(v(null),y(-1),$(null))}};b.useEffect(()=>{if(console.log("Photo state changed:",{photo:m?`${m.id} (${m.name})`:null}),m){const C=ae.getPhotoFileUrl(m.id,m.ext,m.name);console.log("Photo URL debug:",{photoId:m.id,photoExt:m.ext,photoName:m.name,generatedUrl:C})}},[m]);const Nt=()=>{console.log("Closing detailed modal, restoring scroll position for folder:",n),t(null)},ut=C=>{C.target===C.currentTarget&&Nt()},Ae=()=>{W.length&&w>0?t(W[w-1].id):w===-1&&W.length>0&&t(W[W.length-1].id)},Dt=()=>{W.length&&w>=0&&w<W.length-1?t(W[w+1].id):w===-1&&W.length>0&&t(W[0].id)},xt=()=>{switch(d){case"vertical":return"h-[95vh] w-auto max-w-none object-contain";case"horizontal":return"w-[95vw] h-auto max-h-none object-contain";default:return"max-h-[95vh] max-w-[90vw] object-contain"}},Kt=()=>{const C={background:"black"};return x!==1?{...C,transform:`scale(${x}) translate(${j.x}px, ${j.y}px)`,transformOrigin:"center",transition:T?"none":"transform 0.1s ease-out",cursor:T?"grabbing":"grab"}:C},nr=()=>{var Fs;if(!Y.current||x<=1)return{minX:0,maxX:0,minY:0,maxY:0};const O=Y.current.getBoundingClientRect(),B=(Fs=ne.current)==null?void 0:Fs.getBoundingClientRect();if(!B)return{minX:0,maxX:0,minY:0,maxY:0};const Ve=Math.max(0,O.width-B.width),Et=Math.max(0,O.height-B.height),sr=Ve*.4,Ko=Et*.4;return{minX:-sr,maxX:sr,minY:-Ko,maxY:Ko}},Gt=C=>{const O=nr();return{x:Math.max(O.minX,Math.min(O.maxX,C.x)),y:Math.max(O.minY,Math.min(O.maxY,C.y))}},R=C=>{C.preventDefault();const O=Math.max(.1,1/x),B=-C.deltaY*.5*O;P(Ve=>{const Et={...Ve,y:Ve.y+B};return Gt(Et)})},D=C=>{F(!0),E({x:C.clientX-j.x,y:C.clientY-j.y})},Ee=C=>{if(T){const O=Math.max(.1,1/x),B=(C.clientX-_.x)*O,Ve=(C.clientY-_.y)*O;P(Gt({x:B,y:Ve}))}},ye=()=>{F(!1)},me=()=>{k(C=>Math.min(C*1.2,5))},Le=()=>{k(C=>Math.max(C/1.2,.1))},Xe=()=>{k(1),P({x:0,y:0})},Se=()=>{if(!m)return null;const C=dn(m.ext);if(Jt(m.ext)){if(C.category==="video")return a.jsx("video",{ref:ie,src:ae.getPhotoFileUrl(m.id,m.ext,m.name),className:xt(),controls:!0,autoPlay:!0,muted:!0,draggable:!1,style:Kt(),onClick:O=>O.stopPropagation(),onMouseDown:D,onMouseMove:Ee,onMouseUp:ye,onError:O=>{console.log("Video load error in detailed view:",O)}});if(C.category==="ebook"&&m.ext.toLowerCase()==="epub"){const O=ae.getPhotoFileUrl(m.id,m.ext,m.name);return a.jsx("div",{className:"flex flex-col items-center justify-center",children:a.jsx(pk,{fileUrl:O})})}return a.jsxs("div",{className:"flex flex-col items-center justify-center max-w-2xl mx-auto text-center",children:[a.jsx("div",{className:"text-8xl mb-6 opacity-80",children:C.icon}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:m.name}),a.jsx("p",{className:"text-lg text-gray-300 mb-6",children:C.displayName}),a.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Size:"}),a.jsx("span",{className:"ml-2 text-white",children:ae.formatFileSize(m.size)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Modified:"}),a.jsx("span",{className:"ml-2 text-white",children:ae.formatDate(m.mtime)})]})]})}),a.jsx("div",{className:"flex gap-4",children:C.canPreview?a.jsxs("button",{onClick:()=>{const O=ae.getPhotoFileUrl(m.id,m.ext,m.name);window.open(O,"_blank")},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[C.category==="audio"&&a.jsx(Er,{className:"w-5 h-5"}),C.category==="ebook"&&a.jsx(Tu,{className:"w-5 h-5"}),C.category==="document"&&a.jsx(Cr,{className:"w-5 h-5"}),C.canPreview?"Open":"Download"]}):a.jsxs("button",{onClick:()=>{const O=ae.getPhotoFileUrl(m.id,m.ext,m.name),B=document.createElement("a");B.href=O,B.download=m.name,B.click()},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Hc,{className:"w-5 h-5"}),"Download"]})}),m.tags&&m.tags.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:m.tags.map((O,B)=>a.jsx("span",{className:"px-3 py-1 text-sm bg-white/20 text-white rounded-full",children:O},B))})]})]})}else return C.category==="video"?a.jsx("video",{ref:ie,src:ae.getPhotoFileUrl(m.id,m.ext,m.name),className:xt(),controls:!0,autoPlay:!0,muted:!0,draggable:!1,style:Kt(),onClick:O=>O.stopPropagation(),onMouseDown:D,onMouseMove:Ee,onMouseUp:ye,onError:O=>{console.log("Video load error in detailed view:",O)}}):a.jsx("img",{ref:Y,src:ae.getPhotoFileUrl(m.id,m.ext,m.name),alt:m.name,className:xt(),draggable:!1,style:Kt(),onClick:O=>O.stopPropagation(),onMouseDown:D,onMouseMove:Ee,onMouseUp:ye})};if(b.useEffect(()=>{const C=B=>{m&&!Jt(m.ext)&&R(B)},O=ne.current;return O&&O.addEventListener("wheel",C,{passive:!1}),()=>{O&&O.removeEventListener("wheel",C)}},[m,x,j]),b.useEffect(()=>{const C=O=>{O.key==="Escape"&&Nt(),O.key==="ArrowLeft"&&Ae(),O.key==="ArrowRight"&&Dt(),O.key==="v"&&f("vertical"),O.key==="h"&&f("horizontal"),O.key==="f"&&f("fit"),(O.key==="+"||O.key==="=")&&me(),O.key==="-"&&Le(),O.key==="0"&&Xe()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)}),b.useEffect(()=>{k(1),P({x:0,y:0})},[m]),b.useEffect(()=>{if(m){const C=window.scrollY,O=window.scrollX,B=window.innerWidth-document.documentElement.clientWidth;document.body.style.position="fixed",document.body.style.top=`-${C}px`,document.body.style.left=`-${O}px`,document.body.style.width="100%",document.body.style.height="100%",document.body.style.overflow="hidden",B>0&&(document.body.style.paddingRight=`${B}px`),document.body.dataset.scrollY=C.toString(),document.body.dataset.scrollX=O.toString()}else document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",document.body.style.height="",document.body.style.overflow="",document.body.style.paddingRight="",delete document.body.dataset.scrollY,delete document.body.dataset.scrollX;return()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",document.body.style.height="",document.body.style.overflow="",document.body.style.paddingRight="",delete document.body.dataset.scrollY,delete document.body.dataset.scrollX}},[m]),b.useEffect(()=>{!m&&e===null&&setTimeout(()=>{o()},50)},[m,e,o]),!e)return null;const Ct=C=>{if(!i||!C.length)return[];const O=(B,Ve)=>{for(const Et of B){if(Et.id===Ve)return Et.name;if(Et.children&&Et.children.length>0){const sr=O(Et.children,Ve);if(sr)return sr}}return null};return C.map(B=>O(i,B)).filter(B=>B!==null)},rr=C=>{u(null),l(C),t(null)};return m?W.length?(console.log("DetailedPhotoModal: Rendering modal with photo:",m.name),a.jsxs("div",{ref:ne,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:ut,children:[W.length&&w>0&&a.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/50 hover:bg-black/70 text-white z-10",onClick:C=>{C.stopPropagation(),Ae()},children:a.jsx(Wc,{className:"w-8 h-8"})}),W.length&&w<W.length-1&&a.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/50 hover:bg-black/70 text-white z-10",onClick:C=>{C.stopPropagation(),Dt()},children:a.jsx(W1,{className:"w-8 h-8"})}),a.jsx("button",{className:"absolute top-4 right-4 p-3 rounded-full bg-black/50 hover:bg-black/70 text-white z-10",onClick:C=>{C.stopPropagation(),Nt()},children:a.jsx(Es,{className:"w-6 h-6"})}),m&&dn(m.ext).category!=="video"&&!Jt(m.ext)&&a.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[a.jsx("button",{className:`p-3 rounded-full transition-colors ${d==="vertical"?"bg-white/20 text-white":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),f("vertical")},title:"Expand to full height (V)",children:a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-6 border-2 border-current rounded-sm"})})}),a.jsx("button",{className:`p-3 rounded-full transition-colors ${d==="horizontal"?"bg-white/20 text-white":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),f("horizontal")},title:"Expand to full width (H)",children:a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("div",{className:"w-6 h-3 border-2 border-current rounded-sm"})})}),a.jsx("button",{className:`p-3 rounded-full transition-colors ${d==="fit"?"bg-white/20 text-white":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),f("fit")},title:"Fit to screen (F)",children:a.jsx(s0,{className:"w-6 h-6"})})]}),m&&dn(m.ext).category!=="video"&&!Jt(m.ext)&&a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 z-10",children:[a.jsx("button",{className:`p-3 rounded-full transition-colors ${x<=.1?"bg-gray-500/50 text-gray-300 cursor-not-allowed":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),Le()},disabled:x<=.1,title:"Zoom out (-)",children:a.jsx(ow,{className:"w-6 h-6"})}),a.jsxs("div",{className:"px-4 py-3 bg-black/70 text-white text-sm font-mono rounded-full flex items-center min-w-[60px] justify-center",children:[Math.round(x*100),"%"]}),a.jsx("button",{className:`p-3 rounded-full transition-colors ${x>=5?"bg-gray-500/50 text-gray-300 cursor-not-allowed":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),me()},disabled:x>=5,title:"Zoom in (+)",children:a.jsx(sw,{className:"w-6 h-6"})}),a.jsx("button",{className:`p-3 rounded-full transition-colors ${x===1&&j.x===0&&j.y===0?"bg-gray-500/50 text-gray-300 cursor-not-allowed":"bg-black/50 hover:bg-black/70 text-white"}`,onClick:C=>{C.stopPropagation(),Xe()},disabled:x===1&&j.x===0&&j.y===0,title:"Reset zoom (0)",children:a.jsx(J1,{className:"w-6 h-6"})})]}),m&&dn(m.ext).category!=="video"&&!Jt(m.ext)&&x>1&&a.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-sm px-4 py-2 rounded-full z-10",children:"Scroll to navigate  Drag to pan"}),a.jsx("div",{className:"relative flex items-center justify-center p-16",onClick:C=>C.stopPropagation(),children:Se()}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-black/80 backdrop-blur-sm rounded-lg p-4 text-white max-w-md",onClick:C=>C.stopPropagation(),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg truncate",children:m.name}),a.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),Jt(m.ext)?a.jsxs(a.Fragment,{children:[dn(m.ext).displayName,"  ",ae.formatFileSize(m.size),"  ",m.ext.toUpperCase(),dn(m.ext).category==="video"&&m.duration&&a.jsxs(a.Fragment,{children:["  ",Math.round(m.duration),"s"]})]}):a.jsxs(a.Fragment,{children:[m.width,"",m.height,"  ",ae.formatFileSize(m.size),"  ",m.ext.toUpperCase()]})]})]}),m.folders&&m.folders.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[a.jsx(Qc,{className:"w-4 h-4"}),"Folders:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Ct(m.folders).map((C,O)=>{const B=m.folders[O];return a.jsx("button",{onClick:()=>rr(B),className:`px-2 py-1 text-xs ${Te(g)} hover:${iw(g)} text-white rounded-full transition-colors cursor-pointer`,title:`Go to ${C}`,children:C},B)})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[a.jsx(Ei,{className:"w-4 h-4"}),"Tags:"]}),m.tags&&m.tags.length>0?a.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((C,O)=>{const B=We[C]||0;return a.jsxs("button",{onClick:()=>{t(null),u(C),l(null);const Ve=Xc(C);window.location.href=Ve},className:"px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded-full transition-colors cursor-pointer",title:`View all ${B} files with tag: ${C}`,children:[C,B>0&&a.jsxs("span",{className:"ml-1 text-gray-300",children:["(",B,")"]})]},O)})}):a.jsx("div",{className:"text-sm text-gray-400",children:"No tags"})]}),!Jt(m.ext)&&m.camera&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(H1,{className:"w-4 h-4"}),a.jsx("span",{children:m.camera})]}),m.dateTime&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ru,{className:"w-4 h-4"}),a.jsx("span",{children:new Date(m.dateTime).toLocaleString()})]}),m.btime&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ru,{className:"w-4 h-4"}),a.jsxs("span",{children:["Date Imported: ",new Date(m.btime).toLocaleString()]})]}),m.url&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Tu,{className:"w-4 h-4"}),a.jsxs("span",{children:["URL: ",hk(m.url,void 0,"text-blue-400 hover:text-blue-300 underline")]})]}),m.annotation&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Cr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Notes: ",fk(m.annotation,"text-blue-400 hover:text-blue-300 underline")]})]}),!Jt(m.ext)&&m.gps_latitude&&m.gps_longitude&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(G1,{className:"w-4 h-4"}),a.jsxs("span",{children:[m.gps_latitude.toFixed(6),", ",m.gps_longitude.toFixed(6)]}),m.gps_altitude&&a.jsxs("span",{children:["(",m.gps_altitude,"m)"]})]}),!Jt(m.ext)&&m.exif_data&&a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium mb-1",children:"EXIF Data:"}),a.jsx("div",{className:"text-gray-300 space-y-1",children:Object.entries(JSON.parse(m.exif_data)).slice(0,5).map(([C,O])=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-400",children:[C,":"]}),a.jsx("span",{children:String(O)})]},C))})]})]})})]})):(console.log("DetailedPhotoModal: No photos array, returning null"),null):(console.log("DetailedPhotoModal: No photo, returning null"),null)};const K0=b.createContext(void 0),gk=({children:e})=>{const t=b.useRef(null),{audioPlayer:n,setAudioPlayerState:r,podcastMode:s,getAudioTime:o,saveAudioTime:i}=we(),[l,u]=b.useState(!1),[c,p]=b.useState(0),[h,g]=b.useState(0),[m,v]=b.useState(1),[w,y]=b.useState(!1),d=b.useRef(null),f=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{if(t.current){d.current||(d.current=new(window.AudioContext||window.webkitAudioContext)),f.current||(f.current=d.current.createAnalyser(),f.current.fftSize=256,f.current.smoothingTimeConstant=.8),x.current||(x.current=d.current.createMediaElementSource(t.current));try{x.current.disconnect(),f.current.disconnect()}catch{}x.current.connect(f.current),f.current.connect(d.current.destination)}},[t.current]);const k=b.useCallback(()=>{if(!f.current)return null;const E=f.current.frequencyBinCount,V=new Uint8Array(E);return f.current.getByteFrequencyData(V),V},[]);b.useEffect(()=>{t.current&&(t.current.volume=n.volume,t.current.muted=n.isMuted),v(n.volume),y(n.isMuted)},[n.volume,n.isMuted]),b.useEffect(()=>{if(t.current&&n.currentAudio&&(t.current.src=ae.getPhotoFileUrl(n.currentAudio.id,n.currentAudio.ext,n.currentAudio.name),t.current.load(),p(0),g(0),s.enabled&&n.currentAudio)){const E=o(n.currentAudio.id);if(E>0){const V=()=>{E<t.current.duration&&(t.current.currentTime=E,p(E),r({currentTime:E})),t.current.removeEventListener("loadedmetadata",V)};t.current.addEventListener("loadedmetadata",V)}}},[n.currentAudio,s.enabled,o,r]),b.useEffect(()=>{t.current&&(n.isPlaying?t.current.play():t.current.pause())},[n.isPlaying]),b.useEffect(()=>{const E=t.current;if(!E)return;const V=()=>{p(E.currentTime),r({currentTime:E.currentTime}),s.enabled&&n.currentAudio&&i(n.currentAudio.id,E.currentTime)},$=()=>{g(E.duration)},ne=()=>{u(!1),r({isPlaying:!1})};return E.addEventListener("timeupdate",V),E.addEventListener("loadedmetadata",$),E.addEventListener("ended",ne),()=>{E.removeEventListener("timeupdate",V),E.removeEventListener("loadedmetadata",$),E.removeEventListener("ended",ne)}},[r,s.enabled,n.currentAudio,i]);const j=b.useCallback(()=>{u(!0),r({isPlaying:!0})},[r]),P=b.useCallback(()=>{u(!1),r({isPlaying:!1})},[r]),T=b.useCallback(E=>{t.current&&(t.current.currentTime=E,p(E),r({currentTime:E}))},[r]),F=b.useCallback(E=>{t.current&&(t.current.volume=E),v(E),r({volume:E})},[r]),_=b.useCallback(E=>{t.current&&(t.current.muted=E),y(E),r({isMuted:E})},[r]);return a.jsxs(K0.Provider,{value:{audioRef:t,isPlaying:l,currentTime:c,duration:h,volume:m,isMuted:w,play:j,pause:P,seek:T,setVolume:F,setMuted:_,analyzerNode:f.current,getFrequencyData:k},children:[e,a.jsx("audio",{ref:t,hidden:!0})]})};function G0(){const e=b.useContext(K0);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}const yk=({isOpen:e,onClose:t,currentAudio:n,playlist:r=[],onNext:s,onPrevious:o})=>{var Gt;const{accentColor:i,podcastMode:l,saveAudioTime:u,getAudioTime:c,setMiniPlayer:p,isMiniPlayer:h,visualizerSettings:g,setVisualizerSettings:m}=we(),v=b.useRef(null),w=b.useRef(null),y=b.useRef(null),d=b.useRef([]),{isPlaying:f,currentTime:x,duration:k,play:j,pause:P,seek:T,setVolume:F,setMuted:_,volume:E,isMuted:V,getFrequencyData:$}=G0(),[ne,Y]=b.useState(!1),[ie,We]=b.useState(!1),[Ie,I]=b.useState(!1),[Q,q]=b.useState(null),[W,re]=b.useState(!1),[ze,Ge]=b.useState(!1);b.useState(!1);const[Nt,ut]=b.useState(!1),Ae=b.useCallback(()=>{if(!n)return;const R=new Audio,D=ae.getPhotoFileUrl(n.id,n.ext,n.name);if(R.src=D,R.volume=E,R.muted=V,l.enabled){const ye=c(n.id);ye>0?(T(ye),R.addEventListener("loadedmetadata",()=>{ye<R.duration&&(R.currentTime=ye)},{once:!0})):T(0)}else T(0);const Ee=setTimeout(()=>{I(!1)},1e4);R.dataset.metadataTimeout=Ee.toString()},[n,E,V,c,T]),Dt=b.useCallback(()=>{if(!w.current)return;const R=w.current,D=R.getContext("2d");if(!D)return;D.clearRect(0,0,R.width,R.height);const Ee=($==null?void 0:$())||new Uint8Array(g.visBarCount);d.current.length!==g.visBarCount&&(d.current=new Array(g.visBarCount).fill(0));const ye=d.current;for(let me=0;me<Ee.length;me++){const Le=Ee[me]||0;ye[me%g.visBarCount]=ye[me%g.visBarCount]*g.visSmoothing+Le*(1-g.visSmoothing)}if(g.visType==="Bars"){const me=g.visBarCount,Le=R.width/me;let Xe=0;const Se=he(i);for(let Ct=0;Ct<me;Ct++){const G=(ye[Ct]||0)/255*R.height*.8,oe=D.createLinearGradient(0,R.height-G,0,R.height);oe.addColorStop(0,Se+Math.floor(g.visOpacity*255).toString(16).padStart(2,"0")),oe.addColorStop(.7,Se+Math.floor(g.visOpacity*.53*255).toString(16).padStart(2,"0")),oe.addColorStop(1,Se+"00"),D.save(),D.shadowColor=Se+Math.floor(g.visOpacity*.53*255).toString(16).padStart(2,"0"),D.shadowBlur=g.visGlow,D.fillStyle=oe;const C=Xe+Le*.1,O=Le*.8,B=O*g.visBarRound;D.beginPath(),D.moveTo(C+B,R.height-G),D.lineTo(C+O-B,R.height-G),D.quadraticCurveTo(C+O,R.height-G,C+O,R.height-G+B),D.lineTo(C+O,R.height),D.lineTo(C,R.height),D.lineTo(C,R.height-G+B),D.quadraticCurveTo(C,R.height-G,C+B,R.height-G),D.closePath(),D.fill(),D.restore(),Xe+=Le}}else if(g.visType==="Waveform"){const me=g.visBarCount,Le=R.width/(me-1),Xe=he(i);D.save(),D.strokeStyle=Xe+Math.floor(g.visOpacity*255).toString(16).padStart(2,"0"),D.lineWidth=4,D.shadowColor=Xe+Math.floor(g.visOpacity*.53*255).toString(16).padStart(2,"0"),D.shadowBlur=g.visGlow,D.beginPath();for(let Se=0;Se<me;Se++){const rr=(ye[Se]||0)/255*R.height*.7,G=Se*Le,oe=R.height-rr-20;Se===0?D.moveTo(G,oe):D.lineTo(G,oe)}D.stroke(),D.restore()}else if(g.visType==="Mirror Bars"){const me=g.visBarCount,Le=R.width/me;let Xe=0;const Se=he(i);for(let Ct=0;Ct<me;Ct++){const G=(ye[Ct]||0)/255*R.height*.4,oe=D.createLinearGradient(0,0,0,G);oe.addColorStop(0,Se+Math.floor(g.visOpacity*255).toString(16).padStart(2,"0")),oe.addColorStop(1,Se+"00"),D.save(),D.shadowColor=Se+Math.floor(g.visOpacity*.53*255).toString(16).padStart(2,"0"),D.shadowBlur=g.visGlow,D.fillStyle=oe;const C=Xe+Le*.1,O=Le*.8,B=O*g.visBarRound;D.beginPath(),D.moveTo(C+B,G),D.lineTo(C+O-B,G),D.quadraticCurveTo(C+O,G,C+O,G-B),D.lineTo(C+O,0),D.lineTo(C,0),D.lineTo(C,G-B),D.quadraticCurveTo(C,G,C+B,G),D.closePath(),D.fill(),D.beginPath(),D.moveTo(C+B,R.height-G),D.lineTo(C+O-B,R.height-G),D.quadraticCurveTo(C+O,R.height-G,C+O,R.height-G+B),D.lineTo(C+O,R.height),D.lineTo(C,R.height),D.lineTo(C,R.height-G+B),D.quadraticCurveTo(C,R.height-G,C+B,R.height-G),D.closePath(),D.fill(),D.restore(),Xe+=Le}}y.current=requestAnimationFrame(Dt)},[i,g,d]);b.useEffect(()=>{const R=v.current;if(!R)return;const D=()=>{R.dataset.metadataTimeout&&(clearTimeout(parseInt(R.dataset.metadataTimeout)),delete R.dataset.metadataTimeout),I(!1)},Ee=()=>{const Se=R.currentTime;T(Se),l.enabled&&n&&u(n.id,Se)},ye=()=>{ie?(R.currentTime=0,j()):s&&s()},me=Se=>{R.dataset.metadataTimeout&&(clearTimeout(parseInt(R.dataset.metadataTimeout)),delete R.dataset.metadataTimeout),q("Failed to load audio file"),I(!1)},Le=()=>{R.duration&&R.duration!==1/0&&I(!1)},Xe=()=>{R.duration&&R.duration!==1/0&&I(!1)};return R.addEventListener("loadedmetadata",D),R.addEventListener("timeupdate",Ee),R.addEventListener("ended",ye),R.addEventListener("error",me),R.addEventListener("canplay",Le),R.addEventListener("loadeddata",Xe),()=>{R.removeEventListener("loadedmetadata",D),R.removeEventListener("timeupdate",Ee),R.removeEventListener("ended",ye),R.removeEventListener("error",me),R.removeEventListener("canplay",Le),R.removeEventListener("loadeddata",Xe),R.dataset.metadataTimeout&&(clearTimeout(parseInt(R.dataset.metadataTimeout)),delete R.dataset.metadataTimeout)}},[ie,s,j]),b.useEffect(()=>{n&&Ae()},[n==null?void 0:n.id]),b.useEffect(()=>(e&&w.current?Dt():y.current&&(cancelAnimationFrame(y.current),y.current=null),()=>{y.current&&(cancelAnimationFrame(y.current),y.current=null)}),[e,Dt]);const xt=R=>{const D=Math.floor(R/60),Ee=Math.floor(R%60);return`${D}:${Ee.toString().padStart(2,"0")}`},Kt=R=>{if(R===0)return"0 B";const D=1024,Ee=["B","KB","MB","GB"],ye=Math.floor(Math.log(R)/Math.log(D));return parseFloat((R/Math.pow(D,ye)).toFixed(1))+" "+Ee[ye]},nr=R=>{const D=R.currentTarget.getBoundingClientRect(),me=(R.clientX-D.left)/D.width*k;T(me)};return!e||h?null:a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:`bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-3xl shadow-2xl relative overflow-hidden transition-all duration-300 ${ze?"w-full h-full max-w-none":"w-full max-w-screen-2xl"}`,children:[a.jsx("canvas",{ref:w,className:"absolute inset-0 w-full h-full opacity-70 pointer-events-none z-10",width:1200,height:800}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/60 via-transparent to-gray-900/20 pointer-events-none z-15"}),a.jsxs("div",{className:"relative z-20 flex items-center justify-between p-12 border-b border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br rounded-xl",style:{background:`linear-gradient(135deg, ${he(i)}, ${he(i)}CC)`},children:a.jsx(no,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Audio Player"}),a.jsxs("p",{className:"text-sm text-gray-400",children:[r.length," track",r.length!==1?"s":""," in playlist"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>re(!W),className:`p-3 rounded-xl transition-all duration-200 ${W?"text-white":"bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white"}`,style:{backgroundColor:W?`${he(i)}20`:void 0},children:a.jsx(r0,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>Ge(!ze),className:"p-3 rounded-xl bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white transition-all duration-200",children:ze?a.jsx(s0,{className:"w-6 h-6"}):a.jsx(X1,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>ut(R=>!R),className:"p-3 rounded-xl bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white transition-all duration-200",title:"Visualizer Settings",children:a.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[a.jsx("circle",{cx:"12",cy:"12",r:"3"}),a.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 5 15.4a1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 4.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8 5.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09c0 .66.42 1.24 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 8c.13.21.22.45.22.7V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09c-.25 0-.49.09-.7.22z"})]})}),a.jsx("button",{onClick:()=>p(!0),className:"p-3 rounded-xl bg-gray-700/50 text-gray-400 hover:bg-blue-500 hover:text-white transition-all duration-200",title:"Pop Out Mini Player",children:a.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[a.jsx("path",{d:"M15 3h6v6"}),a.jsx("path",{d:"M10 14L21 3"}),a.jsx("rect",{x:"3",y:"9",width:"13",height:"13",rx:"2"})]})}),a.jsx("button",{onClick:t,className:"p-3 rounded-xl bg-gray-700/50 text-gray-400 hover:bg-red-500 hover:text-white transition-all duration-200",children:a.jsx(Es,{className:"w-6 h-6"})})]})]}),a.jsxs("div",{className:"relative z-20 p-12",children:[a.jsx("div",{className:"text-center mb-10",children:Ie?a.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-400",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:`${he(i)} transparent transparent`}}),a.jsx("span",{className:"text-lg",children:"Loading audio..."})]}):Q?a.jsxs("div",{className:"text-red-400 bg-red-500/10 p-6 rounded-xl",children:[a.jsx("p",{className:"font-medium text-lg",children:"Error"}),a.jsx("p",{className:"text-sm",children:Q}),a.jsx("button",{onClick:()=>{q(null),I(!0),Ae()},className:"mt-3 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg text-sm transition-colors",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"mx-auto w-32 h-32 bg-gradient-to-br rounded-2xl flex items-center justify-center border border-gray-700/50",style:{background:`linear-gradient(135deg, ${he(i)}20, ${he(i)}10)`},children:a.jsx(no,{className:"w-12 h-12",style:{color:he(i)}})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-3 line-clamp-2",children:(n==null?void 0:n.name)||"Unknown Track"}),a.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Zm,{className:"w-5 h-5"}),k>0?xt(k):"--:--"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(no,{className:"w-5 h-5"}),((Gt=n==null?void 0:n.ext)==null?void 0:Gt.toUpperCase())||"AUDIO"]}),(n==null?void 0:n.size)&&a.jsx("span",{children:Kt(n.size)})]}),k===0&&!Ie&&a.jsx("p",{className:"text-sm text-yellow-400 mt-3",children:"Duration unavailable - audio can still be played"})]})]})}),a.jsxs("div",{className:"mb-10 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"w-full h-4 bg-gray-700/50 rounded-full cursor-pointer relative group",onClick:nr,children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`linear-gradient(to right, ${he(i)}20, ${he(i)}10)`}}),a.jsxs("div",{className:"h-full rounded-full transition-all duration-100 relative overflow-hidden",style:{width:`${k&&k>0?x/k*100:0}%`},children:[a.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to right, ${he(i)}, ${he(i)}CC)`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),a.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{left:`${k&&k>0?x/k*100:0}%`,transform:"translate(-50%, -50%)"}})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-4",children:[a.jsx("span",{children:xt(x)}),a.jsx("span",{children:k>0?xt(k):"--:--"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-8",children:[a.jsx("button",{onClick:()=>{Y(!ne)},className:`p-4 rounded-xl transition-all duration-200 ${ne?"text-white":"bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white"}`,style:{backgroundColor:ne?`${he(i)}20`:void 0},children:a.jsx(tw,{className:"w-7 h-7"})}),a.jsx("button",{onClick:o,className:"p-5 rounded-xl bg-gray-700/50 hover:bg-gray-700 transition-all duration-200 group",children:a.jsx(a0,{className:"w-8 h-8 text-white group-hover:scale-110 transition-transform duration-200"})}),a.jsx("button",{onClick:f?P:j,disabled:Ie,className:`p-8 rounded-3xl transition-all duration-300 transform hover:scale-105 ${Ie?"bg-gray-600 cursor-not-allowed opacity-50":f?"shadow-lg shadow-red-500/25":"shadow-lg"}`,style:{background:Ie?void 0:f?"linear-gradient(135deg, #ef4444, #dc2626)":`linear-gradient(135deg, ${he(i)}, ${he(i)}CC)`},children:Ie?a.jsx("div",{className:"w-12 h-12 border-2 border-white border-t-transparent rounded-full animate-spin"}):f?a.jsx(i0,{className:"w-12 h-12 text-white"}):a.jsx(Er,{className:"w-12 h-12 text-white ml-1"})}),a.jsx("button",{onClick:s,className:"p-5 rounded-xl bg-gray-700/50 hover:bg-gray-700 transition-all duration-200 group",children:a.jsx(l0,{className:"w-8 h-8 text-white group-hover:scale-110 transition-transform duration-200"})}),a.jsx("button",{onClick:()=>{We(!ie)},className:`p-4 rounded-xl transition-all duration-200 ${ie?"text-white":"bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white"}`,style:{backgroundColor:ie?`${he(i)}20`:void 0},children:a.jsx(Y1,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"flex items-center gap-6 max-w-md mx-auto",children:[a.jsx("button",{onClick:()=>{_(!V)},className:"p-3 rounded-xl bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white transition-all duration-200",children:V?a.jsx(rw,{className:"w-6 h-6"}):a.jsx(nw,{className:"w-6 h-6"})}),a.jsx("div",{className:"flex-1 relative",children:a.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:E,onChange:R=>{F(Number(R.target.value))},className:"w-full h-3 bg-gray-700/50 rounded-lg appearance-none cursor-pointer volume-slider"})}),a.jsxs("span",{className:"text-sm text-gray-400 min-w-[4rem] text-right",children:[Math.round(E*100),"%"]})]})]})]}),W&&a.jsxs("div",{className:"relative z-20 border-t border-gray-700/50 p-12 max-h-80 overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Playlist"}),a.jsx("div",{className:"space-y-3",children:r.map((R,D)=>{var Ee;return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all duration-200 ${(n==null?void 0:n.id)===R.id?"border":"bg-gray-700/30 hover:bg-gray-700/50"}`,style:{backgroundColor:(n==null?void 0:n.id)===R.id?`${he(i)}20`:void 0,borderColor:(n==null?void 0:n.id)===R.id?`${he(i)}30`:void 0},onClick:()=>{},children:[a.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-white font-medium",children:D+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-base font-medium truncate ${(n==null?void 0:n.id)===R.id,"text-white"}`,style:{color:(n==null?void 0:n.id)===R.id?he(i):void 0},children:R.name}),a.jsx("p",{className:"text-sm text-gray-400",children:(Ee=R.ext)==null?void 0:Ee.toUpperCase()})]}),a.jsx("div",{className:"text-sm text-gray-500",children:R.duration?xt(R.duration):"--:--"})]},R.id)})})]}),Nt&&a.jsxs("div",{className:"absolute right-8 top-24 z-30 bg-gray-900/95 border border-gray-700 rounded-2xl shadow-xl p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Visualizer Settings"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Number of Bars: ",g.visBarCount]}),a.jsx("input",{type:"range",min:"16",max:"96",value:g.visBarCount,onChange:R=>m({...g,visBarCount:Number(R.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Bar Roundness: ",g.visBarRound]}),a.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:g.visBarRound,onChange:R=>m({...g,visBarRound:Number(R.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Glow Strength: ",g.visGlow]}),a.jsx("input",{type:"range",min:"0",max:"24",value:g.visGlow,onChange:R=>m({...g,visGlow:Number(R.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Bar Opacity: ",g.visOpacity]}),a.jsx("input",{type:"range",min:"0.2",max:"1",step:"0.01",value:g.visOpacity,onChange:R=>m({...g,visOpacity:Number(R.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Smoothing: ",g.visSmoothing]}),a.jsx("input",{type:"range",min:"0",max:"0.95",step:"0.01",value:g.visSmoothing,onChange:R=>m({...g,visSmoothing:Number(R.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Visualizer Type:"}),a.jsxs("select",{value:g.visType,onChange:R=>m({...g,visType:R.target.value}),className:"w-full rounded-lg bg-gray-800 text-white p-2",children:[a.jsx("option",{value:"Bars",children:"Bars"}),a.jsx("option",{value:"Waveform",children:"Waveform"}),a.jsx("option",{value:"Mirror Bars",children:"Mirror Bars"})]})]}),a.jsx("button",{onClick:()=>ut(!1),className:"mt-4 w-full py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-600 transition",children:"Close"})]})]})})},xk=()=>{const{currentFolder:e,currentTag:t,folderTree:n,setCurrentFolder:r,setCurrentTag:s}=we(),o=bn();if(t){const c=pw(t);return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 px-4 py-4 bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800",children:[a.jsxs("button",{onClick:()=>{r(null),s(null),o("/")},className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium",children:[a.jsx(Mu,{className:"w-4 h-4"}),a.jsx("span",{children:"Home"})]}),a.jsx(Fu,{className:"w-4 h-4 text-gray-400"}),a.jsx("button",{onClick:()=>o(c.url),className:"font-medium text-gray-900 dark:text-gray-100",children:c.name})]})}if(!e||!n)return null;const i=(c,p)=>{for(const h of c){if(h.id===p)return h;const g=i(h.children,p);if(g)return g}return null},l=i(n,e);if(!l)return null;const u=fw(l,n);return u.length===0?null:a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 px-4 py-4 bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800",children:[a.jsxs("button",{onClick:()=>{r(null),s(null),o("/")},className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium",children:[a.jsx(Mu,{className:"w-4 h-4"}),a.jsx("span",{children:"Home"})]}),u.map((c,p)=>a.jsxs(Z.Fragment,{children:[a.jsx(Fu,{className:"w-4 h-4 text-gray-400"}),a.jsx("button",{onClick:()=>o(c.url),className:`hover:text-gray-900 dark:hover:text-gray-100 transition-colors ${p===u.length-1?"font-medium text-gray-900 dark:text-gray-100":""}`,children:c.name})]},c.id))]})},vk=({className:e=""})=>{const{audioPlayer:t,playNextAudio:n,playPreviousAudio:r,setMiniPlayer:s,closeAudioPlayer:o}=we(),{isPlaying:i,currentTime:l,duration:u,play:c,pause:p,seek:h}=G0();if(!t.currentAudio)return null;const{currentAudio:g}=t,m=()=>i?p():c(),v=()=>{s(!1),o()},w=d=>{h(Number(d.target.value))},y=d=>{const f=Math.floor(d/60),x=Math.floor(d%60);return`${f}:${x.toString().padStart(2,"0")}`};return a.jsxs("div",{className:`bg-gray-900 text-white flex items-center px-4 py-2 rounded-lg shadow gap-4 w-full ${e}`,style:{minHeight:40,maxWidth:"100%"},children:[a.jsx("div",{className:"flex flex-1 min-w-0 items-center gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"truncate font-semibold text-base max-w-full",title:g.name,children:g.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-400 min-w-[2rem]",children:y(l)}),a.jsx("input",{type:"range",min:0,max:u,value:l,onChange:w,className:"flex-1 accent-green-400"}),a.jsx("span",{className:"text-xs text-gray-400 min-w-[2rem]",children:u>0?y(u):"--:--"})]})]})}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>{const d=Math.max(0,l-30);console.log("Skip back 30s:",{currentTime:l,newTime:d,duration:u}),h(d)},className:"p-2 hover:text-accent min-w-[36px]",children:a.jsx(a0,{className:"w-5 h-5"})}),a.jsx("button",{onClick:m,className:"p-2 hover:text-accent min-w-[36px]",children:i?a.jsx(i0,{className:"w-6 h-6"}):a.jsx(Er,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>{const d=Math.min(u,l+30);console.log("Skip forward 30s:",{currentTime:l,newTime:d,duration:u}),h(d)},className:"p-2 hover:text-accent min-w-[36px]",children:a.jsx(l0,{className:"w-5 h-5"})}),a.jsx("button",{onClick:v,className:"p-2 hover:text-red-400 min-w-[36px]",children:a.jsx(Es,{className:"w-5 h-5"})})]})]})};class wk extends b.Component{constructor(n){super(n);jn(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});jn(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900 rounded-full",children:a.jsx($1,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 text-center mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Try Again"]}),a.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(Mu,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})}):this.props.children}}class sd extends b.Component{constructor(n){super(n);jn(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,isNetworkError:!1}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,isNetworkError:!1}}static getDerivedStateFromError(n){const r=n.message.includes("Failed to fetch")||n.message.includes("NetworkError")||n.message.includes("timeout")||n.message.includes("ENOBUFS")||n.name==="TypeError";return{hasError:!0,error:n,isNetworkError:r}}componentDidCatch(n,r){console.error("API Error Boundary caught an error:",n,r)}render(){if(this.state.hasError){const{error:n,isNetworkError:r}=this.state;return a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mb-4 bg-red-100 dark:bg-red-900 rounded-full",children:r?a.jsx(d0,{className:"w-8 h-8 text-red-600 dark:text-red-400"}):a.jsx(f0,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:r?"Connection Error":"API Error"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-4 max-w-md",children:r?"Unable to connect to the server. Please check your internet connection and try again.":"There was an error loading data. Please try again."}),!1,a.jsxs("button",{onClick:this.handleRetry,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})}return this.props.children}}const kk=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!1),[s,o]=b.useState(!1);b.useEffect(()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){o(!0);return}if(window.navigator&&"standalone"in window.navigator&&window.navigator.standalone){o(!0);return}const u=p=>{p.preventDefault(),t(p),setTimeout(()=>{r(!0)},2e3)},c=()=>{o(!0),r(!1),t(null)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",c),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",c)}},[]);const i=async()=>{if(e)try{await e.prompt();const{outcome:u}=await e.userChoice;console.log(u==="accepted"?"PWA installation accepted":"PWA installation dismissed")}catch(u){console.error("Error during PWA installation:",u)}finally{t(null),r(!1)}},l=()=>{r(!1),sessionStorage.setItem("install-prompt-dismissed","true")};return s||!n||sessionStorage.getItem("install-prompt-dismissed")?null:a.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-50 md:max-w-sm md:left-auto",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:a.jsx(Hc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Install Kiwi Photos"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Install the app for faster access and offline viewing"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{onClick:i,className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg transition-colors",children:"Install"}),a.jsx("button",{onClick:l,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Not now"})]})]}),a.jsx("button",{onClick:l,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:a.jsx(Es,{className:"w-4 h-4"})})]})})},bk=()=>{const[e,t]=b.useState(navigator.onLine),[n,r]=b.useState(!1);b.useEffect(()=>{const o=()=>{t(!0),r(!1)},i=()=>{t(!1),r(!0)};return window.addEventListener("online",o),window.addEventListener("offline",i),navigator.onLine||r(!0),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",i)}},[]);const s=()=>{navigator.onLine&&window.location.reload()};return n?a.jsx("div",{className:"fixed top-16 left-4 right-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 z-50 md:max-w-sm md:right-auto",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d0,{className:"w-4 h-4 text-orange-600 dark:text-orange-400 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"You're offline. Some features may be limited."}),e&&a.jsxs("button",{onClick:s,className:"text-xs text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 flex items-center gap-1 mt-1",children:[a.jsx(Co,{className:"w-3 h-3"}),"Reconnected - Refresh"]})]}),e&&a.jsx(f0,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"})]})}):null},Sk=()=>{const[e,t]=b.useState({manifestLoaded:!1,serviceWorkerRegistered:!1,isInstallable:!1,isHTTPS:!1,hasRequiredIcons:!1,beforeInstallPromptFired:!1});return b.useState(!1),b.useEffect(()=>{(async()=>{const s={manifestLoaded:!1,serviceWorkerRegistered:!1,isInstallable:!1,isHTTPS:location.protocol==="https:"||location.hostname==="localhost",hasRequiredIcons:!1,beforeInstallPromptFired:!1};try{const o=await fetch("/manifest.json");if(o.ok){const i=await o.json();s.manifestLoaded=!0,s.hasRequiredIcons=i.icons&&i.icons.length>0}}catch(o){console.error("Manifest check failed:",o)}if("serviceWorker"in navigator)try{const o=await navigator.serviceWorker.getRegistration();s.serviceWorkerRegistered=!!o}catch(o){console.error("Service worker check failed:",o)}t(s)})();const r=s=>{console.log("PWA Debug: beforeinstallprompt fired!",s),t(o=>({...o,beforeInstallPromptFired:!0,isInstallable:!0}))};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("beforeinstallprompt",r)}},[]),null};const th=({isMobile:e})=>{const{setCurrentFolder:t,setCurrentTag:n}=we();return b.useEffect(()=>{t(null),n(null)},[t,n]),a.jsx(sd,{children:a.jsx(Yc,{isMobile:e})})},jk=({isMobile:e})=>{const{tagPath:t}=Lm(),{setCurrentFolder:n,setCurrentTag:r}=we(),s=bn();return b.useEffect(()=>{if(t){const o=hw(t);o?(r(o),n(null)):s("/",{replace:!0})}else r(null),n(null)},[t,r,n,s]),a.jsx(sd,{children:a.jsx(Yc,{isMobile:e})})},Nk=({isMobile:e})=>{const{"*":t}=Lm(),{folderTree:n,setCurrentFolder:r,setCurrentTag:s}=we(),o=bn();return zc(),b.useEffect(()=>{if(t&&n){const i=dw(t,n);i?(r(i),s(null)):o("/",{replace:!0})}else t||(r(null),s(null))},[t,n,r,s,o]),a.jsx(sd,{children:a.jsx(Yc,{isMobile:e})})};function Ck(){const{sidebarOpen:e,setSidebarOpen:t,sidebarWidth:n,currentLibraryPath:r,setCurrentLibraryPath:s,setIsLoading:o,theme:i,toggleTheme:l,isMobile:u,setIsMobile:c,folderTree:p,currentFolder:h,currentTag:g,setCurrentFolder:m,setCurrentTag:v,setFolderTree:w,setAllPhotos:y,sortOptions:d,loadFromCache:f,clearCache:x,isCacheValid:k,cacheProgress:j,audioPlayer:P,closeAudioPlayer:T,playNextAudio:F,playPreviousAudio:_,isMiniPlayer:E}=we(),V=bn();return b.useEffect(()=>{const $=()=>{const ne=window.innerWidth<768;c(ne),ne&&e&&t(!1)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[c,e,t]),b.useEffect(()=>{r&&(async()=>{try{if(o(!0),console.log("Initializing library..."),await f())if(console.log("Loaded library data from cache"),await k()){console.log("Cache is valid, using cached data");return}else console.log("Cache is stale, rebuilding...");console.log("Loading fresh library data...");const Y=await ae.initializeLibrary();Y?(await w(Y.folderTree),await y(Y.allPhotos),console.log("Library initialized successfully")):console.error("Failed to initialize library")}catch(ne){if(console.error("Error initializing library:",ne),ne instanceof Error&&ne.name==="QuotaExceededError"){console.log("Storage quota error, clearing cache and retrying...");try{await x();const Y=await ae.initializeLibrary();Y&&(await w(Y.folderTree),await y(Y.allPhotos))}catch(Y){console.error("Failed to initialize library after cache clear:",Y)}}}finally{o(!1)}})()},[r,s,f,k,w,y,o,x]),b.useEffect(()=>{r||s("X:\\Photos\\lib\\homework.library")},[r,s]),b.useEffect(()=>{const $=ne=>{const Y=ne.detail;console.log("App: Tag selected from detailed view:",Y),v(Y),m(null)};return window.addEventListener("selectTag",$),()=>{window.removeEventListener("selectTag",$)}},[v,m]),a.jsx(wk,{children:a.jsx(gk,{children:a.jsx("div",{className:`min-h-screen ${i==="dark"?"dark":""}`,children:a.jsxs("div",{className:"bg-gray-50 dark:bg-black min-h-screen",children:[a.jsx("header",{className:"bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:`flex items-center justify-between px-4 transition-all duration-300 ease-in-out ${E?"h-24":"py-4"}`,children:[a.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/kiwi.png",alt:"Kiwi",className:"w-8 h-8"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Kiwi"})]})]}),E&&a.jsx("div",{className:"flex-1 flex justify-center items-center min-w-0 mx-4 max-w-6xl",children:a.jsx(vk,{className:"w-full max-w-6xl min-w-[200px]"})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j.isCaching&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-blue-200 dark:border-blue-700 border-t-blue-600 dark:border-t-blue-400 rounded-full animate-spin"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Caching ",j.current.toLocaleString()," / ",j.total.toLocaleString()," files"]}),a.jsx("div",{className:"w-32 h-1 bg-blue-200 dark:bg-blue-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600 dark:bg-blue-400 transition-all duration-300 ease-out",style:{width:`${j.total>0?j.current/j.total*100:0}%`}})})]})]}),a.jsx("button",{onClick:()=>V("/admin"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",title:"Database Admin",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}),a.jsx("button",{onClick:()=>V("/settings"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:a.jsx(ew,{className:"w-5 h-5"})}),a.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:i==="dark"?a.jsx(u0,{className:"w-5 h-5"}):a.jsx(o0,{className:"w-5 h-5"})})]})]})}),a.jsx("div",{className:"transition-all duration-300 ease-in-out",style:{marginLeft:e&&!u?`${n}px`:"0px"},children:a.jsx(xk,{})}),a.jsxs("div",{className:"flex",children:[a.jsx(gw,{}),a.jsx("main",{className:"flex-1 transition-all duration-300 ease-in-out",style:{marginLeft:e&&!u?`${n}px`:"0px"},children:a.jsxs(yv,{children:[a.jsx(ar,{path:"/",element:a.jsx(th,{isMobile:u})}),a.jsx(ar,{path:"/admin",element:a.jsx(dk,{})}),a.jsx(ar,{path:"/folder/*",element:a.jsx(Nk,{isMobile:u})}),a.jsx(ar,{path:"/tag/:tagPath",element:a.jsx(jk,{isMobile:u})}),a.jsx(ar,{path:"/settings",element:a.jsx(Fw,{})}),a.jsx(ar,{path:"*",element:a.jsx(th,{isMobile:u})})]})})]}),e&&u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>t(!1)}),a.jsx(mk,{}),a.jsx(yk,{isOpen:P.isOpen,onClose:T,currentAudio:P.currentAudio,playlist:P.playlist,onNext:F,onPrevious:_}),a.jsx(kk,{}),a.jsx(bk,{}),a.jsx(Sk,{})]})})})})}const Ek=async()=>{if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported"),null;try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log("Service Worker registered successfully:",e),e}catch(e){return console.error("Service Worker registration failed:",e),null}};const Pk=new Hv({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,networkMode:"online"}}});Ek();vl.createRoot(document.getElementById("root")).render(a.jsx(Z.StrictMode,{children:a.jsx(qv,{client:Pk,children:a.jsx(wv,{children:a.jsx(Ck,{})})})}));
//# sourceMappingURL=index-fd361bc1.js.map
